{"version":3,"sources":["pages/constructor-page/constructor-page.module.css","components/ingredient-variants/ingredient-variants.module.css","components/modal-overlay/modal-overlay.module.css","components/filling-ingredient/filling-ingredient.module.css","images/done.png","pages/orders-page/orders-page.module.css","reportWebVitals.ts","components/app-header/app-header.jsx","components/protected-route/protected-route.jsx","utils/utils.js","services/actions/refreshToken.js","services/actions/login.js","pages/login-page.jsx","utils/prop-types.js","services/actions/current-ingredient.js","components/draggable-ingredient/draggable-ingredient.jsx","components/ingredient-variants/ingredient-variants.jsx","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","components/ingredient-details/ingredient-details.jsx","components/burger-ingredients/burger-ingredients.jsx","services/actions/constructor-ingredients.js","components/filling-ingredient/filling-ingredient.jsx","components/order-details/order-details.jsx","services/actions/order.js","components/burger-constructor/burger-constructor.jsx","pages/constructor-page/constructor-page.jsx","services/actions/register.js","pages/register-page.jsx","services/actions/password.js","pages/forgot-password-page.jsx","pages/reset-password-page.jsx","services/actions/logout.js","components/profile-menu/profile-menu.jsx","services/actions/user.js","pages/profile-page/profile-page.jsx","pages/orders-page/orders-page.jsx","pages/ingredient-page.jsx","pages/not-found-page/not-found-page.jsx","services/actions/all-ingredients.js","components/app/app.jsx","services/reducers/all-ingredients.js","services/reducers/order.js","services/reducers/constructor-ingredients.js","services/reducers/auth.js","services/reducers/index.js","services/reducers/current-ingredient.js","services/store.js","index.js","components/ingredient-details/ingredient-details.module.css","components/profile-menu/profile-menu.module.css","components/app-header/app-header.module.css","components/burger-constructor/burger-constructor.module.css","components/draggable-ingredient/draggable-ingredient.module.css","components/order-details/order-details.module.css","components/burger-ingredients/burger-ingredients.module.css","components/modal/modal.module.css","pages/profile-page/profile-page.module.css","pages/not-found-page/not-found-page.module.css","pages/inputs-pages.module.css"],"names":["module","exports","main","list","card","image","priceArea","price","title","overlay","element","__webpack_require__","p","reportWebVitals","onPerfEntry","Function","e","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","AppHeader","pathname","useLocation","react_default","a","createElement","className","concat","appHeader","header","menu","menuLeftColumn","react_router_dom","to","exact","link","activeClassName","active_nav_link","dist","type","logo","ProtectedRoute","children","rest","Object","objectWithoutProperties","user","useSelector","store","auth","isAuthChecked","react_router","assign","render","_ref2","location","state","from","baseUrl","regExp","checkResponse","res","console","log","ok","json","err","Promise","reject","setCookie","name","value","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","document","cookie","getCookie","matches","match","RegExp","replace","decodeURIComponent","undefined","fetchWithRefresh","asyncToGenerator","regenerator_default","mark","_callee","url","options","data","currentRefreshToken","refreshData","_res","_data","wrap","_context","prev","next","fetch","sent","abrupt","t0","message","localStorage","getItem","refreshToken","method","mode","cache","credentials","headers","Content-Type","redirect","referrerPolicy","body","JSON","stringify","token","success","setItem","accessToken","split","objectSpread","Authotization","stop","_x","_x2","apply","this","arguments","LOGIN","LOGIN_SUCCESS","LOGIN_FAILED","LoginPage","_React$useState","React","useState","_React$useState2","slicedToArray","emailValue","setEmailValue","_React$useState3","_React$useState4","passwordValue","setPasswordValue","dispatch","useDispatch","history","useHistory","register","useCallback","forgotPassword","isLogoutChecked","styles","form","action","fieldset","onChange","target","size","onClick","email","password","preventDefault","isLoading","isFailed","isAuth","catch","additional_actions","additional_action","typeOfIngredient","PropTypes","oneOf","shape","_id","string","isRequired","proteins","number","fat","carbohydrates","calories","image_mobile","image_large","__v","GET_CURRENT_INGREDIENT","DraggableIngredient","ingredient","ingredientsCount","constructorIngredients","bun","ingredients","id","setCount","find","itemId","count","startCount","_useDrag","useDrag","item","dragRef","ref","draggable","prevPath","src","IngredientVariants","forwardRef","listOfIngredients","titleId","ingredientName","ingredientVariants","map","index","key","ModalOverlay","onOverlayClick","modalOverlay","modalsContainer","querySelector","Modal","onClose","closeModal","onEscapeClick","event","useEffect","addEventListener","removeEventListener","ReactDOM","createPortal","Fragment","modal","IngredientDetails","useParams","currentIngredient","allIngredients","items","ingredientDetails","nutritionalValue","component","componentName","BurgerIngredients","currentTab","setCurrentTab","tabClick","tab","getElementById","scrollIntoView","behavior","block","_useInView","useInView","threshold","_useInView2","bunRef","inViewBun","_useInView3","_useInView4","sauceRef","inViewSauce","_useInView5","_useInView6","mainRef","inViewMain","bunList","filter","sauceList","mainList","burgerIngredients","section","active","REORDER_INGREDIENT","ADD_TO_CONSTRUCTOR","DELETE_FROM_CONSTRUCTOR","FillingIngredient","useRef","uId","_useDrop","useDrop","accept","collect","monitor","handlerId","getHandlerId","hover","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","reorderIngredient","_useDrop2","drop","isDragging","_useDrag2","opacity","drag","data-handler-id","style","text","thumbnail","handleClose","deleteFromConstructor","OrderDetails","orderNumber","orderDetails","orderId","done","info","GET_ORDER","GET_ORDER_SUCCESS","GET_ORDER_FAILED","CLOSE_ORDER","BurgerConstructor","fillings","bunsPrice","isOrderRejected","order","isOrderModalClosed","useMemo","reduce","prevVal","curVal","uuidv4","addToConstructor","dropRef","_useSelector","placeOrder","ingredientsIdArray","push","forEach","filling","getIngredientsIdArray","isOrderSent","isOrderRejectedd","status","burgerConstructor","compositionArea","isLocked","compositionChangebleList","i","currentIcon","ConstructorPage","DndProvider","backend","HTML5Backend","REGISTER","REGISTER_SUCCESS","REGISTER_FAILED","RegisterPage","nameValue","setNameValue","_React$useState5","_React$useState6","inputRef","login","placeholder","icon","error","onIconClick","errorText","RECOVER_PASSWORD","RECOVER_PASSWORD_SUCCESS","RECOVER_PASSWORD_FAILED","RESET_PASSWORD","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILED","recoverPassword","resetPassword","newPassword","emailToken","ForgotPasswordPage","setValue","_useState","_useState2","cantResetPassword","setCantResetPassword","test","disabled","ResetPasswordPage","newPasswordValue","setNewPasswordValue","codeValue","setCodeValue","LOGOUT","LOGOUT_SUCCESS","LOGOUT_FAILED","ProfileMenu","signOut","nav_list","nav_element","nav_link","nav_button","GET_USER","GET_USER_SUCCESS","GET_USER_FAILED","EDIT_USER","EDIT_USER_SUCCESS","EDIT_USER_FAILED","editUser","newUserData","Authorization","ProfilePage","currentName","currentEmail","loginValue","setLoginValue","setIsButtonsVisible","isNameError","setIsNameError","_useState3","_useState4","isEmailError","setIsEmailError","_useState5","_useState6","isPasswordError","setIsPasswordError","_useState7","_useState8","isInvalidInputs","setIsInvalidInputs","_useState9","_useState10","isButtonsVisible","validateName","length","validateEmail","validatePassword","clearEmailErrors","clearNameErrors","clearPasswordErrors","changeUserData","editCurrentUser","_callee2","_context2","formStyles","onFocus","onBlur","required","buttons_wrapper","buttons_wrapper_visible","OrdersPage","width","IngredientPage","closeIngredientModal","Page404","rights_link","href","GET_ALL_INGREDIENTS","GET_ALL_INGREDIENTS_SUCCESS","GET_ALL_INGREDIENTS_FAILED","App","path","initialState","orderInitialState","constructorInitialState","rootReducer","combineReducers","orice","arr","toConsumableArray","sameIndex","findIndex","sameElement","splice","spliceArr","update","$splice","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","StrictMode","es","app","someContainer","cover_image"],"mappings":"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","file":"static/js/main.4e259a55.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"constructor-page_main__2cmA2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ingredient-variants_list__X2Scw\",\"card\":\"ingredient-variants_card__1NQkn\",\"image\":\"ingredient-variants_image__1cNPR\",\"priceArea\":\"ingredient-variants_priceArea__3cUxI\",\"price\":\"ingredient-variants_price__3hiL9\",\"title\":\"ingredient-variants_title__1dSsn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__3nb6x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"element\":\"filling-ingredient_element__1mGml\"};","module.exports = __webpack_public_path__ + \"static/media/done.04891082.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"orders-page_main__1MQUZ\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\n\nimport appHeader from './app-header.module.css';\n\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\n\nexport default function AppHeader() {\n\n  const {pathname} = useLocation();\n\n  return (\n    <header className={`mt-10 ${appHeader.header}`}>\n      <nav className={`pb-4 pt-4 ${appHeader.menu}`} >\n        <div className={appHeader.menuLeftColumn}>\n          <NavLink to='/' exact={true} className={`text text_type_main-default pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`} activeClassName={appHeader.active_nav_link}>\n            <BurgerIcon type={pathname === '/' ? 'primary' : 'secondary'} />\n            <span className=\"pl-2\">Конструктор</span>\n          </NavLink>\n          <NavLink to='/orders-history' exact={true} className={`text text_type_main-default pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`} activeClassName={appHeader.active_nav_link}>\n            <ListIcon type={pathname === '/orders-history' ? 'primary' : 'secondary'}/>\n            <span className=\"pl-2\">Лента заказов</span>\n          </NavLink>\n        </div>\n        <NavLink to='/profile' className={`text text_type_main-default pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`} activeClassName={appHeader.active_nav_link}>\n          <ProfileIcon type={(pathname === '/profile' || '/profile/orders') ? 'primary' : 'secondary'} />\n          <span className=\"pl-2\">Личный кабинет</span>\n        </NavLink>\n      </nav>\n      <div className={appHeader.logo}>\n        <Logo />\n      </div>\n    </header>\n  )\n}\n","import React from \"react\";\nimport { Route, Redirect, useLocation } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\n\nexport default function ProtectedRoute({ children, ...rest }) {\n\n  const location = useLocation();\n\n  const { user } = useSelector(store => store.auth);\n\n  const {isAuthChecked} = useSelector(store => store.auth);\n\n  if (!isAuthChecked) {\n    return ( <p className=\"text text_type_main-medium\">Загружаем данные...</p>\n    )\n  };\n\n  if (isAuthChecked) {\n    return (\n      <Route\n        {...rest}\n        render={({ location }) =>\n          user ? (\n            children\n          ) : (\n            <Redirect to={{\n              pathname: '/login',\n              state: { from: location }\n            }} />\n          )\n        }\n      />\n    )\n  };\n\n}\n","import { refreshToken } from \"../services/actions/refreshToken\";\n\nconst baseUrl = 'https://norma.nomoreparties.space/api';\n\nconst regExp = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\nfunction checkResponse(res) {\n  console.log(res);\n  console.log(res.ok);\n  return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\n};\n\n// function setCookie(name, value, props) {\n  function setCookie(name, value, props) {\n  // // props = props || {};\n  // // let exp = props.expires;\n  // // if (typeof exp == 'number' && exp) {\n  // //   const d = new Date();\n  // //   d.setTime(d.getTime() + exp * 1000);\n  // //   exp = props.expires = d;\n  // // }\n  // // if (exp && exp.toUTCString) {\n  // //   props.expires = exp.toUTCString();\n  // // }\n  // value = value.split(' ')[1];\n  // value = encodeURIComponent(value);\n  // const updatedCookie = name + '=' + value;\n  // // let updatedCookie = name + '=' + value;\n  // // for (const propName in props) {\n  // //   updatedCookie += '; ' + propName;\n  // //   const propValue = props[propName];\n  // //   if (propValue !== true) {\n  // //     updatedCookie += '=' + propValue;\n  // //   }\n  // // }\n  // document.cookie = updatedCookie;\n\n  // console.log(value);\n  // if (value.indexOf('Bearer') === 0) {\n  //   // Отделяем схему авторизации от \"полезной нагрузки токена\",\n  //   // Стараемся экономить память в куках (доступно 4кб)\n  //   value = value.split('Bearer ')[1];\n  // }\n\n  props = props || {};\n  let exp = props.expires;\n  if (typeof exp == 'number' && exp) {\n    const d = new Date();\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = d;\n  }\n  if (exp && exp.toUTCString) {\n    props.expires = exp.toUTCString();\n  }\n  value = encodeURIComponent(value);\n  let updatedCookie = name + '=' + value;\n  for (const propName in props) {\n    updatedCookie += '; ' + propName;\n    const propValue = props[propName];\n    if (propValue !== true) {\n      updatedCookie += '=' + propValue;\n    }\n  }\n  document.cookie = updatedCookie;\n};\n\nfunction getCookie(name) {\n  const matches = document.cookie.match(\n    new RegExp('(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)')\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n};\n\nconst fetchWithRefresh = async (url, options) => {\n  try {\n    const res = await fetch(url, options);\n    console.log(res);\n    const data = await checkResponse(res);\n    console.log(data);\n    return data;\n  } catch (err) {\n    console.log(err);\n    if (err.message === 'jwt expired') {\n      const currentRefreshToken = localStorage.getItem('refreshToken');\n      const refreshData = await refreshToken(currentRefreshToken);\n      console.log(refreshData);\n      if (!refreshData.success) {\n        return Promise.reject(refreshData);\n      } else {\n        localStorage.setItem('refreshToken', refreshData.refreshToken);\n        setCookie('token', refreshData.accessToken.split('Bearer ')[1]);\n\n        const res = await fetch(url, {\n          ...options,\n            headers: {\n              ...options.headers,\n              Authotization: 'Bearer ' + refreshData.accessToken\n            }\n        });\n        const data = await checkResponse(res);\n        console.log('Всё успешно');\n        return data;\n      }\n    } else {\n      return Promise.reject(err)\n    }\n  }\n};\n\n\nexport {baseUrl, regExp, checkResponse, setCookie, getCookie, fetchWithRefresh};\n\n","import {baseUrl, checkResponse} from '../../utils/utils.js';\n\nconst REFRESH_TOKEN = 'REFRESH_TOKEN';\nconst REFRESH_TOKEN_SUCCESS = 'REFRESH_TOKEN_SUCCESS';\nconst REFRESH_TOKEN_FAILED = 'REFRESH_TOKEN_FAILED';\n\nconst refreshToken = (refreshToken) => {\n  console.log(localStorage.getItem('refreshToken'));\n  return fetch(`${baseUrl}/auth/token`,\n    {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      credentials: 'same-origin',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      redirect: 'follow',\n      referrerPolicy: 'no-referrer',\n      body: JSON.stringify({\n        // \"token\": `{{${localStorage.getItem('refreshToken')}}}`\n        \"token\": refreshToken\n      })\n    }\n  )\n  .then(checkResponse)\n};\n\nexport {REFRESH_TOKEN, REFRESH_TOKEN_SUCCESS, REFRESH_TOKEN_FAILED, refreshToken};\n","import {baseUrl, checkResponse} from '../../utils/utils.js';\n\nconst LOGIN = 'LOGIN';\nconst LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nconst LOGIN_FAILED = 'LOGIN_FAILED';\n\nfunction login(email, password) {\n\n  return function(dispatch) {\n    dispatch({\n      type: LOGIN,\n      isLoading: true,\n      isFailed: false,\n      isAuth: false\n    })\n\n    fetch(`${baseUrl}/auth/login`,\n      {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify({\n          \"email\": email,\n          \"password\": password\n        })\n      }\n    )\n    .then(checkResponse)\n    .then(res => dispatch({\n      type: LOGIN_SUCCESS,\n      isLoading: false,\n      isFailed: false,\n      user: res.user,\n      accessToken: res.accessToken,\n      refreshToken: res.refreshToken,\n      isAuth: true,\n      isLogoutChecked: true\n    }))\n    .catch(err => dispatch({\n      type: LOGIN_FAILED,\n      isLoading: false,\n      isFailed: true,\n      isAuth: false,\n      isLogoutChecked: true\n    }))\n  }\n}\n\nexport {LOGIN, LOGIN_SUCCESS, LOGIN_FAILED, login};\n","import React, { useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {useHistory, useLocation, Redirect} from 'react-router-dom';\n\nimport styles from './inputs-pages.module.css';\n\nimport {Button, EmailInput, PasswordInput} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport { login } from \"../services/actions/login\";\n\nexport default function LoginPage() {\n\n  console.log('Login');\n\n  const { user } = useSelector(store => store.auth);\n\n  const [emailValue, setEmailValue] = React.useState('');\n  const [passwordValue, setPasswordValue] = React.useState('');\n\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const location = useLocation();\n\n  const register = useCallback(\n    () => {\n      history.replace({pathname: '/register'});\n    }, [history]\n  );\n\n  const forgotPassword = useCallback(\n    () => {\n      history.replace({pathname: '/forgot-password'})\n    }, [history]\n  );\n\n  function loginUser(e) {\n    e.preventDefault();\n    console.log('Dispatch login');\n    dispatch(login(emailValue, passwordValue));\n  }\n\n\n  const { from } = location.state || { from: { pathname: '/' } };\n\n  const {isLogoutChecked} = useSelector(store => store.auth);\n\n  if (!isLogoutChecked) {\n    return ( <p className=\"text text_type_main-medium\">Загружаем данные...</p>\n    )\n  };\n\n  if (user) {\n    console.log('Redirect');\n    return (\n      <Redirect\n        to={from}\n      />\n    )\n  };\n\n  return (\n    <main className={styles.main}>\n      <h1 className=\"text text_type_main-medium\">Вход</h1>\n\n      <form className={styles.form} action=\"\">\n        <fieldset className={styles.fieldset}>\n          <EmailInput\n            onChange={e => setEmailValue(e.target.value)}\n            value={emailValue}\n            name={'email'}\n          />\n          <PasswordInput\n            onChange={e => setPasswordValue(e.target.value)}\n            value={passwordValue}\n            name={'password'}\n          />\n        </fieldset>\n        <Button type=\"primary\" size=\"medium\" onClick={loginUser}>\n          Войти\n        </Button>\n      </form>\n\n      <div className={styles.additional_actions}>\n        <div className={styles.additional_action}>\n          <p className=\"text text_type_main-default text_color_inactive\">Вы — новый пользователь?</p>\n          <Button type=\"secondary\" size=\"medium\" onClick={register}>\n            Зарегистрироваться\n          </Button>\n        </div>\n        <div className={styles.additional_action}>\n          <p className=\"text text_type_main-default text_color_inactive\">Забыли пароль?</p>\n          <Button type=\"secondary\" size=\"medium\" onClick={forgotPassword}>\n            Восстановить пароль\n          </Button>\n        </div>\n      </div>\n    </main>\n  )\n}\n","import PropTypes from 'prop-types';\r\n\r\nconst typeOfIngredient = PropTypes.oneOf(['bun', 'sauce', 'main']);\r\n\r\nconst ingredientPropTypes = PropTypes.shape({\r\n  _id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  type: typeOfIngredient,\r\n  proteins: PropTypes.number.isRequired,\r\n  fat: PropTypes.number.isRequired,\r\n  carbohydrates: PropTypes.number.isRequired,\r\n  calories: PropTypes.number.isRequired,\r\n  price: PropTypes.number.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  image_mobile: PropTypes.string.isRequired,\r\n  image_large: PropTypes.string.isRequired,\r\n  __v: PropTypes.number.isRequired\r\n})\r\n\r\nexport {ingredientPropTypes}\r\n","const GET_CURRENT_INGREDIENT = 'GET_CURRENT_INGREDIENTS';\r\nconst GET_CURRENT_INGREDIENT_SUCCESS = 'GET_CURRENT_INGREDIENTS_SUCCESS';\r\nconst GET_CURRENT_INGREDIENT_FAILED = 'GET_CURRENT_INGREDIENTS_FAILED';\r\n\r\nfunction getCurrentIngredient(item) {\r\n  return {\r\n    type: GET_CURRENT_INGREDIENT,\r\n    item\r\n  }\r\n};\r\n\r\nexport {GET_CURRENT_INGREDIENT, getCurrentIngredient, GET_CURRENT_INGREDIENT_SUCCESS, GET_CURRENT_INGREDIENT_FAILED}\r\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useDrag } from 'react-dnd';\n\nimport styles from './draggable-ingredient.module.css';\n\nimport PropTypes from 'prop-types';\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\n\nimport {Counter} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {CurrencyIcon} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport {getCurrentIngredient} from '../../services/actions/current-ingredient.js';\n\nexport default function DraggableIngredient({ingredient}) {\n\n  const ingredientsCount = useSelector(store => store.constructorIngredients.ingredientsCount);\n  const bun = useSelector(store => store.constructorIngredients.ingredients.bun);\n\n  const id = ingredient._id;\n\n  function setCount() {\n    if (bun !== null && bun._id === ingredient._id) {\n      const count = 1;\n      return count;\n    }\n    const count = ingredientsCount.find(element => element.itemId === ingredient._id) === undefined ?\n    null :\n    ingredientsCount.find(element => element.itemId === ingredient._id).count;\n    return count;\n  };\n\n  const startCount = setCount();\n\n  const dispatch = useDispatch();\n\n  function chooseIngredient(ingredient) {\n    dispatch(getCurrentIngredient(ingredient));\n  };\n\n  const location = useLocation();\n\n  const [, dragRef] = useDrag({\n    type: 'ingredient',\n    item: ingredient\n  });\n\n  return (\n    // <li className={` ${styles.card}`} onClick={() => {chooseIngredient(ingredient)}} ref={dragRef} draggable>\n    <li className={` ${styles.card}`} ref={dragRef} draggable>\n      <Link className={styles.link} to={{pathname: `/ingredients/${id}`, state: { prevPath: location.pathname }}}>\n        <img className={`ml-4 mr-4 ${styles.image}`} src={ingredient.image} />\n        { startCount &&\n          <Counter count={setCount()} size=\"default\" />\n        }\n        <div className={styles.priceArea}>\n          <p className={`text text_type_digits-default ${styles.price}`}>{ingredient.price}</p>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n        <p className={`text text_type_main-default ${styles.title}`}>{ingredient.name}</p>\n      </Link>\n    </li>\n  )\n};\n\nDraggableIngredient.propTypes = {\n  ingredient: ingredientPropTypes.isRequired\n}\n","import React  from 'react';\n\nimport ingredientVariants from './ingredient-variants.module.css';\n\nimport PropTypes from 'prop-types';\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\n\nimport DraggableIngredient from '../draggable-ingredient/draggable-ingredient.jsx';\n\n\nexport const IngredientVariants = React.forwardRef((props, ref) => {\n\n  const ingredients = props.listOfIngredients;\n\n  return (\n    <section id={props.titleId}>\n      <h3 className=\"text text_type_main-medium\">{props.ingredientName}</h3>\n      <ul className={`pl-4 pr-4 pb-10 pt-6 ${ingredientVariants.list}`} ref={ref}>\n        {\n          ingredients.map((ingredient, index) => (\n            <DraggableIngredient ingredient={ingredient} key={index}>\n            </DraggableIngredient>\n          ))\n        }\n      </ul>\n\n    </section>\n  )\n})\n\nIngredientVariants.propTypes = {\n  listOfIngredients: PropTypes.arrayOf(ingredientPropTypes.isRequired).isRequired,\n  titleId: PropTypes.oneOf(['buns', 'sauces', 'mains']).isRequired,\n  ingredientName: PropTypes.oneOf(['Булки', 'Соусы', 'Начинки']).isRequired\n}\n\n","import modalOverlay from './modal-overlay.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport React  from 'react';\r\n\r\nexport default function ModalOverlay({onOverlayClick}) {\r\n  return (\r\n    <div className={modalOverlay.overlay} onClick={onOverlayClick}></div>\r\n  )\r\n}\r\n\r\nModalOverlay.propTypes = {\r\n  onOverlayClick: PropTypes.func.isRequired\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport modal from './modal.module.css'\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {CloseIcon} from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport ModalOverlay from '../modal-overlay/modal-overlay.jsx';\r\n\r\n\r\nconst modalsContainer = document.querySelector('#modals');\r\n\r\nexport default function Modal({title, onClose, children}) {\r\n\r\n  function closeModal() {\r\n    onClose();\r\n  }\r\n\r\n  function onEscapeClick(event) {\r\n    if (event.key === \"Escape\") {\r\n      closeModal();\r\n    }\r\n  }\r\n\r\n  function onCrossClick() {\r\n    closeModal();\r\n  }\r\n\r\n  React.useEffect(\r\n    () => {\r\n      document.addEventListener('keydown', onEscapeClick);\r\n\r\n      return () => {\r\n        document.removeEventListener('keydown', onEscapeClick);\r\n      }\r\n    }, []\r\n  )\r\n\r\n\r\n  return ReactDOM.createPortal(\r\n    (<>\r\n      <div className={modal.modal}>\r\n        <div className={`pt-10 pr-10 pl-10 ${modal.header}`}>\r\n          <h3 className={`text text_type_main-large ${modal.title}`}>{title}</h3>\r\n          <div onClick={onCrossClick}>\r\n            <CloseIcon type=\"primary\" />\r\n          </div>\r\n        </div>\r\n        {children}\r\n      </div>\r\n\r\n\r\n      <ModalOverlay onOverlayClick={closeModal}/>\r\n    </>),\r\n\r\n    modalsContainer\r\n  )\r\n};\r\n\r\nModal.propTypes = {\r\n  title: PropTypes.string,\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.element.isRequired\r\n};\r\n","import React  from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport ingredientDetails from './ingredient-details.module.css';\n\nexport default function IngredientDetails() {\n\n  const {id} = useParams();\n\n  // const currentIngredient = useSelector(store => store.currentIngredient);\n\n  const allIngredients = useSelector(store => store.allIngredients.items);\n  const currentIngredient = allIngredients.find(function(ingredient) {\n    return ingredient._id === id;\n  });\n\n  return (\n    <article className={ingredientDetails.card}>\n      <img className={ingredientDetails.image} src={currentIngredient.image_large} />\n      <h4 className='mt-4 mb-8 text text_type_main-medium'>{currentIngredient.name}</h4>\n      <ul className={`mb-15 ${ingredientDetails.nutritionalValue}`}>\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\n          <p className={ingredientDetails.componentName}>Калории,ккал</p>\n          <span className='text_type_digits-default'>{currentIngredient.calories}</span>\n        </li>\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\n          <p className={ingredientDetails.componentName}>Белки, г</p>\n          <span className='text_type_digits-default'>{currentIngredient.proteins}</span>\n        </li>\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\n          <p className={ingredientDetails.componentName}>Жиры, г</p>\n          <span className='text_type_digits-default'>{currentIngredient.fat}</span>\n        </li>\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\n          <p className={ingredientDetails.componentName}>Углеводы, г</p>\n          <span className='text_type_digits-default'>{currentIngredient.carbohydrates}</span>\n        </li>\n      </ul>\n    </article>\n  )\n}\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useInView } from 'react-intersection-observer';\n\nimport burgerIngredients from './burger-ingredients.module.css';\n\nimport {Tab} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport {IngredientVariants} from '../ingredient-variants/ingredient-variants.jsx';\nimport Modal from '../modal/modal.jsx';\nimport IngredientDetails from '../ingredient-details/ingredient-details.jsx';\nimport {getCurrentIngredient} from '../../services/actions/current-ingredient.js'\n\nexport default function BurgerIngredients() {\n\n  const dispatch = useDispatch();\n\n  const [currentTab, setCurrentTab] = React.useState('buns');\n\n  function tabClick(tab) {\n    setCurrentTab(tab);\n    const element = document.getElementById(tab);\n    element.scrollIntoView({behavior: 'smooth', block: 'start'});\n    console.log(element);\n  };\n\n  const [bunRef, inViewBun] = useInView({\n    threshold: 0.1,\n  });\n\n  const [sauceRef, inViewSauce] = useInView({\n    threshold: 0.1,\n  });\n\n  const [mainRef, inViewMain] = useInView({\n    threshold: 0.1,\n  });\n\n  useEffect(() => {\n    if (inViewBun) {\n      setCurrentTab('buns');\n    } else if (inViewSauce) {\n      setCurrentTab('sauces');\n    } else if (inViewMain) {\n      setCurrentTab('mains');\n    }\n  }, [inViewBun, inViewSauce, inViewMain]);\n\n\n  const listOfIngredients = useSelector(store => store.allIngredients.items);\n\n  const bunList = listOfIngredients.filter((ingredient) => {\n    return ingredient.type === \"bun\";\n  })\n\n  const sauceList = listOfIngredients.filter((ingredient) => {\n    return ingredient.type === \"sauce\";\n  })\n\n  const mainList = listOfIngredients.filter((ingredient) => {\n    return ingredient.type === \"main\";\n  })\n\n  const ingredientInModal = useSelector(store => store.currentIngredient);\n\n  return (\n    <>\n      <section className={burgerIngredients.section}>\n        <h2 className='text text_type_main-large mb-5 mt-10'>Соберите бургер</h2>\n        <nav className={`mb-10 ${burgerIngredients.menu}`}>\n          <Tab value=\"buns\" active={currentTab === 'buns'} onClick={tabClick}>\n            Булки\n          </Tab>\n          <Tab value=\"sauces\" active={currentTab === 'sauces'} onClick={tabClick}>\n            Соусы\n          </Tab>\n          <Tab value=\"mains\" active={currentTab === 'mains'} onClick={tabClick}>\n            Начинки\n          </Tab>\n        </nav>\n        <article className={burgerIngredients.ingredients} >\n          <IngredientVariants ingredientName='Булки' listOfIngredients={bunList} titleId='buns' ref={bunRef}/>\n          <IngredientVariants ingredientName='Соусы' listOfIngredients={sauceList} titleId='sauces' ref={sauceRef}/>\n          <IngredientVariants ingredientName='Начинки' listOfIngredients={mainList} titleId='mains' ref={mainRef}/>\n        </article>\n      </section>\n\n      {/* {ingredientInModal &&\n      <Modal title=\"Детали ингредиента\" onClose={() => dispatch(getCurrentIngredient(null))}>\n        <IngredientDetails />\n      </Modal>} */}\n    </>\n  )\n}\n","import { v4 as uuidv4 } from 'uuid';\r\n\r\nconst REORDER_INGREDIENT = 'REORDER_INGREDIENT';\r\nconst ADD_TO_CONSTRUCTOR = 'ADD_TO_CONSTRUCTOR';\r\nconst DELETE_FROM_CONSTRUCTOR = 'DELETE_FROM_CONSTRUCTOR';\r\n\r\nfunction addToConstructor(item) {\r\n  return {\r\n    type: ADD_TO_CONSTRUCTOR,\r\n    item: item,\r\n    uId: uuidv4()\r\n  }\r\n}\r\n\r\nfunction deleteFromConstructor(item, key) {\r\n  return {\r\n    type: DELETE_FROM_CONSTRUCTOR,\r\n    item: item,\r\n    key: key\r\n  }\r\n}\r\n\r\nfunction reorderIngredient(dragIndex, hoverIndex) {\r\n  return {\r\n    type: REORDER_INGREDIENT,\r\n    dragIndex: dragIndex,\r\n    hoverIndex: hoverIndex\r\n  }\r\n}\r\n\r\nexport { ADD_TO_CONSTRUCTOR, DELETE_FROM_CONSTRUCTOR, REORDER_INGREDIENT, addToConstructor, deleteFromConstructor, reorderIngredient};\r\n","import React, { useRef }  from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useDrag, useDrop } from 'react-dnd';\n\nimport styles from './filling-ingredient.module.css';\n\nimport PropTypes from 'prop-types';\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\n\nimport {ConstructorElement} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {DragIcon} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport {deleteFromConstructor, reorderIngredient} from '../../services/actions/constructor-ingredients.js';\n\nexport default function FillingIngredient({ item, index }) {\n\n  const dispatch = useDispatch();\n\n  const ref = useRef(null);\n  const id = item.uId;\n\n  const [{ handlerId }, drop] = useDrop({\n    accept: 'fillings',\n    collect(monitor) {\n      return {\n        handlerId: monitor.getHandlerId(),\n      };\n    },\n    hover(item, monitor) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = index;\n\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      const clientOffset = monitor.getClientOffset();\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      };\n\n      dispatch(reorderIngredient(dragIndex, hoverIndex));\n      item.index = hoverIndex;\n    },\n  });\n\n  const [{ isDragging }, drag] = useDrag({\n    type: 'fillings',\n    item: () => {\n      return { id, index };\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const opacity = isDragging ? 0 : 1;\n\n  drag(drop(ref));\n\n\n  return (\n    <li className={styles.element} draggable ref={ref} data-handler-id={handlerId} style={{ opacity }}>\n      <DragIcon type=\"primary\" />\n      <ConstructorElement\n        text={item.name}\n        price={item.price}\n        thumbnail={item.image}\n        handleClose={() => dispatch(deleteFromConstructor(item, index))}\n      />\n    </li>\n  )\n}\n\nFillingIngredient.propTypes = {\n  item: ingredientPropTypes.isRequired,\n  index: PropTypes.number.isRequired\n}\n","import React  from 'react'\r\n\r\nimport orderDetails from './order-details.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport done from '../../images/done.png';\r\n\r\nexport default function OrderDetails({orderNumber}) {\r\n\r\n  return (\r\n    <article className={orderDetails.card}>\r\n      <p className={`text text_type_digits-large ${orderDetails.orderId}`}>{orderNumber}</p>\r\n      <span className='mt-8 text text_type_main-medium'>идентификатор заказа</span>\r\n      <img className={`mt-15 mb-15 ${orderDetails.image}`} src={done}/>\r\n      <div className={`mb-30 ${orderDetails.info}`}>\r\n        <p className='text text_type_main-default'>Ваш заказ начали готовить</p>\r\n        <p className='text text_type_main-default text_color_inactive'>Дождитесь готовности на орбитальной станции</p>\r\n      </div>\r\n\r\n    </article>\r\n  )\r\n}\r\n\r\nOrderDetails.propTypes = {\r\n  orderNumber: PropTypes.number.isRequired\r\n}\r\n","import {baseUrl, checkResponse} from '../../utils/utils.js';\n\nconst GET_ORDER = 'GET_ORDER';\nconst GET_ORDER_SUCCESS = 'GET_ORDER_SUCCESS';\nconst GET_ORDER_FAILED = 'GET_ORDER_FAILED';\nconst CLOSE_ORDER = \"CLOSE_ORDER\";\n\nfunction getOrder(ingredientsIdArray) {\n  return function(dispatch) {\n    dispatch({\n      type: GET_ORDER,\n      isOrderModalClosed: true,\n      isOrderSent: true,\n      isOrderRejected: false,\n    });\n\n    fetch(`${baseUrl}/orders`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify({\n        \"ingredients\": ingredientsIdArray\n      })\n    })\n    .then(checkResponse)\n    .then(res => {\n      dispatch({\n        type: GET_ORDER_SUCCESS,\n        isOrderModalClosed: false,\n        isOrderSent: false,\n        isOrderRejectedd: false,\n        number: res.order.number\n      })\n    })\n    .catch(err => {console.log(err, err.status);\n      dispatch({\n        type: GET_ORDER_FAILED,\n        isOrderModalClosed: true,\n        isOrderSent: false,\n        isOrderRejected: true\n      })\n    })\n  }\n}\n\nfunction closeOrder() {\n  return {\n    type: CLOSE_ORDER,\n    isOrderModalClosed: true,\n    number: null\n  }\n}\n\nexport { GET_ORDER, GET_ORDER_SUCCESS, GET_ORDER_FAILED, CLOSE_ORDER, getOrder, closeOrder };\n","import React, { useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useDrop } from 'react-dnd';\nimport {useHistory} from 'react-router-dom';\n// import { v4 as uuidv4 } from 'uuid';\n\nimport burgerConstructor from './burger-constructor.module.css';\n\nimport FillingIngredient from '../filling-ingredient/filling-ingredient';\nimport Modal from '../modal/modal.jsx';\nimport OrderDetails from '../order-details/order-details.jsx';\n\nimport {ConstructorElement} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {CurrencyIcon} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {Button} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport { addToConstructor } from '../../services/actions/constructor-ingredients.js';\nimport {getOrder} from '../../services/actions/order.js';\nimport { closeOrder} from '../../services/actions/order.js';\n\n\nexport default function BurgerConstructor () {\n\n  const constructorIngredients = useSelector(store => store.constructorIngredients.ingredients.fillings);\n\n  const bun = useSelector(store => store.constructorIngredients.ingredients.bun);\n\n  const bunsPrice = bun === null ?\n  0 :\n  bun.price * 2;\n\n  const isOrderRejected = useSelector(store => store.order.isOrderRejected);\n  const isOrderModalClosed = useSelector(store => store.order.isOrderModalClosed);\n  const orderNumber = useSelector(store => store.order.number);\n\n  function getIngredientsIdArray() {\n    const ingredientsIdArray = [];\n    if (bun !== null) {\n      ingredientsIdArray.push(bun._id)\n    };\n    constructorIngredients.forEach((filling) => {\n      ingredientsIdArray.push(filling._id);\n    });\n    if (bun !== null) {\n      ingredientsIdArray.push(bun._id)\n    };\n\n    return ingredientsIdArray;\n  };\n\n  const dispatch = useDispatch();\n\n  const price = useMemo(() => {\n    return (\n      constructorIngredients.reduce((prevVal, curVal) => prevVal + curVal.price, bunsPrice)\n    );\n  }, [constructorIngredients]);\n\n  const [, dropRef] = useDrop({\n    accept: 'ingredient',\n    drop(item) {\n      // dispatch({\n      //   type: ADD_TO_CONSTRUCTOR,\n      //   item: item,\n      //   uId: uuidv4()\n      // })\n      dispatch(addToConstructor(item))\n    }\n  });\n\n  const { isAuth, isAuthChecked } = useSelector(store => store.auth);\n  const history = useHistory();\n\n  function placeOrder() {\n    if (!isAuth && isAuthChecked) {\n\n      history.replace({pathname: '/login'})\n    } else {\n      dispatch(getOrder(getIngredientsIdArray()))\n    }\n  }\n\n  return (\n    <>\n      <section className={`${burgerConstructor.section} pt-20`}>\n        <article className={`${burgerConstructor.compositionArea} pt-5`} ref={dropRef}>\n          {\n            bun &&\n            <ConstructorElement className={burgerConstructor.element}\n            type=\"top\"\n            isLocked={true}\n            text={`${bun.name} (верх)`}\n            price={bun.price}\n            thumbnail={bun.image}\n            />\n          }\n          <ul className={burgerConstructor.compositionChangebleList}>\n\n              {constructorIngredients && constructorIngredients.map((ingredient, i) => (\n                <FillingIngredient item={ingredient} index={i} key={ingredient.uId}>\n                </FillingIngredient>\n              ))}\n\n          </ul>\n          {\n            bun &&\n            <ConstructorElement\n            type=\"bottom\"\n            isLocked={true}\n            text={`${bun.name} (низ)`}\n            price={bun.price}\n            thumbnail={bun.image}\n            />\n          }\n        </article>\n        <article className={`mt-10 ${burgerConstructor.info}`}>\n          <div className={burgerConstructor.priceArea}>\n            <p className=\"text text_type_digits-medium\">\n              {\n                price\n              }\n            </p>\n            <div className={burgerConstructor.currentIcon}>\n              <CurrencyIcon type=\"primary\" />\n            </div>\n          </div>\n          {/* <Button type=\"primary\" size=\"large\" onClick={() => {dispatch(getOrder(getIngredientsIdArray()))}}> */}\n          <Button type=\"primary\" size=\"large\" onClick={() => {placeOrder()}}>\n            Оформить заказ\n          </Button>\n        </article>\n      </section>\n\n      {\n        !isOrderRejected &&\n        !isOrderModalClosed &&\n        (\n          <Modal\n            title=\"\"\n            onClose={() => dispatch(closeOrder())}\n          >\n            <OrderDetails\n              orderNumber={orderNumber}\n            />\n          </Modal>\n        )\n      }\n    </>\n  )\n}\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nimport styles from './constructor-page.module.css';\n\nimport BurgerIngredients from '../../components/burger-ingredients/burger-ingredients.jsx';\nimport BurgerConstructor from '../../components/burger-constructor/burger-constructor.jsx';\n\nexport default function ConstructorPage() {\n\n  console.log('Constructor Page');\n\n  const {isLoading, isFailed} = useSelector(store => store.allIngredients);\n  const listOfIngredients = useSelector(store => store.allIngredients.items);\n\n  return (\n    <main className={styles.main}>\n      <DndProvider backend={HTML5Backend}>\n\n      {\n        isLoading && <p className=\"text text_type_main-medium\">Загружаем данные...</p>\n      }\n      {\n        isFailed && <p className=\"text text_type_main-medium\">Не удаётся загрузить данные. Пожалуйста, повторите попытку</p>\n      }\n      {\n        listOfIngredients &&\n        <>\n          <BurgerIngredients />\n          <BurgerConstructor />\n        </>\n      }\n      </DndProvider>\n    </main>\n  )\n}\n","import {baseUrl, checkResponse} from '../../utils/utils.js';\n\nconst REGISTER = 'REGISTER';\nconst REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nconst REGISTER_FAILED = 'REGISTER_FAILED';\n\nfunction register(name, email, password) {\n  console.log(name, email, password);\n\n  return function(dispatch) {\n    dispatch({\n      type: REGISTER,\n      isLoading: true,\n      isFailed: false,\n      isAuth: false\n    })\n\n    fetch(`${baseUrl}/auth/register`,\n      {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n        body: JSON.stringify({\n          \"email\": email,\n          \"password\": password,\n          \"name\": name\n        })\n      }\n    )\n    .then(checkResponse)\n    .then(res => dispatch({\n      type: REGISTER_SUCCESS,\n      isLoading: false,\n      isFailed: false,\n      user: res.user,\n      accessToken: res.accessToken,\n      refreshToken: res.refreshToken,\n      isAuth: true\n    }))\n    .catch(err => dispatch({\n      type: REGISTER_FAILED,\n      isLoading: false,\n      isFailed: true,\n      isAuth: false\n    }))\n  }\n}\n\nexport {REGISTER, REGISTER_SUCCESS, REGISTER_FAILED, register};\n","import React, { useCallback} from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {useHistory, Redirect} from 'react-router-dom';\n\nimport styles from './inputs-pages.module.css';\n\nimport {Input, Button, EmailInput, PasswordInput} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport { register } from \"../services/actions/register\";\n\nexport default function RegisterPage() {\n\n  const { user } = useSelector(store => store.auth);\n\n  const [nameValue, setNameValue] = React.useState('');\n  const [emailValue, setEmailValue] = React.useState('');\n  const [passwordValue, setPasswordValue] = React.useState('');\n\n  const inputRef = React.useRef(null);\n  const onIconClick = () => {\n    // setTimeout(() => inputRef.current.focus(), 0)\n    // alert('Icon Click Callback')\n  };\n\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const login = useCallback(\n    () => {\n      history.replace({pathname: '/login'})\n    }, [history]\n  );\n\n  function createUser(e) {\n    e.preventDefault();\n    dispatch(register(nameValue, emailValue, passwordValue));\n  }\n\n  if (user) {\n    console.log('Redirect');\n    return (\n      <Redirect\n        to={{\n          pathname: '/'\n        }}\n      />\n    )\n  };\n\n  return (\n    <main className={styles.main}>\n      <h1 className=\"text text_type_main-medium\">Регистрация</h1>\n\n      <form className={styles.form} action=\"\">\n        <fieldset className={styles.fieldset}>\n          <Input\n              type={'text'}\n              placeholder={'Имя'}\n              onChange={e => setNameValue(e.target.value)}\n              icon={'CurrencyIcon'}\n              value={nameValue}\n              name={'name'}\n              error={false}\n              ref={inputRef}\n              onIconClick={onIconClick}\n              errorText={'Ошибка'}\n              size={'default'}\n            />\n            <EmailInput\n              onChange={e => setEmailValue(e.target.value)}\n              value={emailValue}\n              name={'email'}\n            />\n            <PasswordInput\n              onChange={e => setPasswordValue(e.target.value)}\n              value={passwordValue}\n              name={'password'}\n            />\n        </fieldset>\n        <Button type=\"primary\" size=\"medium\" onClick={createUser}>\n          Зарегистрироваться\n        </Button>\n      </form>\n\n      <div className={styles.additional_actions}>\n        <div className={styles.additional_action}>\n          <p className=\"text text_type_main-default text_color_inactive\">Уже зарегистрированы?</p>\n          <Button type=\"secondary\" size=\"medium\" onClick={login}>\n            Войти\n          </Button>\n        </div>\n      </div>\n    </main>\n  )\n}\n","import {baseUrl, checkResponse} from '../../utils/utils.js';\n\nconst RECOVER_PASSWORD = 'RECOVER_PASSWORD';\nconst RECOVER_PASSWORD_SUCCESS = 'RECOVER_PASSWORD_SUCCESS';\nconst RECOVER_PASSWORD_FAILED = 'RECOVER_PASSWORD_FAILED';\n\nconst RESET_PASSWORD = 'RESET_PASSWORD';\nconst RESET_PASSWORD_SUCCESS = 'RESET_PASSWORD_SUCCESS';\nconst RESET_PASSWORD_FAILED = 'RESET_PASSWORD_FAILED';\n\n\nfunction recoverPassword(email) {\n\n  console.log('Recover password');\n  return function(dispatch) {\n    dispatch({\n      type: RECOVER_PASSWORD,\n    })\n\n    fetch(`${baseUrl}/password-reset`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8'\n        },\n        body: JSON.stringify({\n          \"email\": email\n        })\n      }\n    )\n    .then(checkResponse)\n    .then(res => dispatch({\n      type: RECOVER_PASSWORD_SUCCESS,\n    }))\n    .catch(err => dispatch({\n      type: RECOVER_PASSWORD_FAILED,\n    }))\n  }\n};\n\nfunction resetPassword(newPassword, emailToken) {\n\n  return function(dispatch) {\n    dispatch({\n      type: RESET_PASSWORD,\n    })\n\n    fetch(`${baseUrl}/password-reset/reset`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8'\n        },\n        body: JSON.stringify({\n          \"password\": newPassword,\n          \"token\": emailToken\n        })\n      }\n    )\n    .then(checkResponse)\n    .then(res => dispatch({\n      type: RESET_PASSWORD_SUCCESS\n    }))\n    .catch(err => dispatch({\n      type: RESET_PASSWORD_FAILED\n    }))\n  }\n}\n\nexport {RESET_PASSWORD, RESET_PASSWORD_SUCCESS, RESET_PASSWORD_FAILED, RECOVER_PASSWORD, RECOVER_PASSWORD_SUCCESS, RECOVER_PASSWORD_FAILED, recoverPassword, resetPassword};\n","import React, { useState, useCallback } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {useHistory, Redirect, useLocation} from 'react-router-dom';\n\nimport styles from './inputs-pages.module.css';\n\nimport {Button, Input} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport {regExp} from '../utils/utils.js';\n\nimport { recoverPassword } from \"../services/actions/password\";\n\nexport default function ForgotPasswordPage() {\n\n  const { user } = useSelector(store => store.auth);\n  const [value, setValue] = React.useState('');\n  const inputRef = React.useRef(null);\n  const onIconClick = () => {\n    // setTimeout(() => inputRef.current.focus(), 0)\n    // alert('Icon Click Callback')\n  };\n\n  const [cantResetPassword, setCantResetPassword] = useState(true);\n\n  function validateEmail() {\n    if (regExp.test(value)) {\n      setCantResetPassword(false)\n    } else {\n      setCantResetPassword(true)\n    }\n  };\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  const login = useCallback(\n    () => {\n      history.replace({pathname: '/login'})\n    }, [history]\n  );\n\n  function recover(e) {\n    e.preventDefault();\n    (async () => {\n      await dispatch(recoverPassword(value));\n      console.log('test');\n      history.replace({pathname: '/reset-password', state: { from: location }})\n    })();\n  };\n\n  if (user) {\n    console.log('Redirect');\n    return (\n      <Redirect\n        to={{\n          pathname: '/'\n        }}\n      />\n    )\n  };\n\n  return (\n    <main className={styles.main}>\n      <h1 className=\"text text_type_main-medium\">Восстановление пароля</h1>\n\n      <form className={styles.form} action=\"\">\n        <fieldset className={styles.fieldset}>\n          <Input\n            type={'email'}\n            placeholder={'Укажите e-mail'}\n            onChange={e => {setValue(e.target.value); validateEmail()}}\n            icon={'EditIcon'}\n            value={value}\n            name={'name'}\n            error={false}\n            ref={inputRef}\n            onIconClick={onIconClick}\n            errorText={'Ошибка'}\n            size={'default'}\n          />\n        </fieldset>\n        <Button type=\"primary\" size=\"medium\" onClick={recover} disabled={cantResetPassword}>\n          Восстановить\n        </Button>\n      </form>\n\n      <div className={styles.additional_actions}>\n        <div className={styles.additional_action}>\n          <p className=\"text text_type_main-default text_color_inactive\">Вспомнили пароль?</p>\n          <Button type=\"secondary\" size=\"medium\" onClick={login}>\n            Войти\n          </Button>\n        </div>\n      </div>\n    </main>\n  )\n}\n","import React, { useCallback} from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {useHistory, Redirect, useLocation} from 'react-router-dom';\n\nimport styles from './inputs-pages.module.css';\n\nimport {Button, Input} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport { resetPassword } from \"../services/actions/password\";\n\nexport default function ResetPasswordPage() {\n\n  const { user } = useSelector(store => store.auth);\n  console.log(user);\n\n  const [newPasswordValue, setNewPasswordValue] = React.useState('');\n  const [codeValue, setCodeValue] = React.useState('');\n\n  const inputRef = React.useRef(null);\n  const onIconClick = () => {\n    // setTimeout(() => inputRef.current.focus(), 0)\n    // alert('Icon Click Callback')\n  };\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n\n  const { from } = location.state || { from: { pathname: '/' } };\n\n  if (from.pathname !== '/forgot-password') {\n    console.log('Redirect');\n    return (\n      <Redirect\n        to={from}\n      />\n    )\n  };\n\n  const login = useCallback(\n    () => {\n      history.replace({pathname: '/login'})\n    }, [history]\n  );\n\n  function changePassword(e) {\n    e.preventDefault();\n\n    (async () => {\n      await dispatch(resetPassword(newPasswordValue, codeValue));\n      console.log('test 2');\n      history.replace({pathname: '/profile'});\n    })();\n  };\n\n  if (user) {\n    console.log('Redirect');\n    return (\n      <Redirect\n        to={{\n          pathname: '/'\n        }}\n      />\n    )\n  };\n\n  return (\n    <main className={styles.main}>\n      <h1 className=\"text text_type_main-medium\">Восстановление пароля</h1>\n\n      <form className={styles.form} action=\"\">\n        <fieldset className={styles.fieldset}>\n          <Input\n            type={'password'}\n            placeholder={'Введите новый пароль'}\n            onChange={e => setNewPasswordValue(e.target.value)}\n            icon={'ShowIcon'}\n            value={newPasswordValue}\n            name={'name'}\n            error={false}\n            ref={inputRef}\n            onIconClick={onIconClick}\n            errorText={'Ошибка'}\n            size={'default'}\n          />\n          <Input\n            type={'text'}\n            placeholder={'Введите код из письма'}\n            onChange={e => setCodeValue(e.target.value)}\n            icon={'EditIcon'}\n            value={codeValue}\n            name={'name'}\n            error={false}\n            ref={inputRef}\n            onIconClick={onIconClick}\n            errorText={'Ошибка'}\n            size={'default'}\n          />\n        </fieldset>\n        <Button type=\"primary\" size=\"medium\" onClick={changePassword}>\n          Сохранить\n        </Button>\n      </form>\n\n      <div className={styles.additional_actions}>\n        <div className={styles.additional_action}>\n          <p className=\"text text_type_main-default text_color_inactive\">Вспомнили пароль?</p>\n          <Button type=\"secondary\" size=\"medium\" onClick={login}>\n            Войти\n          </Button>\n        </div>\n      </div>\n    </main>\n  )\n};\n","import {baseUrl, checkResponse} from '../../utils/utils.js';\n\nconst LOGOUT = 'LOGOUT';\nconst LOGOUT_SUCCESS = 'LOGOUT_SUCCESS';\nconst LOGOUT_FAILED = 'LOGOUT_FAILED';\n\nfunction logout() {\n\n  return function(dispatch) {\n    dispatch({\n      type: LOGOUT,\n      isLogoutChecked: false\n    })\n\n    fetch(`${baseUrl}/auth/logout`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"token\": localStorage.getItem('refreshToken')\n        })\n      }\n    )\n    .then(checkResponse)\n    .then(res => {\n      console.log(res)\n      dispatch({\n        type: LOGOUT_SUCCESS,\n        user: null,\n        accessToken: null,\n        isAuth: false,\n        isAuthChecked: true,\n        isLogoutChecked: true\n    })})\n    .catch(err => {\n      console.log(err)\n      dispatch({\n        type: LOGOUT_FAILED,\n        // isLogoutChecked: false\n        isLogoutChecked: true\n    })})\n  }\n}\n\nexport {LOGOUT, LOGOUT_SUCCESS, LOGOUT_FAILED, logout};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { NavLink, useHistory } from 'react-router-dom';\n\nimport styles from './profile-menu.module.css';\n\nimport { logout } from \"../../services/actions/logout\";\nimport { setCookie, getCookie } from \"../../utils/utils\";\n\nexport default function ProfileMenu() {\n\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n\n  const signOut = async () => {\n    await dispatch(logout());\n    console.log(getCookie('token'));\n  }\n\n  const logoutFromAccount = () => {\n    console.log('Exit click');\n    signOut().then(() => {\n      setCookie('token', null, { expires: -1 });\n      history.replace({ pathname: '/login' });\n    });\n  };\n\n  return (\n    <section className={styles.menu}>\n      <nav>\n        <ul className={styles.nav_list}>\n          <li className={`${styles.nav_element}`}>\n            <NavLink to={'/profile'} exact={true} className={`text text_type_main-medium ${styles.nav_link}`} activeClassName={styles.active_nav_link}>Профиль</NavLink>\n          </li>\n          <li className={`${styles.nav_element}`}>\n            <NavLink to={'/profile/orders'} exact={true} className={`text text_type_main-medium ${styles.nav_link}`} activeClassName={styles.active_nav_link}>История заказов</NavLink>\n          </li>\n          <li className={`${styles.nav_element}`}>\n            <button className={`text text_type_main-medium ${styles.nav_button}`} onClick={logoutFromAccount}>Выход</button>\n          </li>\n        </ul>\n      </nav>\n\n      <p className={`${styles.info} text text_type_main-default text_color_inactive`}>\n        В этом разделе вы можете изменить свои персональные данные\n      </p>\n    </section>\n  )\n}\n","import {baseUrl, getCookie, fetchWithRefresh} from '../../utils/utils.js';\nconsole.log(getCookie('token'));\n\nconst GET_USER = 'GET_USER';\nconst GET_USER_SUCCESS = 'GET_USER_SUCCESS';\nconst GET_USER_FAILED = 'GET_USER_FAILED';\n\nconst EDIT_USER = 'EDIT_USER';\nconst EDIT_USER_SUCCESS = 'EDIT_USER_SUCCESS';\nconst EDIT_USER_FAILED = 'EDIT_USER_FAILED';\n\nfunction getUser() {\n\n  return function(dispatch) {\n    dispatch({\n      type: GET_USER,\n      isAuth: false,\n      isAuthChecked: false\n    })\n\n    fetchWithRefresh(`${baseUrl}/auth/user`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + getCookie('token')\n        // Authorization: getCookie('token')\n      }\n    })\n    .then(res => dispatch({\n      type: GET_USER_SUCCESS,\n      user: res.user,\n      isAuth: true,\n      isAuthChecked: true,\n      // isLogout: false\n      isLogoutChecked: true\n    }))\n    .catch(err => dispatch({\n      type: GET_USER_FAILED,\n      isAuth: false,\n      isAuthChecked: true,\n      isLogoutChecked: true\n    }))\n  }\n};\n\nfunction editUser(newUserData) {\n\n  console.log(newUserData);\n  return function(dispatch) {\n    dispatch({\n      type: EDIT_USER\n    })\n\n    fetchWithRefresh(`${baseUrl}/auth/user`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + getCookie('token')\n      },\n      body: JSON.stringify(\n        newUserData\n      )\n    })\n    .then(res => dispatch({\n      type: EDIT_USER_SUCCESS,\n      user: res.user,\n    }))\n    .catch(err => dispatch({\n      type: EDIT_USER_FAILED,\n    }))\n  }\n}\n\nexport {GET_USER, GET_USER_SUCCESS, GET_USER_FAILED, EDIT_USER, EDIT_USER_SUCCESS, EDIT_USER_FAILED, getUser, editUser};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport styles from './profile-page.module.css';\nimport formStyles from '../inputs-pages.module.css';\n\nimport { Input, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport ProfileMenu from '../../components/profile-menu/profile-menu.jsx';\nimport { editUser } from \"../../services/actions/user\";\nimport { regExp } from \"../../utils/utils\";\n\n\nexport default function ProfilePage() {\n\n  const currentName = useSelector(store => store.auth.user.name);\n  const currentEmail = useSelector(store => store.auth.user.email);\n\n  const [nameValue, setNameValue] = React.useState(currentName);\n  const [loginValue, setLoginValue] = React.useState(currentEmail);\n  const [passwordValue, setPasswordValue] = React.useState('');\n  const inputRef = React.useRef(null);\n  const onIconClick = () => {\n    setIsButtonsVisible(true);\n  };\n\n  const [isNameError, setIsNameError] = useState(false);\n  const [isEmailError, setIsEmailError] = useState(false);\n  const [isPasswordError, setIsPasswordError] = useState(false);\n\n  const [isInvalidInputs, setIsInvalidInputs] = useState(false);\n  const [isButtonsVisible, setIsButtonsVisible] = useState(false);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    (!isNameError && !isEmailError && !isPasswordError) ? setIsInvalidInputs(false) : setIsInvalidInputs(true)\n  }, [isNameError, isEmailError, isPasswordError]);\n\n  function validateName() {\n    if (nameValue.length >=2 && nameValue.length < 21) {\n      setIsNameError(false)\n    } else {\n      setIsNameError(true);\n      setIsInvalidInputs(true)\n    }\n    // (nameValue.length >=2 && nameValue.length < 21) ? (setIsNameError(false)) : (setIsNameError(true), setIsInvalidInputs(true));\n  };\n\n  function validateEmail() {\n    if (regExp.test(loginValue)) {\n      setIsEmailError(false)\n    } else {\n      setIsEmailError(true);\n      setIsInvalidInputs(true)\n    }\n  };\n\n  function validatePassword() {\n    // if (passwordValue.length === 0 || (passwordValue.length >=8 && passwordValue.length < 21)) {\n    if ((passwordValue.length >=8 && passwordValue.length < 21)) {\n      setIsPasswordError(false)\n    } else {\n      setIsPasswordError(true);\n      setIsInvalidInputs(true)\n    }\n    // (passwordValue.length >=8 && passwordValue.length < 21) ? (setIsPasswordError(false)) : (setIsPasswordError(true), setIsInvalidInputs(true));\n  }\n\n  function checkFormValidity() {\n    validateName();\n    validateEmail();\n    validatePassword();\n  }\n\n  function clearEmailErrors() {\n    setIsEmailError(false);\n  };\n\n  function clearNameErrors() {\n    setIsNameError(false)\n  };\n\n  function clearPasswordErrors() {\n    setIsPasswordError(false)\n  };\n\n  function clearAllErrors() {\n    clearEmailErrors();\n    clearNameErrors();\n    clearPasswordErrors();\n  };\n\n  function resetNewData(e) {\n    e.preventDefault();\n    clearAllErrors();\n    if (isInvalidInputs) {\n      return null\n    };\n    setNameValue(currentName);\n    setLoginValue(currentEmail);\n    setPasswordValue('');\n    setIsButtonsVisible(false);\n  };\n\n  const changeUserData = async (newUserData) => {\n    await dispatch(editUser(newUserData));\n  };\n\n  const editCurrentUser = async (e) => {\n    e.preventDefault();\n    checkFormValidity();\n    const newUserData = {\n      'name': nameValue,\n      'email': loginValue,\n      'password': passwordValue\n    };\n    console.log(newUserData);\n    changeUserData(newUserData).then(() => {\n      setIsButtonsVisible(false);\n      console.log(\"Edit User\");\n    });\n  };\n\n\n  return (\n    <main className={styles.main}>\n\n      <ProfileMenu />\n\n      <form className={formStyles.form} action=\"\">\n        <fieldset className={formStyles.fieldset}>\n          <Input\n            type={'text'}\n            placeholder={'Имя'}\n            onChange={e => {setIsButtonsVisible(true); setNameValue(e.target.value)}}\n            onFocus={clearNameErrors}\n            onBlur={validateName}\n            icon={'EditIcon'}\n            value={nameValue}\n            name={'name'}\n            error={isNameError}\n            ref={inputRef}\n            onIconClick={onIconClick}\n            errorText={'Длина имени должна быть от 2 до 20 символов'}\n            size={'default'}\n          />\n          <Input\n            type={'text'}\n            placeholder={'Логин'}\n            onChange={e => {setIsButtonsVisible(true); setLoginValue(e.target.value)}}\n            onFocus={clearEmailErrors}\n            onBlur={validateEmail}\n            icon={'EditIcon'}\n            value={loginValue}\n            name={'email'}\n            error={isEmailError}\n            ref={inputRef}\n            onIconClick={onIconClick}\n            errorText={'Введите корректный адрес электронной почты'}\n            size={'default'}\n          />\n          <Input\n            type={'password'}\n            placeholder={'Пароль'}\n            onChange={e => {setIsButtonsVisible(true); setPasswordValue(e.target.value)}}\n            onFocus={clearPasswordErrors}\n            onBlur={validatePassword}\n            icon={'EditIcon'}\n            value={passwordValue}\n            name={'name'}\n            error={isPasswordError}\n            ref={inputRef}\n            onIconClick={onIconClick}\n            errorText={'Пароль должен содержать от 8 до 20 символов'}\n            size={'default'}\n            required={false}\n          />\n        </fieldset>\n        <div className={`${styles.buttons_wrapper} ${isButtonsVisible ? styles.buttons_wrapper_visible : null}`}>\n          <Button type=\"secondary\" size=\"medium\" onClick={resetNewData}>\n            Отмена\n          </Button>\n          <Button type=\"primary\" size=\"medium\" onClick={editCurrentUser} disabled={isInvalidInputs}>\n            Сохранить\n          </Button>\n        </div>\n      </form>\n    </main>\n  )\n}\n","import React from \"react\";\n\nimport styles from './orders-page.module.css';\n\nimport ProfileMenu from '../../components/profile-menu/profile-menu.jsx';\n\n\nexport default function OrdersPage() {\n  console.log('Orders page');\n  return (\n    <main className={styles.main}>\n      <ProfileMenu />\n\n      <div style={{width: '480px'}}>История заказов</div>\n    </main>\n  )\n}\n","import React, { useCallback } from \"react\";\nimport { useSelector } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport Modal from '../components/modal/modal.jsx';\nimport IngredientDetails from \"../components/ingredient-details/ingredient-details\";\n\n\nexport default function IngredientPage() {\n\n  const allIngredients = useSelector(store => store.allIngredients.items);\n\n  const history = useHistory();\n\n  const closeIngredientModal = useCallback(\n    () => {\n      history.replace({pathname: '/'})\n    }, [history]\n  );\n\n  const location = useLocation();\n\n  if (!allIngredients) {\n    return ( <p className=\"text text_type_main-medium\">Загружаем данные...</p>\n    )\n  };\n\n  if (location.state !== undefined && location.state.prevPath === '/') {\n    return (\n      <Modal title=\"Детали ингредиента\" onClose={closeIngredientModal}>\n      <IngredientDetails />\n    </Modal>\n    )\n  } else {\n    return (\n      <main>\n        <IngredientDetails />\n      </main>\n    )\n  };\n\n  // return (\n  //   <main>\n  //     {/* <Modal title=\"Детали ингредиента\" onClose={() => dispatch(getCurrentIngredient(null))}> */}\n  //     <Modal title=\"Детали ингредиента\" onClose={closeIngredientModal}>\n  //       <IngredientDetails />\n  //     </Modal>\n  //   </main>\n  // )\n}\n","import React from \"react\";\n\nimport styles from './not-found-page.module.css';\n\nexport default function Page404() {\n  return (\n    <>\n      <main className={styles.main}>\n        <h1 className={`text text_type_main-large ${styles.title}`}>Оууу, страница не найдена. Попробуйте вернуться назад<span>&#127776;</span></h1>\n        <a className={styles.rights_link} href=\"https://ru.freepik.com/photos/background\">Background фото создан(а) kjpargeter - ru.freepik.com</a>\n      </main>\n    </>\n  )\n}\n","import {baseUrl, checkResponse} from '../../utils/utils.js';\n\nconst GET_ALL_INGREDIENTS = 'GET_ALL_INGREDIENTS';\nconst GET_ALL_INGREDIENTS_SUCCESS = 'GET_ALL_INGREDIENTS_SUCCESS';\nconst GET_ALL_INGREDIENTS_FAILED = 'GET_ALL_INGREDIENTS_FAILED';\n\nfunction getAllIngredients() {\n  return function(dispatch) {\n    dispatch({\n      type: GET_ALL_INGREDIENTS,\n      isLoading: true,\n      isFailed: false,\n    })\n\n    fetch(`${baseUrl}/ingredients`)\n      .then(checkResponse)\n      .then (res => {\n        dispatch({\n          type: GET_ALL_INGREDIENTS_SUCCESS,\n          isLoading: false,\n          isFailed: false,\n          items: res.data\n        })\n      })\n      .catch(err => dispatch({\n        type: GET_ALL_INGREDIENTS_FAILED,\n        isLoading: false,\n        isFailed: true,\n      }))\n  }\n};\n\nexport {GET_ALL_INGREDIENTS, GET_ALL_INGREDIENTS_SUCCESS, GET_ALL_INGREDIENTS_FAILED, getAllIngredients};\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Switch, BrowserRouter, Route } from 'react-router-dom';\n\nimport AppHeader from '../app-header/app-header.jsx';\n\nimport ProtectedRoute from '../protected-route/protected-route.jsx';\nimport {LoginPage, ConstructorPage, RegisterPage, ForgotPasswordPage, ResetPasswordPage, ProfilePage, OrdersPage, IngredientPage, Page404} from '../../pages/index.jsx';\n\nimport { getUser } from '../../services/actions/user';\nimport { getCookie } from '../../utils/utils';\nimport {getAllIngredients} from '../../services/actions/all-ingredients.js';\n\nfunction App() {\n\n  const dispatch = useDispatch();\n\n  console.log(getCookie('token'));\n\n  const allIngredients = useSelector(store => store.allIngredients.items);\n  console.log(allIngredients);\n\n  useEffect(()=> {\n    dispatch(getAllIngredients());\n    console.log(allIngredients);\n  }, []);\n\n  useEffect(() => {\n    dispatch(getUser());\n  }, []);\n\n  return (\n    <>\n        {/* <AppHeader /> */}\n        <BrowserRouter>\n        <AppHeader />\n          <Switch>\n            <Route path='/' exact={true}>\n              <ConstructorPage/>\n            </Route>\n\n            <Route path='/login' exact={true}>\n              <LoginPage/>\n            </Route>\n\n            <Route path='/register'>\n              <RegisterPage/>\n            </Route>\n\n\n            <Route path='/forgot-password'>\n              <ForgotPasswordPage/>\n            </Route>\n\n            <Route path='/reset-password'>\n              <ResetPasswordPage/>\n            </Route>\n\n            <ProtectedRoute path='/profile' exact={true}>\n              <ProfilePage/>\n            </ProtectedRoute>\n\n            <ProtectedRoute path='/profile/orders' exact={true}>\n              <OrdersPage/>\n            </ProtectedRoute>\n\n            <Route path='/ingredients/:id' exact={true}>\n              <IngredientPage/>\n            </Route>\n\n            <Route>\n              <Page404/>\n            </Route>\n          </Switch>\n        </BrowserRouter>\n\n    </>\n  );\n}\n\nexport default App;\n","import {GET_ALL_INGREDIENTS, GET_ALL_INGREDIENTS_SUCCESS, GET_ALL_INGREDIENTS_FAILED} from '../actions/all-ingredients.js';\n\nconst initialState = {\n  isLoading: false,\n  isFailed: false,\n  items: null\n};\n\nconst allIngredientsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ALL_INGREDIENTS: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n      }\n    }\n    case GET_ALL_INGREDIENTS_SUCCESS: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n        items: action.items\n      }\n    }\n    case GET_ALL_INGREDIENTS_FAILED: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n      };\n    }\n    default:\n      return state\n  }\n};\n\nexport {allIngredientsReducer};\n","import {GET_ORDER, GET_ORDER_SUCCESS, GET_ORDER_FAILED, CLOSE_ORDER} from '../actions/order.js';\r\n\r\nconst orderInitialState = {\r\n  isOrderModalClosed: true,\r\n  isOrderSent: false,\r\n  isOrderRejected: false,\r\n  number: null\r\n};\r\n\r\nconst orderReducer = (state = orderInitialState, action) => {\r\n  switch (action.type) {\r\n    case GET_ORDER: {\r\n      return {\r\n        ...state,\r\n        isOrderModalClosed: action.isOrderModalClosed,\r\n        isOrderSent: action.isOrderSent,\r\n        isOrderRejected: action.isOrderRejected,\r\n      }\r\n\r\n    }\r\n    case GET_ORDER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        isOrderModalClosed: action.isOrderModalClosed,\r\n        isOrderSent: action.isOrderSent,\r\n        isOrderRejected: action.isOrderRejected,\r\n        number: action.number\r\n      }\r\n    }\r\n    case GET_ORDER_FAILED: {\r\n      return {\r\n        ...state,\r\n        isOrderModalClosed: action.isOrderModalClosed,\r\n        isOrderSent: action.isOrderSent,\r\n        isOrderRejected: action.isOrderRejected\r\n      }\r\n    }\r\n    case CLOSE_ORDER: {\r\n      return {\r\n        ...state,\r\n        isOrderModalClosed: action.isOrderModalClosed,\r\n        number: action.number\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nexport {orderReducer};\r\n","import { ADD_TO_CONSTRUCTOR, DELETE_FROM_CONSTRUCTOR, REORDER_INGREDIENT } from '../actions/constructor-ingredients.js';\r\nimport update from 'immutability-helper'\r\n// import { v4 as uuidv4 } from 'uuid';\r\n\r\nconst constructorInitialState = {\r\n  ingredients: {\r\n    bun: null,\r\n    fillings: []\r\n  },\r\n  ingredientsCount: []\r\n}\r\n\r\nconst constructorIngredientsReducer = (state = constructorInitialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_TO_CONSTRUCTOR: {\r\n\r\n      let arr = [...state.ingredientsCount];\r\n      const sameIndex = arr.findIndex(element => element.itemId === action.item._id);\r\n      const sameElement = arr[sameIndex];\r\n      sameIndex === -1 ?\r\n      arr.push({itemId: action.item._id, count: 1}) :\r\n      arr.splice(sameIndex, 1, {itemId: sameElement.itemId, count: sameElement.count + 1});\r\n\r\n      return {\r\n        ...state,\r\n        ingredients: (\r\n          action.item.type === 'bun' ?\r\n          {bun: action.item, fillings: [...state.ingredients.fillings]} :\r\n          {...state.ingredients, fillings: [...state.ingredients.fillings, {...action.item, uId: action.uId }]}\r\n        ),\r\n        ingredientsCount: (\r\n          action.item.type === 'bun' ?\r\n          [...state.ingredientsCount] :\r\n          arr\r\n        )\r\n      }\r\n    }\r\n    case DELETE_FROM_CONSTRUCTOR: {\r\n      const spliceArr = [...state.ingredients.fillings];\r\n      spliceArr.splice(action.key, 1);\r\n\r\n      let arr = [...state.ingredientsCount];\r\n      const sameIndex = arr.findIndex(element => element.itemId === action.item._id);\r\n      const sameElement = arr[sameIndex];\r\n      sameElement.count === 1 ?\r\n      arr.splice(sameIndex, 1) :\r\n      arr.splice(sameIndex, 1, {itemId: sameElement.itemId, count: sameElement.count - 1});\r\n\r\n\r\n      return {\r\n        ...state,\r\n        ingredients: {...state.ingredients, fillings: spliceArr},\r\n        ingredientsCount: arr\r\n      }\r\n    }\r\n    case REORDER_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        ingredients: { ...state.ingredients,\r\n        fillings: update(state.ingredients.fillings, {\r\n          $splice: [\r\n            [action.dragIndex, 1],\r\n            [action.hoverIndex, 0, state.ingredients.fillings[action.dragIndex]],\r\n          ],\r\n        })\r\n      }\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nexport {constructorIngredientsReducer};\r\n","import {REGISTER, REGISTER_SUCCESS, REGISTER_FAILED} from '../actions/register.js';\nimport {LOGIN, LOGIN_SUCCESS, LOGIN_FAILED} from '../actions/login.js';\nimport {RESET_PASSWORD, RESET_PASSWORD_SUCCESS, RESET_PASSWORD_FAILED, RECOVER_PASSWORD, RECOVER_PASSWORD_SUCCESS, RECOVER_PASSWORD_FAILED, recoverPassword, resetPassword} from '../actions/password.js';\nimport {GET_USER, GET_USER_SUCCESS, GET_USER_FAILED, EDIT_USER, EDIT_USER_SUCCESS, EDIT_USER_FAILED} from '../actions/user.js' ;\nimport { LOGOUT, LOGOUT_SUCCESS, LOGOUT_FAILED } from '../actions/logout.js';\nimport {setCookie, getCookie} from '../../utils/utils.js';\n\nconst initialState = {\n  isLoading: false,\n  isFailed: false,\n  user: null,\n  accessToken: null,\n  isAuth: false,\n  isAuthChecked: false,\n  isLogoutChecked: false\n  // isLogoutChecked: false\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case REGISTER: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n        isAuth: action.isAuth\n      }\n    }\n    case REGISTER_SUCCESS: {\n      localStorage.setItem('refreshToken', action.refreshToken);\n      setCookie('token', action.accessToken.split('Bearer ')[1]);\n\n      console.log(getCookie('token'));\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n        user: action.user,\n        accessToken: action.accessToken,\n        isAuth: action.isAuth\n      }\n    }\n    case REGISTER_FAILED: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n        isAuth: action.isAuth\n      }\n    }\n\n    case LOGIN: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n        isAuth: action.isAuth\n      }\n    }\n    case LOGIN_SUCCESS: {\n      setCookie('token', action.accessToken.split('Bearer ')[1]);\n      localStorage.setItem('refreshToken', action.refreshToken);\n\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n        user: action.user,\n        accessToken: action.accessToken,\n        isAuth: action.isAuth,\n        isLogoutChecked: action.isLogoutChecked\n      }\n    }\n    case LOGIN_FAILED: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n        isAuth: action.isAuth,\n        isLogoutChecked: action.isLogoutChecked\n      }\n    }\n\n    case RECOVER_PASSWORD: {\n      console.log('1');\n      return {\n        ...state,\n      }\n    }\n    case RECOVER_PASSWORD_SUCCESS: {\n      console.log('Recover success');\n      return {\n        ...state,\n      }\n    }\n    case RECOVER_PASSWORD_FAILED: {\n      console.log('Recover failed');\n      return {\n        ...state,\n      }\n    }\n\n    case RESET_PASSWORD: {\n      return {\n        ...state,\n      }\n    }\n    case RESET_PASSWORD_SUCCESS: {\n      return {\n        ...state,\n      }\n    }\n    case RESET_PASSWORD_FAILED: {\n      return {\n        ...state,\n      }\n    }\n\n    case GET_USER: {\n\n      return {\n        ...state,\n        isAuth: action.isAuth,\n        isAuthChecked: action.isAuthChecked\n      }\n    }\n    case GET_USER_SUCCESS: {\n      // localStorage.setItem('refreshToken', action.refreshToken);\n\n      console.log('Get user');\n\n      return {\n        ...state,\n        user: action.user,\n        isAuth: action.isAuth,\n        isAuthChecked: action.isAuthChecked,\n        isLogoutChecked: action.isLogoutChecked\n      }\n    }\n    case GET_USER_FAILED: {\n\n      return {\n        ...state,\n        isAuth: action.isAuth,\n        isAuthChecked: action.isAuthChecked,\n        isLogoutChecked: action.isLogoutChecked\n      }\n    }\n\n    case EDIT_USER: {\n      return {\n        ...state,\n      }\n    }\n    case EDIT_USER_SUCCESS: {\n      // localStorage.setItem('refreshToken', action.refreshToken);\n\n\n      return {\n        ...state,\n        user: action.user,\n      }\n    }\n    case EDIT_USER_FAILED: {\n      return {\n        ...state\n      }\n    }\n\n    case LOGOUT: {\n      return {\n        ...state,\n        isLogoutChecked: action.isLogoutChecked\n      }\n    }\n\n    case LOGOUT_SUCCESS: {\n      // setCookie('token', null, { expires: -1 });\n      // console.log(getCookie('token'));\n      // localStorage.setItem('refreshToken', null);\n\n      // console.log('logout');\n      return {\n        ...state,\n        user: action.user,\n        accessToken: action.accessToken,\n        isAuth: action.isAuth,\n        isAuthChecked: action.isAuthChecked,\n        isLogoutChecked: action.isLogoutChecked\n      }\n    }\n    case LOGOUT_FAILED: {\n      return {\n        ...state,\n        isLogoutChecked: action.isLogoutChecked\n      }\n    }\n\n    default:\n      return state\n  }\n}\n\nexport {authReducer};\n","import { combineReducers } from \"redux\";\n\nimport {allIngredientsReducer} from './all-ingredients.js';\nimport {currentIngredientReducer} from './current-ingredient.js';\nimport { orderReducer } from \"./order.js\";\nimport {constructorIngredientsReducer} from './constructor-ingredients.js';\nimport { authReducer } from \"./auth.js\";\n\n\nconst rootReducer = combineReducers({\n  allIngredients: allIngredientsReducer,\n  currentIngredient: currentIngredientReducer,\n  order: orderReducer,\n  constructorIngredients: constructorIngredientsReducer,\n  auth: authReducer,\n});\n\nexport {rootReducer};\n","import {GET_CURRENT_INGREDIENT, GET_CURRENT_INGREDIENT_SUCCESS,\r\n  GET_CURRENT_INGREDIENT_FAILED} from '../actions/current-ingredient.js';\r\n\r\n\r\nconst currentIngredientReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case GET_CURRENT_INGREDIENT: {\r\n      if (action.item === null) {\r\n        return null\r\n      } else {\r\n        return {\r\n          ...state,\r\n          id: action.item._id,\r\n          name: action.item.name,\r\n          type: action.item.type,\r\n          proteins: action.item.proteins,\r\n          fat: action.item.fat,\r\n          carbohydrates: action.item.carbohydrates,\r\n          calories: action.item.calories,\r\n          price: action.item.orice,\r\n          image: action.item.image,\r\n          image_mobile: action.item.image_mobile,\r\n          image_large: action.item.image_large,\r\n          __v: action.item.__v\r\n        }\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nexport {currentIngredientReducer};\r\n","\r\nimport thunk from 'redux-thunk';\r\nimport { compose, createStore, applyMiddleware } from 'redux';\r\nimport { rootReducer } from '../services/reducers/index.js';\r\n\r\nconst composeEnhancers =\r\ntypeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n  : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nexport {store};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './components/app/app.jsx';\r\nimport {store} from './services/store.js';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ingredient-details_card__1uGau\",\"image\":\"ingredient-details_image__1gJT6\",\"nutritionalValue\":\"ingredient-details_nutritionalValue__2VXlS\",\"component\":\"ingredient-details_component__h2iHZ\",\"componentName\":\"ingredient-details_componentName__1obsM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"profile-menu_menu__1lTJO\",\"nav_list\":\"profile-menu_nav_list__2rSE3\",\"nav_element\":\"profile-menu_nav_element__2HwXo\",\"nav_link\":\"profile-menu_nav_link__21S-5\",\"active_nav_link\":\"profile-menu_active_nav_link__RrhjD\",\"nav_button\":\"profile-menu_nav_button__2xYcm\",\"info\":\"profile-menu_info__1dqSP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__3aP_-\",\"menu\":\"app-header_menu__BYcXU\",\"menuLeftColumn\":\"app-header_menuLeftColumn__1efEX\",\"logo\":\"app-header_logo__3FgJz\",\"link\":\"app-header_link__JBl_Q\",\"active_nav_link\":\"app-header_active_nav_link__k6UU1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"burger-constructor_section__1Oj45\",\"compositionArea\":\"burger-constructor_compositionArea__ZJMAt\",\"compositionChangebleList\":\"burger-constructor_compositionChangebleList__iML4F burger-constructor_compositionArea__ZJMAt\",\"info\":\"burger-constructor_info__3KXnR\",\"priceArea\":\"burger-constructor_priceArea__wz5I3\",\"currentIcon\":\"burger-constructor_currentIcon__2Jfmy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"draggable-ingredient_card__22tkQ\",\"link\":\"draggable-ingredient_link__3bQE4\",\"image\":\"draggable-ingredient_image__1m-FI\",\"priceArea\":\"draggable-ingredient_priceArea__3AhhM\",\"price\":\"draggable-ingredient_price__1BTka\",\"title\":\"draggable-ingredient_title__3f5eQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"order-details_card__5QrrG\",\"orderId\":\"order-details_orderId__Gi4mV\",\"image\":\"order-details_image__16IXB\",\"info\":\"order-details_info__m5bOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"burger-ingredients_section__3F4Wu\",\"menu\":\"burger-ingredients_menu__1eRvv\",\"ingredients\":\"burger-ingredients_ingredients__3U86K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__3B1Cq\",\"header\":\"modal_header__3F4Ga\",\"title\":\"modal_title__2uJj5\",\"someContainer\":\"modal_someContainer__3i7LI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"profile-page_main__1MRdP\",\"buttons_wrapper\":\"profile-page_buttons_wrapper__jld7X\",\"buttons_wrapper_visible\":\"profile-page_buttons_wrapper_visible__2C3bv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"not-found-page_main__1GN0c\",\"title\":\"not-found-page_title__15PMT\",\"cover_image\":\"not-found-page_cover_image__3QmoR\",\"rights_link\":\"not-found-page_rights_link__MJLTk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"inputs-pages_main__gINzV\",\"form\":\"inputs-pages_form__1eMjc\",\"fieldset\":\"inputs-pages_fieldset__1zPkX\",\"additional_actions\":\"inputs-pages_additional_actions__tuMEw\",\"additional_action\":\"inputs-pages_additional_action__2ANpo\"};"],"sourceRoot":""}