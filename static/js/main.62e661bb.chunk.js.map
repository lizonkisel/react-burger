{"version":3,"sources":["components/ingredient-details/ingredient-details.module.css","components/app-header/app-header.module.css","reportWebVitals.ts","components/app-header/app-header.jsx","utils/prop-types.js","services/actions/current-ingredient.js","components/draggable-ingredient/draggable-ingredient.jsx","components/ingredient-variants/ingredient-variants.jsx","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","components/ingredient-details/ingredient-details.jsx","components/burger-ingredients/burger-ingredients.jsx","services/actions/constructor-ingredients.js","components/filling-ingredient/filling-ingredient.jsx","components/order-details/order-details.jsx","utils/data.js","services/actions/order.js","components/burger-constructor/burger-constructor.jsx","services/actions/all-ingredients.js","components/app/app.jsx","services/reducers/all-ingredients.js","services/reducers/order.js","services/reducers/constructor-ingredients.js","services/reducers/index.js","services/reducers/current-ingredient.js","services/store.js","index.js","components/burger-constructor/burger-constructor.module.css","components/draggable-ingredient/draggable-ingredient.module.css","components/order-details/order-details.module.css","components/burger-ingredients/burger-ingredients.module.css","components/modal/modal.module.css","components/app/app.module.css","components/ingredient-variants/ingredient-variants.module.css","components/modal-overlay/modal-overlay.module.css","components/filling-ingredient/filling-ingredient.module.css","images/done.png"],"names":["module","exports","card","image","nutritionalValue","component","componentName","header","menu","menuLeftColumn","logo","link","reportWebVitals","onPerfEntry","Function","__webpack_require__","e","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","AppHeader","react_default","a","createElement","className","concat","appHeader","react_developer_burger_ui_components_dist","type","typeOfIngredient","PropTypes","oneOf","shape","_id","string","isRequired","name","proteins","number","fat","carbohydrates","calories","price","image_mobile","image_large","__v","GET_CURRENT_INGREDIENT","getCurrentIngredient","item","DraggableIngredient","ingredient","ingredientsCount","useSelector","store","constructorIngredients","bun","ingredients","setCount","undefined","find","element","itemId","count","startCount","dispatch","useDispatch","_useDrag","useDrag","dragRef","Object","slicedToArray","styles","onClick","chooseIngredient","ref","draggable","src","size","priceArea","title","IngredientVariants","React","forwardRef","props","listOfIngredients","id","titleId","ingredientName","ingredientVariants","list","map","index","key","ModalOverlay","onOverlayClick","modalOverlay","overlay","modalsContainer","document","querySelector","Modal","onClose","children","closeModal","onEscapeClick","event","useEffect","addEventListener","removeEventListener","ReactDOM","createPortal","Fragment","modal","IngredientDetails","currentIngredient","ingredientDetails","BurgerIngredients","_React$useState","useState","_React$useState2","currentTab","setCurrentTab","tabClick","tab","getElementById","scrollIntoView","behavior","block","console","log","_useInView","useInView","threshold","_useInView2","bunRef","inViewBun","_useInView3","_useInView4","sauceRef","inViewSauce","_useInView5","_useInView6","mainRef","inViewMain","allIngredients","items","bunList","filter","sauceList","mainList","ingredientInModal","burgerIngredients","section","value","active","REORDER_INGREDIENT","ADD_TO_CONSTRUCTOR","DELETE_FROM_CONSTRUCTOR","FillingIngredient","useRef","uId","_useDrop","useDrop","accept","collect","monitor","handlerId","getHandlerId","hover","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","reorderIngredient","_useDrop2","drop","isDragging","_useDrag2","opacity","drag","data-handler-id","style","text","thumbnail","handleClose","deleteFromConstructor","OrderDetails","orderNumber","orderDetails","orderId","done","info","baseUrl","checkResponse","res","ok","json","Promise","reject","status","GET_ORDER","GET_ORDER_SUCCESS","GET_ORDER_FAILED","CLOSE_ORDER","BurgerConstructor","fillings","bunsPrice","isOrderRejected","order","isOrderModalClosed","useMemo","reduce","prevVal","curVal","uuidv4","addToConstructor","dropRef","burgerConstructor","compositionArea","isLocked","compositionChangebleList","i","currentIcon","ingredientsIdArray","push","forEach","filling","getIngredientsIdArray","isOrderSent","fetch","method","headers","Content-Type","body","JSON","stringify","isOrderRejectedd","catch","err","GET_ALL_INGREDIENTS","GET_ALL_INGREDIENTS_SUCCESS","GET_ALL_INGREDIENTS_FAILED","App","isLoading","isFailed","data","_useSelector","main","DndProvider","backend","HTML5Backend","initialState","orderInitialState","constructorInitialState","rootReducer","combineReducers","state","arguments","length","action","objectSpread","orice","arr","toConsumableArray","sameIndex","findIndex","sameElement","splice","spliceArr","update","$splice","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","render","StrictMode","es","app","someContainer","p"],"mappings":"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","file":"static/js/main.62e661bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ingredient-details_card__1uGau\",\"image\":\"ingredient-details_image__1gJT6\",\"nutritionalValue\":\"ingredient-details_nutritionalValue__2VXlS\",\"component\":\"ingredient-details_component__h2iHZ\",\"componentName\":\"ingredient-details_componentName__1obsM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__3aP_-\",\"menu\":\"app-header_menu__BYcXU\",\"menuLeftColumn\":\"app-header_menuLeftColumn__1efEX\",\"logo\":\"app-header_logo__3FgJz\",\"link\":\"app-header_link__JBl_Q\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React  from 'react';\n\nimport { Logo } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { BurgerIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { ListIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport appHeader from './app-header.module.css';\n\n\nexport default function AppHeader() {\n  return (\n    <header className={`mt-10 ${appHeader.header}`}>\n      <nav className={`pb-4 pt-4 ${appHeader.menu}`} >\n        <div className={appHeader.menuLeftColumn}>\n          <a className={`pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`}>\n            <BurgerIcon type=\"primary\"/>\n            <span className=\"text text_type_main-default pl-2\">Конструктор</span>\n          </a>\n          <a className={`pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`}>\n            <ListIcon type=\"secondary\" />\n            <span className=\"text text_type_main-default text_color_inactive pl-2\">Лента заказов</span>\n          </a>\n        </div>\n        <a className={`pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`}>\n          <ProfileIcon type=\"secondary\" />\n          <span className=\"text text_type_main-default text_color_inactive pl-2\">Личный кабинет</span>\n        </a>\n      </nav>\n      <div className={appHeader.logo}>\n          <Logo />\n        </div>\n    </header>\n  )\n}\n","import PropTypes from 'prop-types';\r\n\r\nconst typeOfIngredient = PropTypes.oneOf(['bun', 'sauce', 'main']);\r\n\r\nconst ingredientPropTypes = PropTypes.shape({\r\n  _id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  type: typeOfIngredient,\r\n  proteins: PropTypes.number.isRequired,\r\n  fat: PropTypes.number.isRequired,\r\n  carbohydrates: PropTypes.number.isRequired,\r\n  calories: PropTypes.number.isRequired,\r\n  price: PropTypes.number.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  image_mobile: PropTypes.string.isRequired,\r\n  image_large: PropTypes.string.isRequired,\r\n  __v: PropTypes.number.isRequired\r\n})\r\n\r\nexport {ingredientPropTypes}\r\n","const GET_CURRENT_INGREDIENT = 'GET_CURRENT_INGREDIENTS';\nconst GET_CURRENT_INGREDIENT_SUCCESS = 'GET_CURRENT_INGREDIENTS_SUCCESS';\nconst GET_CURRENT_INGREDIENT_FAILED = 'GET_CURRENT_INGREDIENTS_FAILED';\n\nfunction getCurrentIngredient(item) {\n  return {\n    type: GET_CURRENT_INGREDIENT,\n    item\n  }\n};\n\nexport {GET_CURRENT_INGREDIENT, getCurrentIngredient, GET_CURRENT_INGREDIENT_SUCCESS, GET_CURRENT_INGREDIENT_FAILED}\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useDrag } from 'react-dnd';\n\nimport styles from './draggable-ingredient.module.css';\n\nimport PropTypes from 'prop-types';\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\n\nimport {Counter} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {CurrencyIcon} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport {getCurrentIngredient} from '../../services/actions/current-ingredient.js';\n\nexport default function DraggableIngredient({ingredient}) {\n\n  const ingredientsCount = useSelector(store => store.constructorIngredients.ingredientsCount);\n  const bun = useSelector(store => store.constructorIngredients.ingredients.bun);\n\n  function setCount() {\n    if (bun !== null && bun._id === ingredient._id) {\n      const count = 1;\n      return count;\n    }\n    const count = ingredientsCount.find(element => element.itemId === ingredient._id) === undefined ?\n    null :\n    ingredientsCount.find(element => element.itemId === ingredient._id).count;\n    return count;\n  };\n\n  const startCount = setCount();\n\n  const dispatch = useDispatch();\n\n  function chooseIngredient(ingredient) {\n    dispatch(getCurrentIngredient(ingredient));\n  };\n\n\n  const [, dragRef] = useDrag({\n    type: 'ingredient',\n    item: ingredient\n  });\n\n  return (\n    <li className={` ${styles.card}`} onClick={() => {chooseIngredient(ingredient)}} ref={dragRef} draggable>\n      <img className={`ml-4 mr-4 ${styles.image}`} src={ingredient.image} />\n      { startCount &&\n        <Counter count={setCount()} size=\"default\" />\n      }\n      <div className={styles.priceArea}>\n        <p className={`text text_type_digits-default ${styles.price}`}>{ingredient.price}</p>\n        <CurrencyIcon type=\"primary\" />\n      </div>\n      <p className={`text text_type_main-default ${styles.title}`}>{ingredient.name}</p>\n    </li>\n  )\n};\n\nDraggableIngredient.propTypes = {\n  ingredient: ingredientPropTypes.isRequired\n}\n","import React  from 'react';\n\nimport ingredientVariants from './ingredient-variants.module.css';\n\nimport PropTypes from 'prop-types';\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\n\nimport DraggableIngredient from '../draggable-ingredient/draggable-ingredient.jsx';\n\n\nexport const IngredientVariants = React.forwardRef((props, ref) => {\n\n  const ingredients = props.listOfIngredients;\n\n  return (\n    <section id={props.titleId}>\n      <h3 className=\"text text_type_main-medium\">{props.ingredientName}</h3>\n      <ul className={`pl-4 pr-4 pb-10 pt-6 ${ingredientVariants.list}`} ref={ref}>\n        {\n          ingredients.map((ingredient, index) => (\n            <DraggableIngredient ingredient={ingredient} key={index}>\n            </DraggableIngredient>\n          ))\n        }\n      </ul>\n\n    </section>\n  )\n})\n\nIngredientVariants.propTypes = {\n  listOfIngredients: PropTypes.arrayOf(ingredientPropTypes.isRequired).isRequired,\n  titleId: PropTypes.oneOf(['buns', 'sauces', 'mains']).isRequired,\n  ingredientName: PropTypes.oneOf(['Булки', 'Соусы', 'Начинки']).isRequired\n}\n\n","import modalOverlay from './modal-overlay.module.css';\n\nimport PropTypes from 'prop-types';\n\nimport React  from 'react';\n\nexport default function ModalOverlay({onOverlayClick}) {\n  return (\n    <div className={modalOverlay.overlay} onClick={onOverlayClick}></div>\n  )\n}\n\nModalOverlay.propTypes = {\n  onOverlayClick: PropTypes.func.isRequired\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport modal from './modal.module.css'\n\nimport PropTypes from 'prop-types';\n\nimport {CloseIcon} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport ModalOverlay from '../modal-overlay/modal-overlay.jsx';\n\n\nconst modalsContainer = document.querySelector('#modals');\n\nexport default function Modal({title, onClose, children}) {\n\n  function closeModal() {\n    onClose();\n  }\n\n  function onEscapeClick(event) {\n    if (event.key === \"Escape\") {\n      closeModal();\n    }\n  }\n\n  function onCrossClick() {\n    closeModal();\n  }\n\n  React.useEffect(\n    () => {\n      document.addEventListener('keydown', onEscapeClick);\n\n      return () => {\n        document.removeEventListener('keydown', onEscapeClick);\n      }\n    }, []\n  )\n\n\n  return ReactDOM.createPortal(\n    (<>\n      <div className={modal.modal}>\n        <div className={`pt-10 pr-10 pl-10 ${modal.header}`}>\n          <h3 className={`text text_type_main-large ${modal.title}`}>{title}</h3>\n          <div onClick={onCrossClick}>\n            <CloseIcon type=\"primary\" />\n          </div>\n        </div>\n        {children}\n      </div>\n\n\n      <ModalOverlay onOverlayClick={closeModal}/>\n    </>),\n\n    modalsContainer\n  )\n};\n\nModal.propTypes = {\n  title: PropTypes.string,\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.element.isRequired\n};\n","import React  from 'react';\nimport { useSelector } from 'react-redux';\n\nimport ingredientDetails from './ingredient-details.module.css';\n\nexport default function IngredientDetails() {\n\nconst currentIngredient = useSelector(store => store.currentIngredient);\n\n  return (\n    <article className={ingredientDetails.card}>\n      <img className={ingredientDetails.image} src={currentIngredient.image_large} />\n      <h4 className='mt-4 mb-8 text text_type_main-medium'>{currentIngredient.name}</h4>\n      <ul className={`mb-15 ${ingredientDetails.nutritionalValue}`}>\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\n          <p className={ingredientDetails.componentName}>Калории,ккал</p>\n          <span className='text_type_digits-default'>{currentIngredient.calories}</span>\n        </li>\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\n          <p className={ingredientDetails.componentName}>Белки, г</p>\n          <span className='text_type_digits-default'>{currentIngredient.proteins}</span>\n        </li>\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\n          <p className={ingredientDetails.componentName}>Жиры, г</p>\n          <span className='text_type_digits-default'>{currentIngredient.fat}</span>\n        </li>\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\n          <p className={ingredientDetails.componentName}>Углеводы, г</p>\n          <span className='text_type_digits-default'>{currentIngredient.carbohydrates}</span>\n        </li>\n      </ul>\n    </article>\n  )\n}\n","import React, { useContext, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useInView } from 'react-intersection-observer';\n\nimport burgerIngredients from './burger-ingredients.module.css';\n\nimport {IngredientVariants} from '../ingredient-variants/ingredient-variants.jsx';\nimport Modal from '../modal/modal.jsx';\nimport IngredientDetails from '../ingredient-details/ingredient-details.jsx';\n\nimport {getCurrentIngredient} from '../../services/actions/current-ingredient.js'\n// import { closeOrder} from '../../services/actions/order.js';\n\nimport {Tab} from '@ya.praktikum/react-developer-burger-ui-components';\n\nexport default function BurgerIngredients() {\n\n  const dispatch = useDispatch();\n\n  const [currentTab, setCurrentTab] = React.useState('buns');\n\n  function tabClick(tab) {\n    setCurrentTab(tab);\n    const element = document.getElementById(tab);\n    element.scrollIntoView({behavior: 'smooth', block: 'start'});\n    console.log(element);\n  };\n\n  const [bunRef, inViewBun] = useInView({\n    threshold: 0.1,\n  });\n\n  const [sauceRef, inViewSauce] = useInView({\n    threshold: 0.1,\n  });\n\n  const [mainRef, inViewMain] = useInView({\n    threshold: 0.1,\n  });\n\n  useEffect(() => {\n    if (inViewBun) {\n      setCurrentTab('buns');\n    } else if (inViewSauce) {\n      setCurrentTab('sauces');\n    } else if (inViewMain) {\n      setCurrentTab('mains');\n    }\n  }, [inViewBun, inViewSauce, inViewMain]);\n\n\n  const listOfIngredients = useSelector(store => store.allIngredients.items);\n\n  const bunList = listOfIngredients.filter((ingredient) => {\n    return ingredient.type === \"bun\";\n  })\n\n  const sauceList = listOfIngredients.filter((ingredient) => {\n    return ingredient.type === \"sauce\";\n  })\n\n  const mainList = listOfIngredients.filter((ingredient) => {\n    return ingredient.type === \"main\";\n  })\n\n  const ingredientInModal = useSelector(store => store.currentIngredient);\n\n  return (\n    <>\n      <section className={burgerIngredients.section}>\n        <h2 className='text text_type_main-large mb-5 mt-10'>Соберите бургер</h2>\n        <nav className={`mb-10 ${burgerIngredients.menu}`}>\n          <Tab value=\"buns\" active={currentTab === 'buns'} onClick={tabClick}>\n            Булки\n          </Tab>\n          <Tab value=\"sauces\" active={currentTab === 'sauces'} onClick={tabClick}>\n            Соусы\n          </Tab>\n          <Tab value=\"mains\" active={currentTab === 'mains'} onClick={tabClick}>\n            Начинки\n          </Tab>\n        </nav>\n        <article className={burgerIngredients.ingredients} >\n          <IngredientVariants ingredientName='Булки' listOfIngredients={bunList} titleId='buns' ref={bunRef}/>\n          <IngredientVariants ingredientName='Соусы' listOfIngredients={sauceList} titleId='sauces' ref={sauceRef}/>\n          <IngredientVariants ingredientName='Начинки' listOfIngredients={mainList} titleId='mains' ref={mainRef}/>\n        </article>\n      </section>\n\n      {ingredientInModal &&\n      <Modal title=\"Детали ингредиента\" onClose={() => dispatch(getCurrentIngredient(null))}>\n        <IngredientDetails />\n      </Modal>}\n    </>\n  )\n}\n","import { v4 as uuidv4 } from 'uuid';\n\nconst REORDER_INGREDIENT = 'REORDER_INGREDIENT';\nconst ADD_TO_CONSTRUCTOR = 'ADD_TO_CONSTRUCTOR';\nconst DELETE_FROM_CONSTRUCTOR = 'DELETE_FROM_CONSTRUCTOR';\n\nfunction addToConstructor(item) {\n  return {\n    type: ADD_TO_CONSTRUCTOR,\n    item: item,\n    uId: uuidv4()\n  }\n}\n\nfunction deleteFromConstructor(item, key) {\n  return {\n    type: DELETE_FROM_CONSTRUCTOR,\n    item: item,\n    key: key\n  }\n}\n\nfunction reorderIngredient(dragIndex, hoverIndex) {\n  return {\n    type: REORDER_INGREDIENT,\n    dragIndex: dragIndex,\n    hoverIndex: hoverIndex\n  }\n}\n\nexport { ADD_TO_CONSTRUCTOR, DELETE_FROM_CONSTRUCTOR, REORDER_INGREDIENT, addToConstructor, deleteFromConstructor, reorderIngredient};\n","import React, { useEffect, useRef }  from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useDrag, useDrop } from 'react-dnd';\n\nimport styles from './filling-ingredient.module.css';\n\nimport PropTypes from 'prop-types';\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\n\nimport {ConstructorElement} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {DragIcon} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport {DELETE_FROM_CONSTRUCTOR, REORDER_INGREDIENT, deleteFromConstructor, reorderIngredient} from '../../services/actions/constructor-ingredients.js';\n\nexport default function FillingIngredient({ item, index }) {\n\n  const dispatch = useDispatch();\n\n\n  // function deleteFromConstructor(item, key) {\n  //   dispatch({\n  //     type: DELETE_FROM_CONSTRUCTOR,\n  //     item: item,\n  //     key: key\n  //   })\n  // };\n\n  const ref = useRef(null);\n  const id = item.uId;\n\n  const [{ handlerId }, drop] = useDrop({\n    accept: 'fillings',\n    collect(monitor) {\n      return {\n        handlerId: monitor.getHandlerId(),\n      };\n    },\n    hover(item, monitor) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = index;\n\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      const clientOffset = monitor.getClientOffset();\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n\n      // dispatch({\n      //   type: REORDER_INGREDIENT,\n      //   dragIndex,\n      //   hoverIndex\n      // });\n      dispatch(reorderIngredient(dragIndex, hoverIndex));\n      item.index = hoverIndex;\n    },\n  });\n\n  const [{ isDragging }, drag] = useDrag({\n    type: 'fillings',\n    item: () => {\n      return { id, index };\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const opacity = isDragging ? 0 : 1;\n\n  drag(drop(ref));\n\n\n  return (\n    <li className={styles.element} draggable ref={ref} data-handler-id={handlerId} style={{ opacity }}>\n      <DragIcon type=\"primary\" />\n      <ConstructorElement\n        text={item.name}\n        price={item.price}\n        thumbnail={item.image}\n        handleClose={() => dispatch(deleteFromConstructor(item, index))}\n      />\n    </li>\n  )\n}\n\nFillingIngredient.propTypes = {\n  item: ingredientPropTypes.isRequired,\n  index: PropTypes.number.isRequired\n}\n","import React  from 'react'\n\nimport orderDetails from './order-details.module.css';\n\nimport PropTypes from 'prop-types';\n\nimport done from '../../images/done.png';\n\nexport default function OrderDetails({orderNumber}) {\n\n  return (\n    <article className={orderDetails.card}>\n      <p className={`text text_type_digits-large ${orderDetails.orderId}`}>{orderNumber}</p>\n      <span className='mt-8 text text_type_main-medium'>идентификатор заказа</span>\n      <img className={`mt-15 mb-15 ${orderDetails.image}`} src={done}/>\n      <div className={`mb-30 ${orderDetails.info}`}>\n        <p className='text text_type_main-default'>Ваш заказ начали готовить</p>\n        <p className='text text_type_main-default text_color_inactive'>Дождитесь готовности на орбитальной станции</p>\n      </div>\n\n    </article>\n  )\n}\n\nOrderDetails.propTypes = {\n  orderNumber: PropTypes.number.isRequired\n}\n","const baseUrl = 'https://norma.nomoreparties.space/api';\n\nfunction checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  } else {\n    return Promise.reject(res.status)\n  }\n};\n\n// const dataUrl = 'https://norma.nomoreparties.space/api/ingredients';\n// const ordersUrl ='https://norma.nomoreparties.space/api/orders';\n\n\nconst data = [\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b1\",\n     \"name\":\"Краторная булка N-200i\",\n     \"type\":\"bun\",\n     \"proteins\":80,\n     \"fat\":24,\n     \"carbohydrates\":53,\n     \"calories\":420,\n     \"price\":1255,\n     \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b5\",\n     \"name\":\"Говяжий метеорит (отбивная)\",\n     \"type\":\"main\",\n     \"proteins\":800,\n     \"fat\":800,\n     \"carbohydrates\":300,\n     \"calories\":2674,\n     \"price\":3000,\n     \"image\":\"https://code.s3.yandex.net/react/code/meat-04.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-04-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/meat-04-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b6\",\n     \"name\":\"Биокотлета из марсианской Магнолии\",\n     \"type\":\"main\",\n     \"proteins\":420,\n     \"fat\":142,\n     \"carbohydrates\":242,\n     \"calories\":4242,\n     \"price\":424,\n     \"image\":\"https://code.s3.yandex.net/react/code/meat-01.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/meat-01-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b7\",\n     \"name\":\"Соус Spicy-X\",\n     \"type\":\"sauce\",\n     \"proteins\":30,\n     \"fat\":20,\n     \"carbohydrates\":40,\n     \"calories\":30,\n     \"price\":90,\n     \"image\":\"https://code.s3.yandex.net/react/code/sauce-02.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-02-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-02-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b4\",\n     \"name\":\"Мясо бессмертных моллюсков Protostomia\",\n     \"type\":\"main\",\n     \"proteins\":433,\n     \"fat\":244,\n     \"carbohydrates\":33,\n     \"calories\":420,\n     \"price\":1337,\n     \"image\":\"https://code.s3.yandex.net/react/code/meat-02.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-02-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/meat-02-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b9\",\n     \"name\":\"Соус традиционный галактический\",\n     \"type\":\"sauce\",\n     \"proteins\":42,\n     \"fat\":24,\n     \"carbohydrates\":42,\n     \"calories\":99,\n     \"price\":15,\n     \"image\":\"https://code.s3.yandex.net/react/code/sauce-03.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-03-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-03-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b8\",\n     \"name\":\"Соус фирменный Space Sauce\",\n     \"type\":\"sauce\",\n     \"proteins\":50,\n     \"fat\":22,\n     \"carbohydrates\":11,\n     \"calories\":14,\n     \"price\":80,\n     \"image\":\"https://code.s3.yandex.net/react/code/sauce-04.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-04-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-04-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9bc\",\n     \"name\":\"Плоды Фалленианского дерева\",\n     \"type\":\"main\",\n     \"proteins\":20,\n     \"fat\":5,\n     \"carbohydrates\":55,\n     \"calories\":77,\n     \"price\":874,\n     \"image\":\"https://code.s3.yandex.net/react/code/sp_1.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sp_1-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sp_1-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9bb\",\n     \"name\":\"Хрустящие минеральные кольца\",\n     \"type\":\"main\",\n     \"proteins\":808,\n     \"fat\":689,\n     \"carbohydrates\":609,\n     \"calories\":986,\n     \"price\":300,\n     \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9ba\",\n     \"name\":\"Соус с шипами Антарианского плоскоходца\",\n     \"type\":\"sauce\",\n     \"proteins\":101,\n     \"fat\":99,\n     \"carbohydrates\":100,\n     \"calories\":100,\n     \"price\":88,\n     \"image\":\"https://code.s3.yandex.net/react/code/sauce-01.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-01-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-01-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9bd\",\n     \"name\":\"Кристаллы марсианских альфа-сахаридов\",\n     \"type\":\"main\",\n     \"proteins\":234,\n     \"fat\":432,\n     \"carbohydrates\":111,\n     \"calories\":189,\n     \"price\":762,\n     \"image\":\"https://code.s3.yandex.net/react/code/core.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/core-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/core-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9be\",\n     \"name\":\"Мини-салат Экзо-Плантаго\",\n     \"type\":\"main\",\n     \"proteins\":1,\n     \"fat\":2,\n     \"carbohydrates\":3,\n     \"calories\":6,\n     \"price\":4400,\n     \"image\":\"https://code.s3.yandex.net/react/code/salad.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/salad-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/salad-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b3\",\n     \"name\":\"Филе Люминесцентного тетраодонтимформа\",\n     \"type\":\"main\",\n     \"proteins\":44,\n     \"fat\":26,\n     \"carbohydrates\":85,\n     \"calories\":643,\n     \"price\":988,\n     \"image\":\"https://code.s3.yandex.net/react/code/meat-03.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-03-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/meat-03-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9bf\",\n     \"name\":\"Сыр с астероидной плесенью\",\n     \"type\":\"main\",\n     \"proteins\":84,\n     \"fat\":48,\n     \"carbohydrates\":420,\n     \"calories\":3377,\n     \"price\":4142,\n     \"image\":\"https://code.s3.yandex.net/react/code/cheese.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/cheese-large.png\",\n     \"__v\":0\n    },\n    {\n     \"_id\":\"60666c42cc7b410027a1a9b2\",\n     \"name\":\"Флюоресцентная булка R2-D3\",\n     \"type\":\"bun\",\n     \"proteins\":44,\n     \"fat\":26,\n     \"carbohydrates\":85,\n     \"calories\":643,\n     \"price\":988,\n     \"image\":\"https://code.s3.yandex.net/react/code/bun-01.png\",\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-01-mobile.png\",\n     \"image_large\":\"https://code.s3.yandex.net/react/code/bun-01-large.png\",\n     \"__v\":0\n    }\n]\n\nexport {baseUrl, checkResponse};\n\n","import {baseUrl, checkResponse} from '../../utils/data.js';\n\nconst GET_ORDER = 'GET_ORDER';\nconst GET_ORDER_SUCCESS = 'GET_ORDER_SUCCESS';\nconst GET_ORDER_FAILED = 'GET_ORDER_FAILED';\nconst CLOSE_ORDER = \"CLOSE_ORDER\";\n\nfunction getOrder(ingredientsIdArray) {\n  return function(dispatch) {\n    dispatch({\n      type: GET_ORDER,\n      isOrderModalClosed: true,\n      isOrderSent: true,\n      isOrderRejected: false,\n    });\n\n    fetch(`${baseUrl}/orders`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify({\n        \"ingredients\": ingredientsIdArray\n      })\n    })\n    .then(checkResponse)\n    .then(res => {\n      dispatch({\n        type: GET_ORDER_SUCCESS,\n        isOrderModalClosed: false,\n        isOrderSent: false,\n        isOrderRejectedd: false,\n        number: res.order.number\n      })\n    })\n    .catch(err => {console.log(err, err.status);\n      dispatch({\n        type: GET_ORDER_FAILED,\n        isOrderModalClosed: true,\n        isOrderSent: false,\n        isOrderRejected: true\n      })\n    })\n  }\n}\n\nfunction closeOrder() {\n  return {\n    type: CLOSE_ORDER,\n    isOrderModalClosed: true,\n    number: null\n  }\n}\n\nexport { GET_ORDER, GET_ORDER_SUCCESS, GET_ORDER_FAILED, CLOSE_ORDER, getOrder, closeOrder };\n","import React, { useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useDrop } from 'react-dnd';\n// import { v4 as uuidv4 } from 'uuid';\n\nimport burgerConstructor from './burger-constructor.module.css';\n\nimport FillingIngredient from '../filling-ingredient/filling-ingredient';\nimport Modal from '../modal/modal.jsx';\nimport OrderDetails from '../order-details/order-details.jsx';\n\nimport {ConstructorElement} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {CurrencyIcon} from '@ya.praktikum/react-developer-burger-ui-components';\nimport {Button} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport {ADD_TO_CONSTRUCTOR, addToConstructor} from '../../services/actions/constructor-ingredients.js';\nimport {getOrder} from '../../services/actions/order.js';\nimport { closeOrder} from '../../services/actions/order.js';\n\nexport default function BurgerConstructor () {\n\n  const constructorIngredients = useSelector(store => store.constructorIngredients.ingredients.fillings);\n\n  const bun = useSelector(store => store.constructorIngredients.ingredients.bun);\n\n  const bunsPrice = bun === null ?\n  0 :\n  bun.price * 2;\n\n  const isOrderRejected = useSelector(store => store.order.isOrderRejected);\n  const isOrderModalClosed = useSelector(store => store.order.isOrderModalClosed);\n  const orderNumber = useSelector(store => store.order.number);\n\n  function getIngredientsIdArray() {\n    const ingredientsIdArray = [];\n    if (bun !== null) {\n      ingredientsIdArray.push(bun._id)\n    };\n    constructorIngredients.forEach((filling) => {\n      ingredientsIdArray.push(filling._id);\n    });\n    if (bun !== null) {\n      ingredientsIdArray.push(bun._id)\n    };\n\n    return ingredientsIdArray;\n  };\n\n  const dispatch = useDispatch();\n\n  const price = useMemo(() => {\n    return (\n      constructorIngredients.reduce((prevVal, curVal) => prevVal + curVal.price, bunsPrice)\n    );\n  }, [constructorIngredients]);\n\n  const [, dropRef] = useDrop({\n    accept: 'ingredient',\n    drop(item) {\n      // dispatch({\n      //   type: ADD_TO_CONSTRUCTOR,\n      //   item: item,\n      //   uId: uuidv4()\n      // })\n      dispatch(addToConstructor(item))\n    }\n  });\n\n\n  return (\n    <>\n      <section className={`${burgerConstructor.section} pt-20`}>\n        <article className={`${burgerConstructor.compositionArea} pt-5`} ref={dropRef}>\n          {\n            bun &&\n            <ConstructorElement className={burgerConstructor.element}\n            type=\"top\"\n            isLocked={true}\n            text={`${bun.name} (верх)`}\n            price={bun.price}\n            thumbnail={bun.image}\n            />\n          }\n          <ul className={burgerConstructor.compositionChangebleList}>\n\n              {constructorIngredients && constructorIngredients.map((ingredient, i) => (\n                <FillingIngredient item={ingredient} index={i} key={ingredient.uId}>\n                </FillingIngredient>\n              ))}\n\n          </ul>\n          {\n            bun &&\n            <ConstructorElement\n            type=\"bottom\"\n            isLocked={true}\n            text={`${bun.name} (низ)`}\n            price={bun.price}\n            thumbnail={bun.image}\n            />\n          }\n        </article>\n        <article className={`mt-10 ${burgerConstructor.info}`}>\n          <div className={burgerConstructor.priceArea}>\n            <p className=\"text text_type_digits-medium\">\n              {\n                price\n              }\n            </p>\n            <div className={burgerConstructor.currentIcon}>\n              <CurrencyIcon type=\"primary\" />\n            </div>\n          </div>\n          <Button type=\"primary\" size=\"large\" onClick={() => {dispatch(getOrder(getIngredientsIdArray()))}}>\n            Оформить заказ\n          </Button>\n        </article>\n      </section>\n\n      {\n        !isOrderRejected &&\n        !isOrderModalClosed &&\n        (\n          <Modal\n            title=\"\"\n            onClose={() => dispatch(closeOrder())}\n          >\n            <OrderDetails\n              orderNumber={orderNumber}\n            />\n          </Modal>\n        )\n      }\n    </>\n  )\n}\n","import {baseUrl, checkResponse} from '../../utils/data.js';\n\nconst GET_ALL_INGREDIENTS = 'GET_ALL_INGREDIENTS';\nconst GET_ALL_INGREDIENTS_SUCCESS = 'GET_ALL_INGREDIENTS_SUCCESS';\nconst GET_ALL_INGREDIENTS_FAILED = 'GET_ALL_INGREDIENTS_FAILED';\n\nfunction getAllIngredients() {\n  return function(dispatch) {\n    dispatch({\n      type: GET_ALL_INGREDIENTS,\n      isLoading: true,\n      isFailed: false,\n    })\n\n    fetch(`${baseUrl}/ingredients`)\n      .then(checkResponse)\n      .then (res => {\n        dispatch({\n          type: GET_ALL_INGREDIENTS_SUCCESS,\n          isLoading: false,\n          isFailed: false,\n          items: res.data\n        })\n      })\n      .catch(err => dispatch({\n        type: GET_ALL_INGREDIENTS_FAILED,\n        isLoading: false,\n        isFailed: true,\n      }))\n  }\n};\n\nexport {GET_ALL_INGREDIENTS, GET_ALL_INGREDIENTS_SUCCESS, GET_ALL_INGREDIENTS_FAILED, getAllIngredients};\n","import React from 'react';\nimport { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nimport styles from './app.module.css';\n\nimport AppHeader from '../app-header/app-header.jsx'\nimport BurgerIngredients from '../burger-ingredients/burger-ingredients.jsx';\nimport BurgerConstructor from '../burger-constructor/burger-constructor.jsx';\n\nimport {getAllIngredients} from '../../services/actions/all-ingredients.js';\n\n\nfunction App() {\n\n  const dispatch = useDispatch();\n\n  useEffect(()=> {\n    dispatch(getAllIngredients())\n  }, []);\n\n  const {isLoading, isFailed} = useSelector(store => store.allIngredients)\n\n  const listOfIngredients = useSelector(store => store.allIngredients.items);\n\n  return (\n    <>\n        <AppHeader />\n        <main className={styles.main}>\n            <DndProvider backend={HTML5Backend}>\n\n            {\n              isLoading && <p className=\"text text_type_main-medium\">Загружаем данные...</p>\n            }\n            {\n              isFailed && <p className=\"text text_type_main-medium\">Не удаётся загрузить данные. Пожалуйста, повторите попытку</p>\n            }\n            {\n              listOfIngredients &&\n              <>\n                <BurgerIngredients />\n                <BurgerConstructor />\n              </>\n            }\n            </DndProvider>\n        </main>\n    </>\n  );\n}\n\nexport default App;\n","import {GET_ALL_INGREDIENTS, GET_ALL_INGREDIENTS_SUCCESS, GET_ALL_INGREDIENTS_FAILED} from '../actions/all-ingredients.js';\n\nconst initialState = {\n  isLoading: false,\n  isFailed: false,\n  items: null\n};\n\nconst allIngredientsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ALL_INGREDIENTS: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n      }\n    }\n    case GET_ALL_INGREDIENTS_SUCCESS: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n        items: action.items\n      }\n    }\n    case GET_ALL_INGREDIENTS_FAILED: {\n      return {\n        ...state,\n        isLoading: action.isLoading,\n        isFailed: action.isFailed,\n      };\n    }\n    default:\n      return state\n  }\n};\n\nexport {allIngredientsReducer};\n","import {GET_ORDER, GET_ORDER_SUCCESS, GET_ORDER_FAILED, CLOSE_ORDER} from '../actions/order.js';\n\nconst orderInitialState = {\n  isOrderModalClosed: true,\n  isOrderSent: false,\n  isOrderRejected: false,\n  number: null\n};\n\nconst orderReducer = (state = orderInitialState, action) => {\n  switch (action.type) {\n    case GET_ORDER: {\n      return {\n        ...state,\n        isOrderModalClosed: action.isOrderModalClosed,\n        isOrderSent: action.isOrderSent,\n        isOrderRejected: action.isOrderRejected,\n      }\n\n    }\n    case GET_ORDER_SUCCESS: {\n      return {\n        ...state,\n        isOrderModalClosed: action.isOrderModalClosed,\n        isOrderSent: action.isOrderSent,\n        isOrderRejected: action.isOrderRejected,\n        number: action.number\n      }\n    }\n    case GET_ORDER_FAILED: {\n      return {\n        ...state,\n        isOrderModalClosed: action.isOrderModalClosed,\n        isOrderSent: action.isOrderSent,\n        isOrderRejected: action.isOrderRejected\n      }\n    }\n    case CLOSE_ORDER: {\n      return {\n        ...state,\n        isOrderModalClosed: action.isOrderModalClosed,\n        number: action.number\n      }\n    }\n    default:\n      return state\n  }\n};\n\nexport {orderReducer};\n","import { ADD_TO_CONSTRUCTOR, DELETE_FROM_CONSTRUCTOR, REORDER_INGREDIENT } from '../actions/constructor-ingredients.js';\nimport update from 'immutability-helper'\n// import { v4 as uuidv4 } from 'uuid';\n\nconst constructorInitialState = {\n  ingredients: {\n    bun: null,\n    fillings: []\n  },\n  ingredientsCount: []\n}\n\nconst constructorIngredientsReducer = (state = constructorInitialState, action) => {\n  switch (action.type) {\n    case ADD_TO_CONSTRUCTOR: {\n\n      let arr = [...state.ingredientsCount];\n      const sameIndex = arr.findIndex(element => element.itemId === action.item._id);\n      const sameElement = arr[sameIndex];\n      sameIndex === -1 ?\n      arr.push({itemId: action.item._id, count: 1}) :\n      arr.splice(sameIndex, 1, {itemId: sameElement.itemId, count: sameElement.count + 1});\n\n      return {\n        ...state,\n        ingredients: (\n          action.item.type === 'bun' ?\n          {bun: action.item, fillings: [...state.ingredients.fillings]} :\n          {...state.ingredients, fillings: [...state.ingredients.fillings, {...action.item, uId: action.uId }]}\n        ),\n        ingredientsCount: (\n          action.item.type === 'bun' ?\n          [...state.ingredientsCount] :\n          arr\n        )\n      }\n    }\n    case DELETE_FROM_CONSTRUCTOR: {\n      const spliceArr = [...state.ingredients.fillings];\n      spliceArr.splice(action.key, 1);\n\n      let arr = [...state.ingredientsCount];\n      const sameIndex = arr.findIndex(element => element.itemId === action.item._id);\n      const sameElement = arr[sameIndex];\n      sameElement.count === 1 ?\n      arr.splice(sameIndex, 1) :\n      arr.splice(sameIndex, 1, {itemId: sameElement.itemId, count: sameElement.count - 1});\n\n\n      return {\n        ...state,\n        ingredients: {...state.ingredients, fillings: spliceArr},\n        ingredientsCount: arr\n      }\n    }\n    case REORDER_INGREDIENT: {\n      return {\n        ...state,\n        ingredients: { ...state.ingredients,\n        fillings: update(state.ingredients.fillings, {\n          $splice: [\n            [action.dragIndex, 1],\n            [action.hoverIndex, 0, state.ingredients.fillings[action.dragIndex]],\n          ],\n        })\n      }\n      }\n    }\n    default:\n      return state\n  }\n};\n\nexport {constructorIngredientsReducer};\n","import { combineReducers } from \"redux\";\n\nimport {allIngredientsReducer} from './all-ingredients.js';\nimport {currentIngredientReducer} from './current-ingredient.js';\nimport { orderReducer } from \"./order.js\";\nimport {constructorIngredientsReducer} from './constructor-ingredients.js';\n\nconst rootReducer = combineReducers({\n  allIngredients: allIngredientsReducer,\n  currentIngredient: currentIngredientReducer,\n  order: orderReducer,\n  constructorIngredients: constructorIngredientsReducer\n});\n\nexport {rootReducer};\n","import {GET_CURRENT_INGREDIENT, GET_CURRENT_INGREDIENT_SUCCESS,\n  GET_CURRENT_INGREDIENT_FAILED} from '../actions/current-ingredient.js';\n\n\nconst currentIngredientReducer = (state = null, action) => {\n  switch (action.type) {\n    case GET_CURRENT_INGREDIENT: {\n      if (action.item === null) {\n        return null\n      } else {\n        return {\n          ...state,\n          id: action.item._id,\n          name: action.item.name,\n          type: action.item.type,\n          proteins: action.item.proteins,\n          fat: action.item.fat,\n          carbohydrates: action.item.carbohydrates,\n          calories: action.item.calories,\n          price: action.item.orice,\n          image: action.item.image,\n          image_mobile: action.item.image_mobile,\n          image_large: action.item.image_large,\n          __v: action.item.__v\n        }\n      }\n    }\n    default:\n      return state\n  }\n};\n\nexport {currentIngredientReducer};\n","\nimport thunk from 'redux-thunk';\nimport { compose, createStore, applyMiddleware } from 'redux';\nimport { rootReducer } from '../services/reducers/index.js';\n\nconst composeEnhancers =\ntypeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n  : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\n\nconst store = createStore(rootReducer, enhancer);\n\nexport {store};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\n\nimport App from './components/app/app.jsx';\nimport {store} from './services/store.js';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"burger-constructor_section__1Oj45\",\"compositionArea\":\"burger-constructor_compositionArea__ZJMAt\",\"compositionChangebleList\":\"burger-constructor_compositionChangebleList__iML4F burger-constructor_compositionArea__ZJMAt\",\"info\":\"burger-constructor_info__3KXnR\",\"priceArea\":\"burger-constructor_priceArea__wz5I3\",\"currentIcon\":\"burger-constructor_currentIcon__2Jfmy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"draggable-ingredient_card__22tkQ\",\"image\":\"draggable-ingredient_image__1m-FI\",\"priceArea\":\"draggable-ingredient_priceArea__3AhhM\",\"price\":\"draggable-ingredient_price__1BTka\",\"title\":\"draggable-ingredient_title__3f5eQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"order-details_card__5QrrG\",\"orderId\":\"order-details_orderId__Gi4mV\",\"image\":\"order-details_image__16IXB\",\"info\":\"order-details_info__m5bOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"burger-ingredients_section__3F4Wu\",\"menu\":\"burger-ingredients_menu__1eRvv\",\"ingredients\":\"burger-ingredients_ingredients__3U86K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__3B1Cq\",\"header\":\"modal_header__3F4Ga\",\"title\":\"modal_title__2uJj5\",\"someContainer\":\"modal_someContainer__3i7LI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3UhtW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ingredient-variants_list__X2Scw\",\"card\":\"ingredient-variants_card__1NQkn\",\"image\":\"ingredient-variants_image__1cNPR\",\"priceArea\":\"ingredient-variants_priceArea__3cUxI\",\"price\":\"ingredient-variants_price__3hiL9\",\"title\":\"ingredient-variants_title__1dSsn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__3nb6x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"element\":\"filling-ingredient_element__1mGml\"};","module.exports = __webpack_public_path__ + \"static/media/done.04891082.png\";"],"sourceRoot":""}