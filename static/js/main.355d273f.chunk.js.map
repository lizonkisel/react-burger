{"version":3,"sources":["components/ingredient-details/ingredient-details.module.css","components/app-header/app-header.module.css","reportWebVitals.ts","components/app-header/app-header.jsx","utils/prop-types.js","services/actions/current-ingredient.js","components/draggable-ingredient/draggable-ingredient.jsx","components/ingredient-variants/ingredient-variants.jsx","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","components/ingredient-details/ingredient-details.jsx","components/burger-ingredients/burger-ingredients.jsx","services/actions/constructor-ingredients.js","components/filling-ingredient/filling-ingredient.jsx","components/order-details/order-details.jsx","utils/data.js","services/actions/order.js","components/burger-constructor/burger-constructor.jsx","services/actions/all-ingredients.js","components/app/app.jsx","services/reducers/all-ingredients.js","services/reducers/order.js","services/reducers/constructor-ingredients.js","services/reducers/index.js","services/reducers/current-ingredient.js","services/store.js","index.js","components/burger-constructor/burger-constructor.module.css","components/draggable-ingredient/draggable-ingredient.module.css","components/order-details/order-details.module.css","components/burger-ingredients/burger-ingredients.module.css","components/modal/modal.module.css","components/app/app.module.css","components/ingredient-variants/ingredient-variants.module.css","components/modal-overlay/modal-overlay.module.css","components/filling-ingredient/filling-ingredient.module.css","images/done.png"],"names":["module","exports","card","image","nutritionalValue","component","componentName","header","menu","menuLeftColumn","logo","link","reportWebVitals","onPerfEntry","Function","__webpack_require__","e","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","AppHeader","react_default","a","createElement","className","concat","appHeader","react_developer_burger_ui_components_dist","type","typeOfIngredient","PropTypes","oneOf","shape","_id","string","isRequired","name","proteins","number","fat","carbohydrates","calories","price","image_mobile","image_large","__v","GET_CURRENT_INGREDIENT","getCurrentIngredient","item","DraggableIngredient","ingredient","ingredientsCount","useSelector","store","constructorIngredients","bun","ingredients","setCount","undefined","find","element","itemId","count","startCount","dispatch","useDispatch","_useDrag","useDrag","dragRef","Object","slicedToArray","styles","onClick","chooseIngredient","ref","draggable","src","size","priceArea","title","IngredientVariants","React","forwardRef","props","listOfIngredients","id","titleId","ingredientName","ingredientVariants","list","map","index","key","ModalOverlay","onOverlayClick","modalOverlay","overlay","modalsContainer","document","querySelector","Modal","onClose","children","closeModal","onEscapeClick","event","useEffect","addEventListener","removeEventListener","ReactDOM","createPortal","Fragment","modal","IngredientDetails","currentIngredient","ingredientDetails","BurgerIngredients","_React$useState","useState","_React$useState2","currentTab","setCurrentTab","tabClick","tab","getElementById","scrollIntoView","behavior","block","console","log","_useInView","useInView","threshold","_useInView2","bunRef","inViewBun","_useInView3","_useInView4","sauceRef","inViewSauce","_useInView5","_useInView6","mainRef","inViewMain","allIngredients","items","bunList","filter","sauceList","mainList","ingredientInModal","burgerIngredients","section","value","active","REORDER_INGREDIENT","ADD_TO_CONSTRUCTOR","DELETE_FROM_CONSTRUCTOR","FillingIngredient","useRef","uId","_useDrop","useDrop","accept","collect","monitor","handlerId","getHandlerId","hover","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","reorderIngredient","_useDrop2","drop","isDragging","_useDrag2","opacity","drag","data-handler-id","style","text","thumbnail","handleClose","deleteFromConstructor","OrderDetails","orderNumber","orderDetails","orderId","done","info","baseUrl","checkResponse","res","ok","json","Promise","reject","status","GET_ORDER","GET_ORDER_SUCCESS","GET_ORDER_FAILED","CLOSE_ORDER","BurgerConstructor","fillings","bunsPrice","isOrderRejected","order","isOrderModalClosed","useMemo","reduce","prevVal","curVal","uuidv4","addToConstructor","dropRef","burgerConstructor","compositionArea","isLocked","compositionChangebleList","i","currentIcon","ingredientsIdArray","push","forEach","filling","getIngredientsIdArray","isOrderSent","fetch","method","headers","Content-Type","body","JSON","stringify","isOrderRejectedd","catch","err","GET_ALL_INGREDIENTS","GET_ALL_INGREDIENTS_SUCCESS","GET_ALL_INGREDIENTS_FAILED","App","isLoading","isFailed","data","_useSelector","main","DndProvider","backend","HTML5Backend","initialState","orderInitialState","constructorInitialState","rootReducer","combineReducers","state","arguments","length","action","objectSpread","orice","arr","toConsumableArray","sameIndex","findIndex","sameElement","splice","spliceArr","update","$splice","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","render","StrictMode","es","app","someContainer","p"],"mappings":"wIACAA,EAAAC,QAAA,CAAkBC,KAAA,iCAAAC,MAAA,kCAAAC,iBAAA,6CAAAC,UAAA,sCAAAC,cAAA,+DCAlBN,EAAAC,QAAA,CAAkBM,OAAA,2BAAAC,KAAA,yBAAAC,eAAA,mCAAAC,KAAA,yBAAAC,KAAA,wGCaHC,UAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxCC,EAAAC,EAAA,GAAAC,KAAAF,EAAAG,KAAA,WAAqBD,KAAK,SAAAE,GAAiD,IAA9CC,EAA8CD,EAA9CC,OAAQC,EAAsCF,EAAtCE,OAAQC,EAA8BH,EAA9BG,OAAQC,EAAsBJ,EAAtBI,OAAQC,EAAcL,EAAdK,QAC3DJ,EAAOP,GACPQ,EAAOR,GACPS,EAAOT,GACPU,EAAOV,GACPW,EAAQX,wECCC,SAASY,IACtB,OACEC,EAAAC,EAAAC,cAAA,UAAQC,UAAS,SAAAC,OAAWC,IAAUxB,SACpCmB,EAAAC,EAAAC,cAAA,OAAKC,UAAS,aAAAC,OAAeC,IAAUvB,OACrCkB,EAAAC,EAAAC,cAAA,OAAKC,UAAWE,IAAUtB,gBACxBiB,EAAAC,EAAAC,cAAA,KAAGC,UAAS,uBAAAC,OAAyBC,IAAUpB,OAC7Ce,EAAAC,EAAAC,cAACI,EAAA,WAAD,CAAYC,KAAK,YACjBP,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oCAAhB,uEAEFH,EAAAC,EAAAC,cAAA,KAAGC,UAAS,uBAAAC,OAAyBC,IAAUpB,OAC7Ce,EAAAC,EAAAC,cAACI,EAAA,SAAD,CAAUC,KAAK,cACfP,EAAAC,EAAAC,cAAA,QAAMC,UAAU,wDAAhB,+EAGJH,EAAAC,EAAAC,cAAA,KAAGC,UAAS,uBAAAC,OAAyBC,IAAUpB,OAC7Ce,EAAAC,EAAAC,cAACI,EAAA,YAAD,CAAaC,KAAK,cAClBP,EAAAC,EAAAC,cAAA,QAAMC,UAAU,wDAAhB,qFAGJH,EAAAC,EAAAC,cAAA,OAAKC,UAAWE,IAAUrB,MACtBgB,EAAAC,EAAAC,cAACI,EAAA,KAAD,8EC5BJE,EAAmBC,IAAUC,MAAM,CAAC,MAAO,QAAS,YAE9BD,IAAUE,MAAM,CAC1CC,IAAKH,IAAUI,OAAOC,WACtBC,KAAMN,IAAUI,OAAOC,WACvBP,KAAMC,EACNQ,SAAUP,IAAUQ,OAAOH,WAC3BI,IAAKT,IAAUQ,OAAOH,WACtBK,cAAeV,IAAUQ,OAAOH,WAChCM,SAAUX,IAAUQ,OAAOH,WAC3BO,MAAOZ,IAAUQ,OAAOH,WACxBrC,MAAOgC,IAAUI,OAAOC,WACxBQ,aAAcb,IAAUI,OAAOC,WAC/BS,YAAad,IAAUI,OAAOC,WAC9BU,IAAKf,IAAUQ,OAAOH,sCChBlBW,EAAyB,0BAI/B,SAASC,EAAqBC,GAC5B,MAAO,CACLpB,KAAMkB,EACNE,QCOW,SAASC,EAATnC,GAA2C,IAAboC,EAAapC,EAAboC,WAErCC,EAAmBC,YAAY,SAAAC,GAAK,OAAIA,EAAMC,uBAAuBH,mBACrEI,EAAMH,YAAY,SAAAC,GAAK,OAAIA,EAAMC,uBAAuBE,YAAYD,MAE1E,SAASE,IACP,GAAY,OAARF,GAAgBA,EAAItB,MAAQiB,EAAWjB,IAAK,CAE9C,OADc,EAMhB,YAHsFyB,IAAxEP,EAAiBQ,KAAK,SAAAC,GAAO,OAAIA,EAAQC,SAAWX,EAAWjB,MAC7E,KACAkB,EAAiBQ,KAAK,SAAAC,GAAO,OAAIA,EAAQC,SAAWX,EAAWjB,MAAK6B,MAItE,IAAMC,EAAaN,IAEbO,EAAWC,cAlBuC,IAAAC,EAyBpCC,YAAQ,CAC1BvC,KAAM,aACNoB,KAAME,IAFCkB,EAzB+CC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,MA8BxD,OACE7C,EAAAC,EAAAC,cAAA,MAAIC,UAAS,IAAAC,OAAM8C,IAAO1E,MAAQ2E,QAAS,YAX7C,SAA0BtB,GACxBc,EAASjB,EAAqBG,IAUoBuB,CAAiBvB,IAAcwB,IAAKN,EAASO,WAAS,GACtGtD,EAAAC,EAAAC,cAAA,OAAKC,UAAS,aAAAC,OAAe8C,IAAOzE,OAAS8E,IAAK1B,EAAWpD,QAC3DiE,GACA1C,EAAAC,EAAAC,cAACI,EAAA,QAAD,CAASmC,MAAOL,IAAYoB,KAAK,YAEnCxD,EAAAC,EAAAC,cAAA,OAAKC,UAAW+C,IAAOO,WACrBzD,EAAAC,EAAAC,cAAA,KAAGC,UAAS,iCAAAC,OAAmC8C,IAAO7B,QAAUQ,EAAWR,OAC3ErB,EAAAC,EAAAC,cAACI,EAAA,aAAD,CAAcC,KAAK,aAErBP,EAAAC,EAAAC,cAAA,KAAGC,UAAS,+BAAAC,OAAiC8C,IAAOQ,QAAU7B,EAAWd,OC5CxE,IAAM4C,EAAqBC,IAAMC,WAAW,SAACC,EAAOT,GAEzD,IAAMlB,EAAc2B,EAAMC,kBAE1B,OACE/D,EAAAC,EAAAC,cAAA,WAAS8D,GAAIF,EAAMG,SACjBjE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,8BAA8B2D,EAAMI,gBAClDlE,EAAAC,EAAAC,cAAA,MAAIC,UAAS,wBAAAC,OAA0B+D,IAAmBC,MAAQf,IAAKA,GAEnElB,EAAYkC,IAAI,SAACxC,EAAYyC,GAAb,OACdtE,EAAAC,EAAAC,cAAC0B,EAAD,CAAqBC,WAAYA,EAAY0C,IAAKD,4CCd/C,SAASE,EAAT/E,GAAwC,IAAjBgF,EAAiBhF,EAAjBgF,eACpC,OACEzE,EAAAC,EAAAC,cAAA,OAAKC,UAAWuE,IAAaC,QAASxB,QAASsB,ICInD,IAAMG,EAAkBC,SAASC,cAAc,WAEhC,SAASC,EAATtF,GAA2C,IAA3BiE,EAA2BjE,EAA3BiE,MAAOsB,EAAoBvF,EAApBuF,QAASC,EAAWxF,EAAXwF,SAE7C,SAASC,IACPF,IAGF,SAASG,EAAcC,GACH,WAAdA,EAAMb,KACRW,IAmBJ,OAXAtB,IAAMyB,UACJ,WAGE,OAFAR,SAASS,iBAAiB,UAAWH,GAE9B,WACLN,SAASU,oBAAoB,UAAWJ,KAEzC,IAIEK,IAASC,aACbzF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyF,SAAA,KACC1F,EAAAC,EAAAC,cAAA,OAAKC,UAAWwF,IAAMA,OACpB3F,EAAAC,EAAAC,cAAA,OAAKC,UAAS,qBAAAC,OAAuBuF,IAAM9G,SACzCmB,EAAAC,EAAAC,cAAA,MAAIC,UAAS,6BAAAC,OAA+BuF,IAAMjC,QAAUA,GAC5D1D,EAAAC,EAAAC,cAAA,OAAKiD,QApBb,WACE+B,MAoBQlF,EAAAC,EAAAC,cAACI,EAAA,UAAD,CAAWC,KAAK,cAGnB0E,GAIHjF,EAAAC,EAAAC,cAACsE,EAAD,CAAcC,eAAgBS,KAGhCN,wBCpDW,SAASgB,IAExB,IAAMC,EAAoB9D,YAAY,SAAAC,GAAK,OAAIA,EAAM6D,oBAEnD,OACE7F,EAAAC,EAAAC,cAAA,WAASC,UAAW2F,IAAkBtH,MACpCwB,EAAAC,EAAAC,cAAA,OAAKC,UAAW2F,IAAkBrH,MAAO8E,IAAKsC,EAAkBtE,cAChEvB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,wCAAwC0F,EAAkB9E,MACxEf,EAAAC,EAAAC,cAAA,MAAIC,UAAS,SAAAC,OAAW0F,IAAkBpH,mBACxCsB,EAAAC,EAAAC,cAAA,MAAIC,UAAS,mDAAAC,OAAqD0F,IAAkBnH,YAClFqB,EAAAC,EAAAC,cAAA,KAAGC,UAAW2F,IAAkBlH,eAAhC,uEACAoB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,4BAA4B0F,EAAkBzE,WAEhEpB,EAAAC,EAAAC,cAAA,MAAIC,UAAS,mDAAAC,OAAqD0F,IAAkBnH,YAClFqB,EAAAC,EAAAC,cAAA,KAAGC,UAAW2F,IAAkBlH,eAAhC,0CACAoB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,4BAA4B0F,EAAkB7E,WAEhEhB,EAAAC,EAAAC,cAAA,MAAIC,UAAS,mDAAAC,OAAqD0F,IAAkBnH,YAClFqB,EAAAC,EAAAC,cAAA,KAAGC,UAAW2F,IAAkBlH,eAAhC,oCACAoB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,4BAA4B0F,EAAkB3E,MAEhElB,EAAAC,EAAAC,cAAA,MAAIC,UAAS,mDAAAC,OAAqD0F,IAAkBnH,YAClFqB,EAAAC,EAAAC,cAAA,KAAGC,UAAW2F,IAAkBlH,eAAhC,4DACAoB,EAAAC,EAAAC,cAAA,QAAMC,UAAU,4BAA4B0F,EAAkB1E,kBCbzD,SAAS4E,IAEtB,IAAMpD,EAAWC,cAFyBoD,EAINpC,IAAMqC,SAAS,QAJTC,EAAAlD,OAAAC,EAAA,EAAAD,CAAAgD,EAAA,GAInCG,EAJmCD,EAAA,GAIvBE,EAJuBF,EAAA,GAM1C,SAASG,EAASC,GAChBF,EAAcE,GACd,IAAM/D,EAAUsC,SAAS0B,eAAeD,GACxC/D,EAAQiE,eAAe,CAACC,SAAU,SAAUC,MAAO,UACnDC,QAAQC,IAAIrE,GAV4B,IAAAsE,EAadC,YAAU,CACpCC,UAAW,KAd6BC,EAAAhE,OAAAC,EAAA,EAAAD,CAAA6D,EAAA,GAanCI,EAbmCD,EAAA,GAa3BE,EAb2BF,EAAA,GAAAG,EAiBVL,YAAU,CACxCC,UAAW,KAlB6BK,EAAApE,OAAAC,EAAA,EAAAD,CAAAmE,EAAA,GAiBnCE,EAjBmCD,EAAA,GAiBzBE,EAjByBF,EAAA,GAAAG,EAqBZT,YAAU,CACtCC,UAAW,KAtB6BS,EAAAxE,OAAAC,EAAA,EAAAD,CAAAuE,EAAA,GAqBnCE,EArBmCD,EAAA,GAqB1BE,EArB0BF,EAAA,GAyB1CnC,oBAAU,WACJ6B,EACFd,EAAc,QACLkB,EACTlB,EAAc,UACLsB,GACTtB,EAAc,UAEf,CAACc,EAAWI,EAAaI,IAG5B,IAAM3D,EAAoBhC,YAAY,SAAAC,GAAK,OAAIA,EAAM2F,eAAeC,QAE9DC,EAAU9D,EAAkB+D,OAAO,SAACjG,GACxC,MAA2B,QAApBA,EAAWtB,OAGdwH,EAAYhE,EAAkB+D,OAAO,SAACjG,GAC1C,MAA2B,UAApBA,EAAWtB,OAGdyH,EAAWjE,EAAkB+D,OAAO,SAACjG,GACzC,MAA2B,SAApBA,EAAWtB,OAGd0H,EAAoBlG,YAAY,SAAAC,GAAK,OAAIA,EAAM6D,oBAErD,OACE7F,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyF,SAAA,KACE1F,EAAAC,EAAAC,cAAA,WAASC,UAAW+H,IAAkBC,SACpCnI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,wCAAd,yFACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,SAAAC,OAAW8H,IAAkBpJ,OACzCkB,EAAAC,EAAAC,cAACI,EAAA,IAAD,CAAK8H,MAAM,OAAOC,OAAuB,SAAflC,EAAuBhD,QAASkD,GAA1D,kCAGArG,EAAAC,EAAAC,cAACI,EAAA,IAAD,CAAK8H,MAAM,SAASC,OAAuB,WAAflC,EAAyBhD,QAASkD,GAA9D,kCAGArG,EAAAC,EAAAC,cAACI,EAAA,IAAD,CAAK8H,MAAM,QAAQC,OAAuB,UAAflC,EAAwBhD,QAASkD,GAA5D,+CAIFrG,EAAAC,EAAAC,cAAA,WAASC,UAAW+H,IAAkB/F,aACpCnC,EAAAC,EAAAC,cAACyD,EAAD,CAAoBO,eAAe,iCAAQH,kBAAmB8D,EAAS5D,QAAQ,OAAOZ,IAAK4D,IAC3FjH,EAAAC,EAAAC,cAACyD,EAAD,CAAoBO,eAAe,iCAAQH,kBAAmBgE,EAAW9D,QAAQ,SAASZ,IAAKgE,IAC/FrH,EAAAC,EAAAC,cAACyD,EAAD,CAAoBO,eAAe,6CAAUH,kBAAmBiE,EAAU/D,QAAQ,QAAQZ,IAAKoE,MAIlGQ,GACDjI,EAAAC,EAAAC,cAAC6E,EAAD,CAAOrB,MAAM,0GAAqBsB,QAAS,kBAAMrC,EAASjB,EAAqB,SAC7E1B,EAAAC,EAAAC,cAAC0F,EAAD,gECzFF0C,EAAqB,qBACrBC,EAAqB,qBACrBC,EAA0B,0BCUjB,SAASC,EAAThJ,GAA4C,IAAfkC,EAAelC,EAAfkC,KAAM2C,EAAS7E,EAAT6E,MAE1C3B,EAAWC,cAWXS,EAAMqF,iBAAO,MACb1E,EAAKrC,EAAKgH,IAdyCC,EAgB3BC,YAAQ,CACpCC,OAAQ,WACRC,QAFoC,SAE5BC,GACN,MAAO,CACLC,UAAWD,EAAQE,iBAGvBC,MAPoC,SAO9BxH,EAAMqH,GACV,GAAK3F,EAAI+F,QAAT,CAGA,IAAMC,EAAY1H,EAAK2C,MACjBgF,EAAahF,EAEnB,GAAI+E,IAAcC,EAAlB,CAGA,IAAMC,EAAoBlG,EAAI+F,QAAQI,wBAChCC,GAAgBF,EAAkBG,OAASH,EAAkBI,KAAO,EAEpEC,EADeZ,EAAQa,kBACKC,EAAIP,EAAkBI,IAEpDN,EAAYC,GAAcM,EAAeH,GAGzCJ,EAAYC,GAAcM,EAAeH,IAS7C9G,ED1CN,SAA2B0G,EAAWC,GACpC,MAAO,CACL/I,KAAM+H,EACNe,UAAWA,EACXC,WAAYA,GCsCDS,CAAkBV,EAAWC,IACtC3H,EAAK2C,MAAQgF,QAnDwCU,EAAAhH,OAAAC,EAAA,EAAAD,CAAA4F,EAAA,GAgBhDK,EAhBgDe,EAAA,GAgBhDf,UAAagB,EAhBmCD,EAAA,GAAAnH,EAuD1BC,YAAQ,CACrCvC,KAAM,WACNoB,KAAM,WACJ,MAAO,CAAEqC,KAAIM,UAEfyE,QAAS,SAACC,GAAD,MAAc,CACrBkB,WAAYlB,EAAQkB,iBA7DiCC,EAAAnH,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAiEnDuH,EAjEmDD,EAAA,GAuDhDD,WAUoB,EAAI,EAKjC,OAHAG,EAnEyDF,EAAA,IAmEpDF,EAAK5G,IAIRrD,EAAAC,EAAAC,cAAA,MAAIC,UAAW+C,IAAOX,QAASe,WAAS,EAACD,IAAKA,EAAKiH,kBAAiBrB,EAAWsB,MAAO,CAAEH,YACtFpK,EAAAC,EAAAC,cAACI,EAAA,SAAD,CAAUC,KAAK,YACfP,EAAAC,EAAAC,cAACI,EAAA,mBAAD,CACEkK,KAAM7I,EAAKZ,KACXM,MAAOM,EAAKN,MACZoJ,UAAW9I,EAAKlD,MAChBiM,YAAa,kBAAM/H,ED7E3B,SAA+BhB,EAAM4C,GACnC,MAAO,CACLhE,KAAMiI,EACN7G,KAAMA,EACN4C,IAAKA,GCyE2BoG,CAAsBhJ,EAAM2C,oDCnFjD,SAASsG,GAATnL,GAAqC,IAAdoL,EAAcpL,EAAdoL,YAEpC,OACE7K,EAAAC,EAAAC,cAAA,WAASC,UAAW2K,KAAatM,MAC/BwB,EAAAC,EAAAC,cAAA,KAAGC,UAAS,+BAAAC,OAAiC0K,KAAaC,UAAYF,GACtE7K,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mCAAhB,uHACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,eAAAC,OAAiB0K,KAAarM,OAAS8E,IAAKyH,OAC1DhL,EAAAC,EAAAC,cAAA,OAAKC,UAAS,SAAAC,OAAW0K,KAAaG,OACpCjL,EAAAC,EAAAC,cAAA,KAAGC,UAAU,+BAAb,2IACAH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mDAAb,oPCjBR,IAAM+K,GAAU,wCAEhB,SAASC,GAAcC,GACrB,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAOJ,EAAIK,QAQ9B,ICZMC,GAAY,YACZC,GAAoB,oBACpBC,GAAmB,mBACnBC,GAAc,cCcL,SAASC,KAEtB,IAAM7J,EAAyBF,YAAY,SAAAC,GAAK,OAAIA,EAAMC,uBAAuBE,YAAY4J,WAEvF7J,EAAMH,YAAY,SAAAC,GAAK,OAAIA,EAAMC,uBAAuBE,YAAYD,MAEpE8J,EAAoB,OAAR9J,EAClB,EACY,EAAZA,EAAIb,MAEE4K,EAAkBlK,YAAY,SAAAC,GAAK,OAAIA,EAAMkK,MAAMD,kBACnDE,EAAqBpK,YAAY,SAAAC,GAAK,OAAIA,EAAMkK,MAAMC,qBACtDtB,EAAc9I,YAAY,SAAAC,GAAK,OAAIA,EAAMkK,MAAMjL,SAiBrD,IAAM0B,EAAWC,cAEXvB,EAAQ+K,kBAAQ,WACpB,OACEnK,EAAuBoK,OAAO,SAACC,EAASC,GAAV,OAAqBD,EAAUC,EAAOlL,OAAO2K,IAE5E,CAAC/J,IAnCuC2G,EAqCvBC,YAAQ,CAC1BC,OAAQ,aACRmB,KAF0B,SAErBtI,GAMHgB,EL1DN,SAA0BhB,GACxB,MAAO,CACLpB,KAAMgI,EACN5G,KAAMA,EACNgH,IAAK6D,eKsDMC,CAAiB9K,OARrB+K,EArCkC1J,OAAAC,EAAA,EAAAD,CAAA4F,EAAA,MAkD3C,OACE5I,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyF,SAAA,KACE1F,EAAAC,EAAAC,cAAA,WAASC,UAAS,GAAAC,OAAKuM,IAAkBxE,QAAvB,WAChBnI,EAAAC,EAAAC,cAAA,WAASC,UAAS,GAAAC,OAAKuM,IAAkBC,gBAAvB,SAA+CvJ,IAAKqJ,GAElExK,GACAlC,EAAAC,EAAAC,cAACI,EAAA,mBAAD,CAAoBH,UAAWwM,IAAkBpK,QACjDhC,KAAK,MACLsM,UAAU,EACVrC,KAAI,GAAApK,OAAK8B,EAAInB,KAAT,+BACJM,MAAOa,EAAIb,MACXoJ,UAAWvI,EAAIzD,QAGjBuB,EAAAC,EAAAC,cAAA,MAAIC,UAAWwM,IAAkBG,0BAE5B7K,GAA0BA,EAAuBoC,IAAI,SAACxC,EAAYkL,GAAb,OACpD/M,EAAAC,EAAAC,cAACuI,EAAD,CAAmB9G,KAAME,EAAYyC,MAAOyI,EAAGxI,IAAK1C,EAAW8G,SAMnEzG,GACAlC,EAAAC,EAAAC,cAACI,EAAA,mBAAD,CACAC,KAAK,SACLsM,UAAU,EACVrC,KAAI,GAAApK,OAAK8B,EAAInB,KAAT,yBACJM,MAAOa,EAAIb,MACXoJ,UAAWvI,EAAIzD,SAInBuB,EAAAC,EAAAC,cAAA,WAASC,UAAS,SAAAC,OAAWuM,IAAkB1B,OAC7CjL,EAAAC,EAAAC,cAAA,OAAKC,UAAWwM,IAAkBlJ,WAChCzD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gCAETkB,GAGJrB,EAAAC,EAAAC,cAAA,OAAKC,UAAWwM,IAAkBK,aAChChN,EAAAC,EAAAC,cAACI,EAAA,aAAD,CAAcC,KAAK,cAGvBP,EAAAC,EAAAC,cAACI,EAAA,OAAD,CAAQC,KAAK,UAAUiD,KAAK,QAAQL,QAAS,WD1GvD,IAAkB8J,EC0G4CtK,GD1G5CsK,EC0BhB,WACE,IAAMA,EAAqB,GAW3B,OAVY,OAAR/K,GACF+K,EAAmBC,KAAKhL,EAAItB,KAE9BqB,EAAuBkL,QAAQ,SAACC,GAC9BH,EAAmBC,KAAKE,EAAQxM,OAEtB,OAARsB,GACF+K,EAAmBC,KAAKhL,EAAItB,KAGvBqM,EAoEqEI,GDzGvE,SAAS1K,GACdA,EAAS,CACPpC,KAAMmL,GACNS,oBAAoB,EACpBmB,aAAa,EACbrB,iBAAiB,IAGnBsB,MAAK,GAAAnN,OAAI8K,GAAJ,WAAsB,CACzBsC,OAAQ,OACRC,QAAS,CACPC,eAAgB,kCAElBC,KAAMC,KAAKC,UAAU,CACnB1L,YAAe8K,MAGlB1N,KAAK4L,IACL5L,KAAK,SAAA6L,GACJzI,EAAS,CACPpC,KAAMoL,GACNQ,oBAAoB,EACpBmB,aAAa,EACbQ,kBAAkB,EAClB7M,OAAQmK,EAAIc,MAAMjL,WAGrB8M,MAAM,SAAAC,GAAQrH,QAAQC,IAAIoH,EAAKA,EAAIvC,QAClC9I,EAAS,CACPpC,KAAMqL,GACNO,oBAAoB,EACpBmB,aAAa,EACbrB,iBAAiB,WCyEf,sFAODA,IACAE,GAECnM,EAAAC,EAAAC,cAAC6E,EAAD,CACErB,MAAM,GACNsB,QAAS,kBAAMrC,ED9ElB,CACLpC,KAAMsL,GACNM,oBAAoB,EACpBlL,OAAQ,SC6EAjB,EAAAC,EAAAC,cAAC0K,GAAD,CACEC,YAAaA,MC9H3B,IAAMoD,GAAsB,sBACtBC,GAA8B,8BAC9BC,GAA6B,6BCgDpBC,OArCf,WAEE,IAAMzL,EAAWC,cAEjByC,oBAAU,WACR1C,EDbK,SAASA,GACdA,EAAS,CACPpC,KAAM0N,GACNI,WAAW,EACXC,UAAU,IAGZf,MAAK,GAAAnN,OAAI8K,GAAJ,iBACF3L,KAAK4L,IACL5L,KAAM,SAAA6L,GACLzI,EAAS,CACPpC,KAAM2N,GACNG,WAAW,EACXC,UAAU,EACV1G,MAAOwD,EAAImD,SAGdR,MAAM,SAAAC,GAAG,OAAIrL,EAAS,CACrBpC,KAAM4N,GACNE,WAAW,EACXC,UAAU,SCNb,IANU,IAAAE,EAQiBzM,YAAY,SAAAC,GAAK,OAAIA,EAAM2F,iBAAlD0G,EARMG,EAQNH,UAAWC,EARLE,EAQKF,SAEZvK,EAAoBhC,YAAY,SAAAC,GAAK,OAAIA,EAAM2F,eAAeC,QAEpE,OACE5H,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyF,SAAA,KACI1F,EAAAC,EAAAC,cAACH,EAAD,MACAC,EAAAC,EAAAC,cAAA,QAAMC,UAAW+C,IAAOuL,MACpBzO,EAAAC,EAAAC,cAACwO,EAAA,EAAD,CAAaC,QAASC,KAGpBP,GAAarO,EAAAC,EAAAC,cAAA,KAAGC,UAAU,8BAAb,kGAGbmO,GAAYtO,EAAAC,EAAAC,cAAA,KAAGC,UAAU,8BAAb,wTAGZ4D,GACA/D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyF,SAAA,KACE1F,EAAAC,EAAAC,cAAC6F,EAAD,MACA/F,EAAAC,EAAAC,cAAC4L,GAAD,qCCzCV+C,GAAe,CACnBR,WAAW,EACXC,UAAU,EACV1G,MAAO,MCHHkH,GAAoB,CACxB3C,oBAAoB,EACpBmB,aAAa,EACbrB,iBAAiB,EACjBhL,OAAQ,mCCFJ8N,GAA0B,CAC9B5M,YAAa,CACXD,IAAK,KACL6J,SAAU,IAEZjK,iBAAkB,ICFdkN,GAAcC,aAAgB,CAClCtH,eHA4B,WAAkC,IAAjCuH,EAAiCC,UAAAC,OAAA,QAAA/M,IAAA8M,UAAA,GAAAA,UAAA,GAAzBN,GAAcQ,EAAWF,UAAAC,OAAA,EAAAD,UAAA,QAAA9M,EAC9D,OAAQgN,EAAO9O,MACb,KAAK0N,GACH,OAAOjL,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEEb,UAAWgB,EAAOhB,UAClBC,SAAUe,EAAOf,WAGrB,KAAKJ,GACH,OAAOlL,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEEb,UAAWgB,EAAOhB,UAClBC,SAAUe,EAAOf,SACjB1G,MAAOyH,EAAOzH,QAGlB,KAAKuG,GACH,OAAOnL,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEEb,UAAWgB,EAAOhB,UAClBC,SAAUe,EAAOf,WAGrB,QACE,OAAOY,IGxBXrJ,kBCL+B,WAA0B,IAAzBqJ,EAAyBC,UAAAC,OAAA,QAAA/M,IAAA8M,UAAA,GAAAA,UAAA,GAAjB,KAAME,EAAWF,UAAAC,OAAA,EAAAD,UAAA,QAAA9M,EACzD,OAAQgN,EAAO9O,MACb,KAAKkB,EACH,OAAoB,OAAhB4N,EAAO1N,KACF,KAEAqB,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEElL,GAAIqL,EAAO1N,KAAKf,IAChBG,KAAMsO,EAAO1N,KAAKZ,KAClBR,KAAM8O,EAAO1N,KAAKpB,KAClBS,SAAUqO,EAAO1N,KAAKX,SACtBE,IAAKmO,EAAO1N,KAAKT,IACjBC,cAAekO,EAAO1N,KAAKR,cAC3BC,SAAUiO,EAAO1N,KAAKP,SACtBC,MAAOgO,EAAO1N,KAAK4N,MACnB9Q,MAAO4Q,EAAO1N,KAAKlD,MACnB6C,aAAc+N,EAAO1N,KAAKL,aAC1BC,YAAa8N,EAAO1N,KAAKJ,YACzBC,IAAK6N,EAAO1N,KAAKH,MAIvB,QACE,OAAO0N,IDlBXhD,MFDmB,WAAuC,IAAtCgD,EAAsCC,UAAAC,OAAA,QAAA/M,IAAA8M,UAAA,GAAAA,UAAA,GAA9BL,GAAmBO,EAAWF,UAAAC,OAAA,EAAAD,UAAA,QAAA9M,EAC1D,OAAQgN,EAAO9O,MACb,KAAKmL,GACH,OAAO1I,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEE/C,mBAAoBkD,EAAOlD,mBAC3BmB,YAAa+B,EAAO/B,YACpBrB,gBAAiBoD,EAAOpD,kBAI5B,KAAKN,GACH,OAAO3I,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEE/C,mBAAoBkD,EAAOlD,mBAC3BmB,YAAa+B,EAAO/B,YACpBrB,gBAAiBoD,EAAOpD,gBACxBhL,OAAQoO,EAAOpO,SAGnB,KAAK2K,GACH,OAAO5I,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEE/C,mBAAoBkD,EAAOlD,mBAC3BmB,YAAa+B,EAAO/B,YACpBrB,gBAAiBoD,EAAOpD,kBAG5B,KAAKJ,GACH,OAAO7I,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEE/C,mBAAoBkD,EAAOlD,mBAC3BlL,OAAQoO,EAAOpO,SAGnB,QACE,OAAOiO,IElCXjN,uBDCoC,WAA6C,IAA5CiN,EAA4CC,UAAAC,OAAA,QAAA/M,IAAA8M,UAAA,GAAAA,UAAA,GAApCJ,GAAyBM,EAAWF,UAAAC,OAAA,EAAAD,UAAA,QAAA9M,EACjF,OAAQgN,EAAO9O,MACb,KAAKgI,EAEH,IAAIiH,EAAGxM,OAAAyM,GAAA,EAAAzM,CAAOkM,EAAMpN,kBACd4N,EAAYF,EAAIG,UAAU,SAAApN,GAAO,OAAIA,EAAQC,SAAW6M,EAAO1N,KAAKf,MACpEgP,EAAcJ,EAAIE,GAKxB,OAJe,IAAfA,EACAF,EAAItC,KAAK,CAAC1K,OAAQ6M,EAAO1N,KAAKf,IAAK6B,MAAO,IAC1C+M,EAAIK,OAAOH,EAAW,EAAG,CAAClN,OAAQoN,EAAYpN,OAAQC,MAAOmN,EAAYnN,MAAQ,IAE1EO,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEE/M,YACuB,QAArBkN,EAAO1N,KAAKpB,KACZ,CAAC2B,IAAKmN,EAAO1N,KAAMoK,SAAS/I,OAAAyM,GAAA,EAAAzM,CAAKkM,EAAM/M,YAAY4J,WADnD/I,OAAAsM,GAAA,EAAAtM,CAAA,GAEIkM,EAAM/M,YAFV,CAEuB4J,SAAQ,GAAA3L,OAAA4C,OAAAyM,GAAA,EAAAzM,CAAMkM,EAAM/M,YAAY4J,UAAxB,CAAA/I,OAAAsM,GAAA,EAAAtM,CAAA,GAAsCqM,EAAO1N,KAA7C,CAAmDgH,IAAK0G,EAAO1G,UAEhG7G,iBACuB,QAArBuN,EAAO1N,KAAKpB,KAAZyC,OAAAyM,GAAA,EAAAzM,CACIkM,EAAMpN,kBACV0N,IAIN,KAAKhH,EACH,IAAMsH,EAAS9M,OAAAyM,GAAA,EAAAzM,CAAOkM,EAAM/M,YAAY4J,UACxC+D,EAAUD,OAAOR,EAAO9K,IAAK,GAE7B,IAAIiL,EAAGxM,OAAAyM,GAAA,EAAAzM,CAAOkM,EAAMpN,kBACd4N,EAAYF,EAAIG,UAAU,SAAApN,GAAO,OAAIA,EAAQC,SAAW6M,EAAO1N,KAAKf,MACpEgP,EAAcJ,EAAIE,GAMxB,OALsB,IAAtBE,EAAYnN,MACZ+M,EAAIK,OAAOH,EAAW,GACtBF,EAAIK,OAAOH,EAAW,EAAG,CAAClN,OAAQoN,EAAYpN,OAAQC,MAAOmN,EAAYnN,MAAQ,IAG1EO,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEE/M,YAAYa,OAAAsM,GAAA,EAAAtM,CAAA,GAAKkM,EAAM/M,YAAZ,CAAyB4J,SAAU+D,IAC9ChO,iBAAkB0N,IAGtB,KAAKlH,EACH,OAAOtF,OAAAsM,GAAA,EAAAtM,CAAA,GACFkM,EADL,CAEE/M,YAAYa,OAAAsM,GAAA,EAAAtM,CAAA,GAAMkM,EAAM/M,YAAb,CACX4J,SAAUgE,KAAOb,EAAM/M,YAAY4J,SAAU,CAC3CiE,QAAS,CACP,CAACX,EAAOhG,UAAW,GACnB,CAACgG,EAAO/F,WAAY,EAAG4F,EAAM/M,YAAY4J,SAASsD,EAAOhG,mBAMjE,QACE,OAAO6F,MG3DPe,IAJY,kBAAXC,QAAuBA,OAAOC,qCACjCD,OAAOC,qCAAqC,IAC5CC,MAE8BC,aAAgBC,OAE5CtO,GAAQuO,aAAYvB,GAAaiB,ICFvCzK,IAASgL,OACPxQ,EAAAC,EAAAC,cAACF,EAAAC,EAAMwQ,WAAP,KACEzQ,EAAAC,EAAAC,cAACwQ,EAAA,EAAD,CAAU1O,MAAOA,IACfhC,EAAAC,EAAAC,cAACyQ,GAAD,QAGJ9L,SAAS0B,eAAe,SAE1BrH,wBCjBAZ,EAAAC,QAAA,CAAkB4J,QAAA,oCAAAyE,gBAAA,4CAAAE,yBAAA,+FAAA7B,KAAA,iCAAAxH,UAAA,sCAAAuJ,YAAA,6DCAlB1O,EAAAC,QAAA,CAAkBC,KAAA,mCAAAC,MAAA,oCAAAgF,UAAA,wCAAApC,MAAA,oCAAAqC,MAAA,yDCAlBpF,EAAAC,QAAA,CAAkBC,KAAA,4BAAAuM,QAAA,+BAAAtM,MAAA,6BAAAwM,KAAA,iDCAlB3M,EAAAC,QAAA,CAAkB4J,QAAA,oCAAArJ,KAAA,iCAAAqD,YAAA,6DCAlB7D,EAAAC,QAAA,CAAkBoH,MAAA,qBAAA9G,OAAA,sBAAA6E,MAAA,qBAAAkN,cAAA,kDCAlBtS,EAAAC,QAAA,CAAkBkQ,KAAA,uCCAlBnQ,EAAAC,QAAA,CAAkB6F,KAAA,kCAAA5F,KAAA,kCAAAC,MAAA,mCAAAgF,UAAA,uCAAApC,MAAA,mCAAAqC,MAAA,wDCAlBpF,EAAAC,QAAA,CAAkBoG,QAAA,oDCAlBrG,EAAAC,QAAA,CAAkBgE,QAAA,yDCDlBjE,EAAAC,QAAiBc,EAAAwR,EAAuB","file":"static/js/main.355d273f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ingredient-details_card__1uGau\",\"image\":\"ingredient-details_image__1gJT6\",\"nutritionalValue\":\"ingredient-details_nutritionalValue__2VXlS\",\"component\":\"ingredient-details_component__h2iHZ\",\"componentName\":\"ingredient-details_componentName__1obsM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__3aP_-\",\"menu\":\"app-header_menu__BYcXU\",\"menuLeftColumn\":\"app-header_menuLeftColumn__1efEX\",\"logo\":\"app-header_logo__3FgJz\",\"link\":\"app-header_link__JBl_Q\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React  from 'react';\r\n\r\nimport { Logo } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { BurgerIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { ListIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport appHeader from './app-header.module.css';\r\n\r\n\r\nexport default function AppHeader() {\r\n  return (\r\n    <header className={`mt-10 ${appHeader.header}`}>\r\n      <nav className={`pb-4 pt-4 ${appHeader.menu}`} >\r\n        <div className={appHeader.menuLeftColumn}>\r\n          <a className={`pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`}>\r\n            <BurgerIcon type=\"primary\"/>\r\n            <span className=\"text text_type_main-default pl-2\">Конструктор</span>\r\n          </a>\r\n          <a className={`pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`}>\r\n            <ListIcon type=\"secondary\" />\r\n            <span className=\"text text_type_main-default text_color_inactive pl-2\">Лента заказов</span>\r\n          </a>\r\n        </div>\r\n        <a className={`pl-5 pr-5 pt-4 pb-4 ${appHeader.link}`}>\r\n          <ProfileIcon type=\"secondary\" />\r\n          <span className=\"text text_type_main-default text_color_inactive pl-2\">Личный кабинет</span>\r\n        </a>\r\n      </nav>\r\n      <div className={appHeader.logo}>\r\n          <Logo />\r\n        </div>\r\n    </header>\r\n  )\r\n}\r\n","import PropTypes from 'prop-types';\r\n\r\nconst typeOfIngredient = PropTypes.oneOf(['bun', 'sauce', 'main']);\r\n\r\nconst ingredientPropTypes = PropTypes.shape({\r\n  _id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  type: typeOfIngredient,\r\n  proteins: PropTypes.number.isRequired,\r\n  fat: PropTypes.number.isRequired,\r\n  carbohydrates: PropTypes.number.isRequired,\r\n  calories: PropTypes.number.isRequired,\r\n  price: PropTypes.number.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  image_mobile: PropTypes.string.isRequired,\r\n  image_large: PropTypes.string.isRequired,\r\n  __v: PropTypes.number.isRequired\r\n})\r\n\r\nexport {ingredientPropTypes}\r\n","const GET_CURRENT_INGREDIENT = 'GET_CURRENT_INGREDIENTS';\r\nconst GET_CURRENT_INGREDIENT_SUCCESS = 'GET_CURRENT_INGREDIENTS_SUCCESS';\r\nconst GET_CURRENT_INGREDIENT_FAILED = 'GET_CURRENT_INGREDIENTS_FAILED';\r\n\r\nfunction getCurrentIngredient(item) {\r\n  return {\r\n    type: GET_CURRENT_INGREDIENT,\r\n    item\r\n  }\r\n};\r\n\r\nexport {GET_CURRENT_INGREDIENT, getCurrentIngredient, GET_CURRENT_INGREDIENT_SUCCESS, GET_CURRENT_INGREDIENT_FAILED}\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useDrag } from 'react-dnd';\r\n\r\nimport styles from './draggable-ingredient.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\r\n\r\nimport {Counter} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {CurrencyIcon} from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport {getCurrentIngredient} from '../../services/actions/current-ingredient.js';\r\n\r\nexport default function DraggableIngredient({ingredient}) {\r\n\r\n  const ingredientsCount = useSelector(store => store.constructorIngredients.ingredientsCount);\r\n  const bun = useSelector(store => store.constructorIngredients.ingredients.bun);\r\n\r\n  function setCount() {\r\n    if (bun !== null && bun._id === ingredient._id) {\r\n      const count = 1;\r\n      return count;\r\n    }\r\n    const count = ingredientsCount.find(element => element.itemId === ingredient._id) === undefined ?\r\n    null :\r\n    ingredientsCount.find(element => element.itemId === ingredient._id).count;\r\n    return count;\r\n  };\r\n\r\n  const startCount = setCount();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  function chooseIngredient(ingredient) {\r\n    dispatch(getCurrentIngredient(ingredient));\r\n  };\r\n\r\n\r\n  const [, dragRef] = useDrag({\r\n    type: 'ingredient',\r\n    item: ingredient\r\n  });\r\n\r\n  return (\r\n    <li className={` ${styles.card}`} onClick={() => {chooseIngredient(ingredient)}} ref={dragRef} draggable>\r\n      <img className={`ml-4 mr-4 ${styles.image}`} src={ingredient.image} />\r\n      { startCount &&\r\n        <Counter count={setCount()} size=\"default\" />\r\n      }\r\n      <div className={styles.priceArea}>\r\n        <p className={`text text_type_digits-default ${styles.price}`}>{ingredient.price}</p>\r\n        <CurrencyIcon type=\"primary\" />\r\n      </div>\r\n      <p className={`text text_type_main-default ${styles.title}`}>{ingredient.name}</p>\r\n    </li>\r\n  )\r\n};\r\n\r\nDraggableIngredient.propTypes = {\r\n  ingredient: ingredientPropTypes.isRequired\r\n}\r\n","import React  from 'react';\r\n\r\nimport ingredientVariants from './ingredient-variants.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\r\n\r\nimport DraggableIngredient from '../draggable-ingredient/draggable-ingredient.jsx';\r\n\r\n\r\nexport const IngredientVariants = React.forwardRef((props, ref) => {\r\n\r\n  const ingredients = props.listOfIngredients;\r\n\r\n  return (\r\n    <section id={props.titleId}>\r\n      <h3 className=\"text text_type_main-medium\">{props.ingredientName}</h3>\r\n      <ul className={`pl-4 pr-4 pb-10 pt-6 ${ingredientVariants.list}`} ref={ref}>\r\n        {\r\n          ingredients.map((ingredient, index) => (\r\n            <DraggableIngredient ingredient={ingredient} key={index}>\r\n            </DraggableIngredient>\r\n          ))\r\n        }\r\n      </ul>\r\n\r\n    </section>\r\n  )\r\n})\r\n\r\nIngredientVariants.propTypes = {\r\n  listOfIngredients: PropTypes.arrayOf(ingredientPropTypes.isRequired).isRequired,\r\n  titleId: PropTypes.oneOf(['buns', 'sauces', 'mains']).isRequired,\r\n  ingredientName: PropTypes.oneOf(['Булки', 'Соусы', 'Начинки']).isRequired\r\n}\r\n\r\n","import modalOverlay from './modal-overlay.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport React  from 'react';\r\n\r\nexport default function ModalOverlay({onOverlayClick}) {\r\n  return (\r\n    <div className={modalOverlay.overlay} onClick={onOverlayClick}></div>\r\n  )\r\n}\r\n\r\nModalOverlay.propTypes = {\r\n  onOverlayClick: PropTypes.func.isRequired\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport modal from './modal.module.css'\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {CloseIcon} from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport ModalOverlay from '../modal-overlay/modal-overlay.jsx';\r\n\r\n\r\nconst modalsContainer = document.querySelector('#modals');\r\n\r\nexport default function Modal({title, onClose, children}) {\r\n\r\n  function closeModal() {\r\n    onClose();\r\n  }\r\n\r\n  function onEscapeClick(event) {\r\n    if (event.key === \"Escape\") {\r\n      closeModal();\r\n    }\r\n  }\r\n\r\n  function onCrossClick() {\r\n    closeModal();\r\n  }\r\n\r\n  React.useEffect(\r\n    () => {\r\n      document.addEventListener('keydown', onEscapeClick);\r\n\r\n      return () => {\r\n        document.removeEventListener('keydown', onEscapeClick);\r\n      }\r\n    }, []\r\n  )\r\n\r\n\r\n  return ReactDOM.createPortal(\r\n    (<>\r\n      <div className={modal.modal}>\r\n        <div className={`pt-10 pr-10 pl-10 ${modal.header}`}>\r\n          <h3 className={`text text_type_main-large ${modal.title}`}>{title}</h3>\r\n          <div onClick={onCrossClick}>\r\n            <CloseIcon type=\"primary\" />\r\n          </div>\r\n        </div>\r\n        {children}\r\n      </div>\r\n\r\n\r\n      <ModalOverlay onOverlayClick={closeModal}/>\r\n    </>),\r\n\r\n    modalsContainer\r\n  )\r\n};\r\n\r\nModal.propTypes = {\r\n  title: PropTypes.string,\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.element.isRequired\r\n};\r\n","import React  from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport ingredientDetails from './ingredient-details.module.css';\r\n\r\nexport default function IngredientDetails() {\r\n\r\nconst currentIngredient = useSelector(store => store.currentIngredient);\r\n\r\n  return (\r\n    <article className={ingredientDetails.card}>\r\n      <img className={ingredientDetails.image} src={currentIngredient.image_large} />\r\n      <h4 className='mt-4 mb-8 text text_type_main-medium'>{currentIngredient.name}</h4>\r\n      <ul className={`mb-15 ${ingredientDetails.nutritionalValue}`}>\r\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\r\n          <p className={ingredientDetails.componentName}>Калории,ккал</p>\r\n          <span className='text_type_digits-default'>{currentIngredient.calories}</span>\r\n        </li>\r\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\r\n          <p className={ingredientDetails.componentName}>Белки, г</p>\r\n          <span className='text_type_digits-default'>{currentIngredient.proteins}</span>\r\n        </li>\r\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\r\n          <p className={ingredientDetails.componentName}>Жиры, г</p>\r\n          <span className='text_type_digits-default'>{currentIngredient.fat}</span>\r\n        </li>\r\n        <li className={`text text_type_main-default text_color_inactive ${ingredientDetails.component}`}>\r\n          <p className={ingredientDetails.componentName}>Углеводы, г</p>\r\n          <span className='text_type_digits-default'>{currentIngredient.carbohydrates}</span>\r\n        </li>\r\n      </ul>\r\n    </article>\r\n  )\r\n}\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useInView } from 'react-intersection-observer';\r\n\r\nimport burgerIngredients from './burger-ingredients.module.css';\r\n\r\nimport {IngredientVariants} from '../ingredient-variants/ingredient-variants.jsx';\r\nimport Modal from '../modal/modal.jsx';\r\nimport IngredientDetails from '../ingredient-details/ingredient-details.jsx';\r\n\r\nimport {getCurrentIngredient} from '../../services/actions/current-ingredient.js'\r\n// import { closeOrder} from '../../services/actions/order.js';\r\n\r\nimport {Tab} from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nexport default function BurgerIngredients() {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [currentTab, setCurrentTab] = React.useState('buns');\r\n\r\n  function tabClick(tab) {\r\n    setCurrentTab(tab);\r\n    const element = document.getElementById(tab);\r\n    element.scrollIntoView({behavior: 'smooth', block: 'start'});\r\n    console.log(element);\r\n  };\r\n\r\n  const [bunRef, inViewBun] = useInView({\r\n    threshold: 0.1,\r\n  });\r\n\r\n  const [sauceRef, inViewSauce] = useInView({\r\n    threshold: 0.1,\r\n  });\r\n\r\n  const [mainRef, inViewMain] = useInView({\r\n    threshold: 0.1,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (inViewBun) {\r\n      setCurrentTab('buns');\r\n    } else if (inViewSauce) {\r\n      setCurrentTab('sauces');\r\n    } else if (inViewMain) {\r\n      setCurrentTab('mains');\r\n    }\r\n  }, [inViewBun, inViewSauce, inViewMain]);\r\n\r\n\r\n  const listOfIngredients = useSelector(store => store.allIngredients.items);\r\n\r\n  const bunList = listOfIngredients.filter((ingredient) => {\r\n    return ingredient.type === \"bun\";\r\n  })\r\n\r\n  const sauceList = listOfIngredients.filter((ingredient) => {\r\n    return ingredient.type === \"sauce\";\r\n  })\r\n\r\n  const mainList = listOfIngredients.filter((ingredient) => {\r\n    return ingredient.type === \"main\";\r\n  })\r\n\r\n  const ingredientInModal = useSelector(store => store.currentIngredient);\r\n\r\n  return (\r\n    <>\r\n      <section className={burgerIngredients.section}>\r\n        <h2 className='text text_type_main-large mb-5 mt-10'>Соберите бургер</h2>\r\n        <nav className={`mb-10 ${burgerIngredients.menu}`}>\r\n          <Tab value=\"buns\" active={currentTab === 'buns'} onClick={tabClick}>\r\n            Булки\r\n          </Tab>\r\n          <Tab value=\"sauces\" active={currentTab === 'sauces'} onClick={tabClick}>\r\n            Соусы\r\n          </Tab>\r\n          <Tab value=\"mains\" active={currentTab === 'mains'} onClick={tabClick}>\r\n            Начинки\r\n          </Tab>\r\n        </nav>\r\n        <article className={burgerIngredients.ingredients} >\r\n          <IngredientVariants ingredientName='Булки' listOfIngredients={bunList} titleId='buns' ref={bunRef}/>\r\n          <IngredientVariants ingredientName='Соусы' listOfIngredients={sauceList} titleId='sauces' ref={sauceRef}/>\r\n          <IngredientVariants ingredientName='Начинки' listOfIngredients={mainList} titleId='mains' ref={mainRef}/>\r\n        </article>\r\n      </section>\r\n\r\n      {ingredientInModal &&\r\n      <Modal title=\"Детали ингредиента\" onClose={() => dispatch(getCurrentIngredient(null))}>\r\n        <IngredientDetails />\r\n      </Modal>}\r\n    </>\r\n  )\r\n}\r\n","import { v4 as uuidv4 } from 'uuid';\r\n\r\nconst REORDER_INGREDIENT = 'REORDER_INGREDIENT';\r\nconst ADD_TO_CONSTRUCTOR = 'ADD_TO_CONSTRUCTOR';\r\nconst DELETE_FROM_CONSTRUCTOR = 'DELETE_FROM_CONSTRUCTOR';\r\n\r\nfunction addToConstructor(item) {\r\n  return {\r\n    type: ADD_TO_CONSTRUCTOR,\r\n    item: item,\r\n    uId: uuidv4()\r\n  }\r\n}\r\n\r\nfunction deleteFromConstructor(item, key) {\r\n  return {\r\n    type: DELETE_FROM_CONSTRUCTOR,\r\n    item: item,\r\n    key: key\r\n  }\r\n}\r\n\r\nfunction reorderIngredient(dragIndex, hoverIndex) {\r\n  return {\r\n    type: REORDER_INGREDIENT,\r\n    dragIndex: dragIndex,\r\n    hoverIndex: hoverIndex\r\n  }\r\n}\r\n\r\nexport { ADD_TO_CONSTRUCTOR, DELETE_FROM_CONSTRUCTOR, REORDER_INGREDIENT, addToConstructor, deleteFromConstructor, reorderIngredient};\r\n","import React, { useEffect, useRef }  from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useDrag, useDrop } from 'react-dnd';\r\n\r\nimport styles from './filling-ingredient.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport {ingredientPropTypes} from '../../utils/prop-types.js';\r\n\r\nimport {ConstructorElement} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {DragIcon} from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport {DELETE_FROM_CONSTRUCTOR, REORDER_INGREDIENT, deleteFromConstructor, reorderIngredient} from '../../services/actions/constructor-ingredients.js';\r\n\r\nexport default function FillingIngredient({ item, index }) {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  // function deleteFromConstructor(item, key) {\r\n  //   dispatch({\r\n  //     type: DELETE_FROM_CONSTRUCTOR,\r\n  //     item: item,\r\n  //     key: key\r\n  //   })\r\n  // };\r\n\r\n  const ref = useRef(null);\r\n  const id = item.uId;\r\n\r\n  const [{ handlerId }, drop] = useDrop({\r\n    accept: 'fillings',\r\n    collect(monitor) {\r\n      return {\r\n        handlerId: monitor.getHandlerId(),\r\n      };\r\n    },\r\n    hover(item, monitor) {\r\n      if (!ref.current) {\r\n        return;\r\n      }\r\n      const dragIndex = item.index;\r\n      const hoverIndex = index;\r\n\r\n      if (dragIndex === hoverIndex) {\r\n        return;\r\n      }\r\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\r\n      const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n      const clientOffset = monitor.getClientOffset();\r\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return;\r\n      }\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n        return;\r\n      }\r\n\r\n      // dispatch({\r\n      //   type: REORDER_INGREDIENT,\r\n      //   dragIndex,\r\n      //   hoverIndex\r\n      // });\r\n      dispatch(reorderIngredient(dragIndex, hoverIndex));\r\n      item.index = hoverIndex;\r\n    },\r\n  });\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: 'fillings',\r\n    item: () => {\r\n      return { id, index };\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  const opacity = isDragging ? 0 : 1;\r\n\r\n  drag(drop(ref));\r\n\r\n\r\n  return (\r\n    <li className={styles.element} draggable ref={ref} data-handler-id={handlerId} style={{ opacity }}>\r\n      <DragIcon type=\"primary\" />\r\n      <ConstructorElement\r\n        text={item.name}\r\n        price={item.price}\r\n        thumbnail={item.image}\r\n        handleClose={() => dispatch(deleteFromConstructor(item, index))}\r\n      />\r\n    </li>\r\n  )\r\n}\r\n\r\nFillingIngredient.propTypes = {\r\n  item: ingredientPropTypes.isRequired,\r\n  index: PropTypes.number.isRequired\r\n}\r\n","import React  from 'react'\r\n\r\nimport orderDetails from './order-details.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport done from '../../images/done.png';\r\n\r\nexport default function OrderDetails({orderNumber}) {\r\n\r\n  return (\r\n    <article className={orderDetails.card}>\r\n      <p className={`text text_type_digits-large ${orderDetails.orderId}`}>{orderNumber}</p>\r\n      <span className='mt-8 text text_type_main-medium'>идентификатор заказа</span>\r\n      <img className={`mt-15 mb-15 ${orderDetails.image}`} src={done}/>\r\n      <div className={`mb-30 ${orderDetails.info}`}>\r\n        <p className='text text_type_main-default'>Ваш заказ начали готовить</p>\r\n        <p className='text text_type_main-default text_color_inactive'>Дождитесь готовности на орбитальной станции</p>\r\n      </div>\r\n\r\n    </article>\r\n  )\r\n}\r\n\r\nOrderDetails.propTypes = {\r\n  orderNumber: PropTypes.number.isRequired\r\n}\r\n","const baseUrl = 'https://norma.nomoreparties.space/api';\r\n\r\nfunction checkResponse(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  } else {\r\n    return Promise.reject(res.status)\r\n  }\r\n};\r\n\r\n// const dataUrl = 'https://norma.nomoreparties.space/api/ingredients';\r\n// const ordersUrl ='https://norma.nomoreparties.space/api/orders';\r\n\r\n\r\nconst data = [\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b1\",\r\n     \"name\":\"Краторная булка N-200i\",\r\n     \"type\":\"bun\",\r\n     \"proteins\":80,\r\n     \"fat\":24,\r\n     \"carbohydrates\":53,\r\n     \"calories\":420,\r\n     \"price\":1255,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b5\",\r\n     \"name\":\"Говяжий метеорит (отбивная)\",\r\n     \"type\":\"main\",\r\n     \"proteins\":800,\r\n     \"fat\":800,\r\n     \"carbohydrates\":300,\r\n     \"calories\":2674,\r\n     \"price\":3000,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/meat-04.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-04-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/meat-04-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b6\",\r\n     \"name\":\"Биокотлета из марсианской Магнолии\",\r\n     \"type\":\"main\",\r\n     \"proteins\":420,\r\n     \"fat\":142,\r\n     \"carbohydrates\":242,\r\n     \"calories\":4242,\r\n     \"price\":424,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/meat-01.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/meat-01-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b7\",\r\n     \"name\":\"Соус Spicy-X\",\r\n     \"type\":\"sauce\",\r\n     \"proteins\":30,\r\n     \"fat\":20,\r\n     \"carbohydrates\":40,\r\n     \"calories\":30,\r\n     \"price\":90,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/sauce-02.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-02-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-02-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b4\",\r\n     \"name\":\"Мясо бессмертных моллюсков Protostomia\",\r\n     \"type\":\"main\",\r\n     \"proteins\":433,\r\n     \"fat\":244,\r\n     \"carbohydrates\":33,\r\n     \"calories\":420,\r\n     \"price\":1337,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/meat-02.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-02-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/meat-02-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b9\",\r\n     \"name\":\"Соус традиционный галактический\",\r\n     \"type\":\"sauce\",\r\n     \"proteins\":42,\r\n     \"fat\":24,\r\n     \"carbohydrates\":42,\r\n     \"calories\":99,\r\n     \"price\":15,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/sauce-03.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-03-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-03-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b8\",\r\n     \"name\":\"Соус фирменный Space Sauce\",\r\n     \"type\":\"sauce\",\r\n     \"proteins\":50,\r\n     \"fat\":22,\r\n     \"carbohydrates\":11,\r\n     \"calories\":14,\r\n     \"price\":80,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/sauce-04.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-04-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-04-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9bc\",\r\n     \"name\":\"Плоды Фалленианского дерева\",\r\n     \"type\":\"main\",\r\n     \"proteins\":20,\r\n     \"fat\":5,\r\n     \"carbohydrates\":55,\r\n     \"calories\":77,\r\n     \"price\":874,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/sp_1.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sp_1-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sp_1-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9bb\",\r\n     \"name\":\"Хрустящие минеральные кольца\",\r\n     \"type\":\"main\",\r\n     \"proteins\":808,\r\n     \"fat\":689,\r\n     \"carbohydrates\":609,\r\n     \"calories\":986,\r\n     \"price\":300,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9ba\",\r\n     \"name\":\"Соус с шипами Антарианского плоскоходца\",\r\n     \"type\":\"sauce\",\r\n     \"proteins\":101,\r\n     \"fat\":99,\r\n     \"carbohydrates\":100,\r\n     \"calories\":100,\r\n     \"price\":88,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/sauce-01.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-01-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-01-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9bd\",\r\n     \"name\":\"Кристаллы марсианских альфа-сахаридов\",\r\n     \"type\":\"main\",\r\n     \"proteins\":234,\r\n     \"fat\":432,\r\n     \"carbohydrates\":111,\r\n     \"calories\":189,\r\n     \"price\":762,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/core.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/core-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/core-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9be\",\r\n     \"name\":\"Мини-салат Экзо-Плантаго\",\r\n     \"type\":\"main\",\r\n     \"proteins\":1,\r\n     \"fat\":2,\r\n     \"carbohydrates\":3,\r\n     \"calories\":6,\r\n     \"price\":4400,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/salad.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/salad-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/salad-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b3\",\r\n     \"name\":\"Филе Люминесцентного тетраодонтимформа\",\r\n     \"type\":\"main\",\r\n     \"proteins\":44,\r\n     \"fat\":26,\r\n     \"carbohydrates\":85,\r\n     \"calories\":643,\r\n     \"price\":988,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/meat-03.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-03-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/meat-03-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9bf\",\r\n     \"name\":\"Сыр с астероидной плесенью\",\r\n     \"type\":\"main\",\r\n     \"proteins\":84,\r\n     \"fat\":48,\r\n     \"carbohydrates\":420,\r\n     \"calories\":3377,\r\n     \"price\":4142,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/cheese.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/cheese-large.png\",\r\n     \"__v\":0\r\n    },\r\n    {\r\n     \"_id\":\"60666c42cc7b410027a1a9b2\",\r\n     \"name\":\"Флюоресцентная булка R2-D3\",\r\n     \"type\":\"bun\",\r\n     \"proteins\":44,\r\n     \"fat\":26,\r\n     \"carbohydrates\":85,\r\n     \"calories\":643,\r\n     \"price\":988,\r\n     \"image\":\"https://code.s3.yandex.net/react/code/bun-01.png\",\r\n     \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-01-mobile.png\",\r\n     \"image_large\":\"https://code.s3.yandex.net/react/code/bun-01-large.png\",\r\n     \"__v\":0\r\n    }\r\n]\r\n\r\nexport {baseUrl, checkResponse};\r\n\r\n","import {baseUrl, checkResponse} from '../../utils/data.js';\r\n\r\nconst GET_ORDER = 'GET_ORDER';\r\nconst GET_ORDER_SUCCESS = 'GET_ORDER_SUCCESS';\r\nconst GET_ORDER_FAILED = 'GET_ORDER_FAILED';\r\nconst CLOSE_ORDER = \"CLOSE_ORDER\";\r\n\r\nfunction getOrder(ingredientsIdArray) {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: GET_ORDER,\r\n      isOrderModalClosed: true,\r\n      isOrderSent: true,\r\n      isOrderRejected: false,\r\n    });\r\n\r\n    fetch(`${baseUrl}/orders`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=utf-8'\r\n      },\r\n      body: JSON.stringify({\r\n        \"ingredients\": ingredientsIdArray\r\n      })\r\n    })\r\n    .then(checkResponse)\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_ORDER_SUCCESS,\r\n        isOrderModalClosed: false,\r\n        isOrderSent: false,\r\n        isOrderRejectedd: false,\r\n        number: res.order.number\r\n      })\r\n    })\r\n    .catch(err => {console.log(err, err.status);\r\n      dispatch({\r\n        type: GET_ORDER_FAILED,\r\n        isOrderModalClosed: true,\r\n        isOrderSent: false,\r\n        isOrderRejected: true\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nfunction closeOrder() {\r\n  return {\r\n    type: CLOSE_ORDER,\r\n    isOrderModalClosed: true,\r\n    number: null\r\n  }\r\n}\r\n\r\nexport { GET_ORDER, GET_ORDER_SUCCESS, GET_ORDER_FAILED, CLOSE_ORDER, getOrder, closeOrder };\r\n","import React, { useMemo } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useDrop } from 'react-dnd';\r\n// import { v4 as uuidv4 } from 'uuid';\r\n\r\nimport burgerConstructor from './burger-constructor.module.css';\r\n\r\nimport FillingIngredient from '../filling-ingredient/filling-ingredient';\r\nimport Modal from '../modal/modal.jsx';\r\nimport OrderDetails from '../order-details/order-details.jsx';\r\n\r\nimport {ConstructorElement} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {CurrencyIcon} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {Button} from '@ya.praktikum/react-developer-burger-ui-components';\r\n\r\nimport {ADD_TO_CONSTRUCTOR, addToConstructor} from '../../services/actions/constructor-ingredients.js';\r\nimport {getOrder} from '../../services/actions/order.js';\r\nimport { closeOrder} from '../../services/actions/order.js';\r\n\r\nexport default function BurgerConstructor () {\r\n\r\n  const constructorIngredients = useSelector(store => store.constructorIngredients.ingredients.fillings);\r\n\r\n  const bun = useSelector(store => store.constructorIngredients.ingredients.bun);\r\n\r\n  const bunsPrice = bun === null ?\r\n  0 :\r\n  bun.price * 2;\r\n\r\n  const isOrderRejected = useSelector(store => store.order.isOrderRejected);\r\n  const isOrderModalClosed = useSelector(store => store.order.isOrderModalClosed);\r\n  const orderNumber = useSelector(store => store.order.number);\r\n\r\n  function getIngredientsIdArray() {\r\n    const ingredientsIdArray = [];\r\n    if (bun !== null) {\r\n      ingredientsIdArray.push(bun._id)\r\n    };\r\n    constructorIngredients.forEach((filling) => {\r\n      ingredientsIdArray.push(filling._id);\r\n    });\r\n    if (bun !== null) {\r\n      ingredientsIdArray.push(bun._id)\r\n    };\r\n\r\n    return ingredientsIdArray;\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const price = useMemo(() => {\r\n    return (\r\n      constructorIngredients.reduce((prevVal, curVal) => prevVal + curVal.price, bunsPrice)\r\n    );\r\n  }, [constructorIngredients]);\r\n\r\n  const [, dropRef] = useDrop({\r\n    accept: 'ingredient',\r\n    drop(item) {\r\n      // dispatch({\r\n      //   type: ADD_TO_CONSTRUCTOR,\r\n      //   item: item,\r\n      //   uId: uuidv4()\r\n      // })\r\n      dispatch(addToConstructor(item))\r\n    }\r\n  });\r\n\r\n\r\n  return (\r\n    <>\r\n      <section className={`${burgerConstructor.section} pt-20`}>\r\n        <article className={`${burgerConstructor.compositionArea} pt-5`} ref={dropRef}>\r\n          {\r\n            bun &&\r\n            <ConstructorElement className={burgerConstructor.element}\r\n            type=\"top\"\r\n            isLocked={true}\r\n            text={`${bun.name} (верх)`}\r\n            price={bun.price}\r\n            thumbnail={bun.image}\r\n            />\r\n          }\r\n          <ul className={burgerConstructor.compositionChangebleList}>\r\n\r\n              {constructorIngredients && constructorIngredients.map((ingredient, i) => (\r\n                <FillingIngredient item={ingredient} index={i} key={ingredient.uId}>\r\n                </FillingIngredient>\r\n              ))}\r\n\r\n          </ul>\r\n          {\r\n            bun &&\r\n            <ConstructorElement\r\n            type=\"bottom\"\r\n            isLocked={true}\r\n            text={`${bun.name} (низ)`}\r\n            price={bun.price}\r\n            thumbnail={bun.image}\r\n            />\r\n          }\r\n        </article>\r\n        <article className={`mt-10 ${burgerConstructor.info}`}>\r\n          <div className={burgerConstructor.priceArea}>\r\n            <p className=\"text text_type_digits-medium\">\r\n              {\r\n                price\r\n              }\r\n            </p>\r\n            <div className={burgerConstructor.currentIcon}>\r\n              <CurrencyIcon type=\"primary\" />\r\n            </div>\r\n          </div>\r\n          <Button type=\"primary\" size=\"large\" onClick={() => {dispatch(getOrder(getIngredientsIdArray()))}}>\r\n            Оформить заказ\r\n          </Button>\r\n        </article>\r\n      </section>\r\n\r\n      {\r\n        !isOrderRejected &&\r\n        !isOrderModalClosed &&\r\n        (\r\n          <Modal\r\n            title=\"\"\r\n            onClose={() => dispatch(closeOrder())}\r\n          >\r\n            <OrderDetails\r\n              orderNumber={orderNumber}\r\n            />\r\n          </Modal>\r\n        )\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import {baseUrl, checkResponse} from '../../utils/data.js';\r\n\r\nconst GET_ALL_INGREDIENTS = 'GET_ALL_INGREDIENTS';\r\nconst GET_ALL_INGREDIENTS_SUCCESS = 'GET_ALL_INGREDIENTS_SUCCESS';\r\nconst GET_ALL_INGREDIENTS_FAILED = 'GET_ALL_INGREDIENTS_FAILED';\r\n\r\nfunction getAllIngredients() {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: GET_ALL_INGREDIENTS,\r\n      isLoading: true,\r\n      isFailed: false,\r\n    })\r\n\r\n    fetch(`${baseUrl}/ingredients`)\r\n      .then(checkResponse)\r\n      .then (res => {\r\n        dispatch({\r\n          type: GET_ALL_INGREDIENTS_SUCCESS,\r\n          isLoading: false,\r\n          isFailed: false,\r\n          items: res.data\r\n        })\r\n      })\r\n      .catch(err => dispatch({\r\n        type: GET_ALL_INGREDIENTS_FAILED,\r\n        isLoading: false,\r\n        isFailed: true,\r\n      }))\r\n  }\r\n};\r\n\r\nexport {GET_ALL_INGREDIENTS, GET_ALL_INGREDIENTS_SUCCESS, GET_ALL_INGREDIENTS_FAILED, getAllIngredients};\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\n\r\nimport styles from './app.module.css';\r\n\r\nimport AppHeader from '../app-header/app-header.jsx'\r\nimport BurgerIngredients from '../burger-ingredients/burger-ingredients.jsx';\r\nimport BurgerConstructor from '../burger-constructor/burger-constructor.jsx';\r\n\r\nimport {getAllIngredients} from '../../services/actions/all-ingredients.js';\r\n\r\n\r\nfunction App() {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(()=> {\r\n    dispatch(getAllIngredients())\r\n  }, []);\r\n\r\n  const {isLoading, isFailed} = useSelector(store => store.allIngredients)\r\n\r\n  const listOfIngredients = useSelector(store => store.allIngredients.items);\r\n\r\n  return (\r\n    <>\r\n        <AppHeader />\r\n        <main className={styles.main}>\r\n            <DndProvider backend={HTML5Backend}>\r\n\r\n            {\r\n              isLoading && <p className=\"text text_type_main-medium\">Загружаем данные...</p>\r\n            }\r\n            {\r\n              isFailed && <p className=\"text text_type_main-medium\">Не удаётся загрузить данные. Пожалуйста, повторите попытку</p>\r\n            }\r\n            {\r\n              listOfIngredients &&\r\n              <>\r\n                <BurgerIngredients />\r\n                <BurgerConstructor />\r\n              </>\r\n            }\r\n            </DndProvider>\r\n        </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import {GET_ALL_INGREDIENTS, GET_ALL_INGREDIENTS_SUCCESS, GET_ALL_INGREDIENTS_FAILED} from '../actions/all-ingredients.js';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  isFailed: false,\r\n  items: null\r\n};\r\n\r\nconst allIngredientsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_INGREDIENTS: {\r\n      return {\r\n        ...state,\r\n        isLoading: action.isLoading,\r\n        isFailed: action.isFailed,\r\n      }\r\n    }\r\n    case GET_ALL_INGREDIENTS_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        isLoading: action.isLoading,\r\n        isFailed: action.isFailed,\r\n        items: action.items\r\n      }\r\n    }\r\n    case GET_ALL_INGREDIENTS_FAILED: {\r\n      return {\r\n        ...state,\r\n        isLoading: action.isLoading,\r\n        isFailed: action.isFailed,\r\n      };\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nexport {allIngredientsReducer};\r\n","import {GET_ORDER, GET_ORDER_SUCCESS, GET_ORDER_FAILED, CLOSE_ORDER} from '../actions/order.js';\r\n\r\nconst orderInitialState = {\r\n  isOrderModalClosed: true,\r\n  isOrderSent: false,\r\n  isOrderRejected: false,\r\n  number: null\r\n};\r\n\r\nconst orderReducer = (state = orderInitialState, action) => {\r\n  switch (action.type) {\r\n    case GET_ORDER: {\r\n      return {\r\n        ...state,\r\n        isOrderModalClosed: action.isOrderModalClosed,\r\n        isOrderSent: action.isOrderSent,\r\n        isOrderRejected: action.isOrderRejected,\r\n      }\r\n\r\n    }\r\n    case GET_ORDER_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        isOrderModalClosed: action.isOrderModalClosed,\r\n        isOrderSent: action.isOrderSent,\r\n        isOrderRejected: action.isOrderRejected,\r\n        number: action.number\r\n      }\r\n    }\r\n    case GET_ORDER_FAILED: {\r\n      return {\r\n        ...state,\r\n        isOrderModalClosed: action.isOrderModalClosed,\r\n        isOrderSent: action.isOrderSent,\r\n        isOrderRejected: action.isOrderRejected\r\n      }\r\n    }\r\n    case CLOSE_ORDER: {\r\n      return {\r\n        ...state,\r\n        isOrderModalClosed: action.isOrderModalClosed,\r\n        number: action.number\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nexport {orderReducer};\r\n","import { ADD_TO_CONSTRUCTOR, DELETE_FROM_CONSTRUCTOR, REORDER_INGREDIENT } from '../actions/constructor-ingredients.js';\r\nimport update from 'immutability-helper'\r\n// import { v4 as uuidv4 } from 'uuid';\r\n\r\nconst constructorInitialState = {\r\n  ingredients: {\r\n    bun: null,\r\n    fillings: []\r\n  },\r\n  ingredientsCount: []\r\n}\r\n\r\nconst constructorIngredientsReducer = (state = constructorInitialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_TO_CONSTRUCTOR: {\r\n\r\n      let arr = [...state.ingredientsCount];\r\n      const sameIndex = arr.findIndex(element => element.itemId === action.item._id);\r\n      const sameElement = arr[sameIndex];\r\n      sameIndex === -1 ?\r\n      arr.push({itemId: action.item._id, count: 1}) :\r\n      arr.splice(sameIndex, 1, {itemId: sameElement.itemId, count: sameElement.count + 1});\r\n\r\n      return {\r\n        ...state,\r\n        ingredients: (\r\n          action.item.type === 'bun' ?\r\n          {bun: action.item, fillings: [...state.ingredients.fillings]} :\r\n          {...state.ingredients, fillings: [...state.ingredients.fillings, {...action.item, uId: action.uId }]}\r\n        ),\r\n        ingredientsCount: (\r\n          action.item.type === 'bun' ?\r\n          [...state.ingredientsCount] :\r\n          arr\r\n        )\r\n      }\r\n    }\r\n    case DELETE_FROM_CONSTRUCTOR: {\r\n      const spliceArr = [...state.ingredients.fillings];\r\n      spliceArr.splice(action.key, 1);\r\n\r\n      let arr = [...state.ingredientsCount];\r\n      const sameIndex = arr.findIndex(element => element.itemId === action.item._id);\r\n      const sameElement = arr[sameIndex];\r\n      sameElement.count === 1 ?\r\n      arr.splice(sameIndex, 1) :\r\n      arr.splice(sameIndex, 1, {itemId: sameElement.itemId, count: sameElement.count - 1});\r\n\r\n\r\n      return {\r\n        ...state,\r\n        ingredients: {...state.ingredients, fillings: spliceArr},\r\n        ingredientsCount: arr\r\n      }\r\n    }\r\n    case REORDER_INGREDIENT: {\r\n      return {\r\n        ...state,\r\n        ingredients: { ...state.ingredients,\r\n        fillings: update(state.ingredients.fillings, {\r\n          $splice: [\r\n            [action.dragIndex, 1],\r\n            [action.hoverIndex, 0, state.ingredients.fillings[action.dragIndex]],\r\n          ],\r\n        })\r\n      }\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nexport {constructorIngredientsReducer};\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport {allIngredientsReducer} from './all-ingredients.js';\r\nimport {currentIngredientReducer} from './current-ingredient.js';\r\nimport { orderReducer } from \"./order.js\";\r\nimport {constructorIngredientsReducer} from './constructor-ingredients.js';\r\n\r\nconst rootReducer = combineReducers({\r\n  allIngredients: allIngredientsReducer,\r\n  currentIngredient: currentIngredientReducer,\r\n  order: orderReducer,\r\n  constructorIngredients: constructorIngredientsReducer\r\n});\r\n\r\nexport {rootReducer};\r\n","import {GET_CURRENT_INGREDIENT, GET_CURRENT_INGREDIENT_SUCCESS,\r\n  GET_CURRENT_INGREDIENT_FAILED} from '../actions/current-ingredient.js';\r\n\r\n\r\nconst currentIngredientReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case GET_CURRENT_INGREDIENT: {\r\n      if (action.item === null) {\r\n        return null\r\n      } else {\r\n        return {\r\n          ...state,\r\n          id: action.item._id,\r\n          name: action.item.name,\r\n          type: action.item.type,\r\n          proteins: action.item.proteins,\r\n          fat: action.item.fat,\r\n          carbohydrates: action.item.carbohydrates,\r\n          calories: action.item.calories,\r\n          price: action.item.orice,\r\n          image: action.item.image,\r\n          image_mobile: action.item.image_mobile,\r\n          image_large: action.item.image_large,\r\n          __v: action.item.__v\r\n        }\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n\r\nexport {currentIngredientReducer};\r\n","\r\nimport thunk from 'redux-thunk';\r\nimport { compose, createStore, applyMiddleware } from 'redux';\r\nimport { rootReducer } from '../services/reducers/index.js';\r\n\r\nconst composeEnhancers =\r\ntypeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\r\n  : compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nexport {store};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './components/app/app.jsx';\r\nimport {store} from './services/store.js';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"burger-constructor_section__1Oj45\",\"compositionArea\":\"burger-constructor_compositionArea__ZJMAt\",\"compositionChangebleList\":\"burger-constructor_compositionChangebleList__iML4F burger-constructor_compositionArea__ZJMAt\",\"info\":\"burger-constructor_info__3KXnR\",\"priceArea\":\"burger-constructor_priceArea__wz5I3\",\"currentIcon\":\"burger-constructor_currentIcon__2Jfmy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"draggable-ingredient_card__22tkQ\",\"image\":\"draggable-ingredient_image__1m-FI\",\"priceArea\":\"draggable-ingredient_priceArea__3AhhM\",\"price\":\"draggable-ingredient_price__1BTka\",\"title\":\"draggable-ingredient_title__3f5eQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"order-details_card__5QrrG\",\"orderId\":\"order-details_orderId__Gi4mV\",\"image\":\"order-details_image__16IXB\",\"info\":\"order-details_info__m5bOg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"burger-ingredients_section__3F4Wu\",\"menu\":\"burger-ingredients_menu__1eRvv\",\"ingredients\":\"burger-ingredients_ingredients__3U86K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__3B1Cq\",\"header\":\"modal_header__3F4Ga\",\"title\":\"modal_title__2uJj5\",\"someContainer\":\"modal_someContainer__3i7LI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3UhtW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ingredient-variants_list__X2Scw\",\"card\":\"ingredient-variants_card__1NQkn\",\"image\":\"ingredient-variants_image__1cNPR\",\"priceArea\":\"ingredient-variants_priceArea__3cUxI\",\"price\":\"ingredient-variants_price__3hiL9\",\"title\":\"ingredient-variants_title__1dSsn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__3nb6x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"element\":\"filling-ingredient_element__1mGml\"};","module.exports = __webpack_public_path__ + \"static/media/done.04891082.png\";"],"sourceRoot":""}