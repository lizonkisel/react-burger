(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports={main:"constructor-page_main__2cmA2"}},106:function(e,t,a){e.exports={list:"ingredient-variants_list__X2Scw",card:"ingredient-variants_card__1NQkn",image:"ingredient-variants_image__1cNPR",priceArea:"ingredient-variants_priceArea__3cUxI",price:"ingredient-variants_price__3hiL9",title:"ingredient-variants_title__1dSsn"}},108:function(e,t,a){e.exports={overlay:"modal-overlay_overlay__3nb6x"}},109:function(e,t,a){e.exports={element:"filling-ingredient_element__1mGml"}},110:function(e,t,a){e.exports=a.p+"static/media/done.04891082.png"},112:function(e,t,a){e.exports={main:"orders-page_main__1MQUZ"}},118:function(e,t,a){e.exports=a(238)},123:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),i=a.n(c),o=(a(123),function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,244)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)})}),s=a(4),l=a(14),u=a(1),m=a(30),d=a.n(m),p=a(3);function _(){var e=Object(u.h)().pathname;return r.a.createElement("header",{className:"mt-10 ".concat(d.a.header)},r.a.createElement("nav",{className:"pb-4 pt-4 ".concat(d.a.menu)},r.a.createElement("div",{className:d.a.menuLeftColumn},r.a.createElement(l.c,{to:"/",exact:!0,className:"text text_type_main-default pl-5 pr-5 pt-4 pb-4 ".concat(d.a.link),activeClassName:d.a.active_nav_link},r.a.createElement(p.BurgerIcon,{type:"/"===e?"primary":"secondary"}),r.a.createElement("span",{className:"pl-2"},"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440")),r.a.createElement(l.c,{to:"/orders-history",exact:!0,className:"text text_type_main-default pl-5 pr-5 pt-4 pb-4 ".concat(d.a.link),activeClassName:d.a.active_nav_link},r.a.createElement(p.ListIcon,{type:"/orders-history"===e?"primary":"secondary"}),r.a.createElement("span",{className:"pl-2"},"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"))),r.a.createElement(l.c,{to:"/profile",className:"text text_type_main-default pl-5 pr-5 pt-4 pb-4 ".concat(d.a.link),activeClassName:d.a.active_nav_link},r.a.createElement(p.ProfileIcon,{type:"primary"}),r.a.createElement("span",{className:"pl-2"},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"))),r.a.createElement("div",{className:d.a.logo},r.a.createElement(p.Logo,null)))}var f=a(116);function g(e){var t=e.children,a=Object(f.a)(e,["children"]),n=(Object(u.h)(),Object(s.c)(function(e){return e.auth}).user),c=Object(s.c)(function(e){return e.auth}).isAuthChecked;return c?c?r.a.createElement(u.b,Object.assign({},a,{render:function(e){var a=e.location;return n?t:r.a.createElement(u.a,{to:{pathname:"/login",state:{from:a}}})}})):void 0:r.a.createElement("p",{className:"text text_type_main-medium"},"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435...")}var h=a(5),E=a(9),b=a.n(E),O=a(16),v=a.n(O),y=a(6),j=a(27),C="https://norma.nomoreparties.space/api",k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function x(e){return console.log(e),console.log(e.ok),e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}function N(e,t,a){var n=(a=a||{}).expires;if("number"==typeof n&&n){var r=new Date;r.setTime(r.getTime()+1e3*n),n=a.expires=r}n&&n.toUTCString&&(a.expires=n.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var i in a){c+="; "+i;var o=a[i];!0!==o&&(c+="="+o)}document.cookie=c}function I(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var S=function(){var e=Object(j.a)(v.a.mark(function e(t,a){var n,r,c,i,o,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,a);case 3:return n=e.sent,console.log(n),e.next=7,x(n);case 7:return r=e.sent,console.log(r),e.abrupt("return",r);case 12:if(e.prev=12,e.t0=e.catch(0),console.log(e.t0),"jwt expired"!==e.t0.message){e.next=37;break}return c=localStorage.getItem("refreshToken"),e.next=19,l=c,console.log(localStorage.getItem("refreshToken")),fetch("".concat(C,"/auth/token"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({token:l})}).then(x);case 19:if(i=e.sent,console.log(i),i.success){e.next=25;break}return e.abrupt("return",Promise.reject(i));case 25:return localStorage.setItem("refreshToken",i.refreshToken),N("token",i.accessToken.split("Bearer ")[1]),e.next=29,fetch(t,Object(y.a)({},a,{headers:Object(y.a)({},a.headers,{Authotization:"Bearer "+i.accessToken})}));case 29:return o=e.sent,e.next=32,x(o);case 32:return s=e.sent,console.log("\u0412\u0441\u0451 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"),e.abrupt("return",s);case 35:e.next=38;break;case 37:return e.abrupt("return",Promise.reject(e.t0));case 38:case"end":return e.stop()}var l},e,null,[[0,12]])}));return function(t,a){return e.apply(this,arguments)}}(),T="LOGIN",R="LOGIN_SUCCESS",L="LOGIN_FAILED";function A(){console.log("Login");var e=Object(s.c)(function(e){return e.auth}).user,t=r.a.useState(""),a=Object(h.a)(t,2),c=a[0],i=a[1],o=r.a.useState(""),l=Object(h.a)(o,2),m=l[0],d=l[1],_=Object(s.b)(),f=Object(u.g)(),g=Object(u.h)(),E=Object(n.useCallback)(function(){f.replace({pathname:"/register"})},[f]),O=Object(n.useCallback)(function(){f.replace({pathname:"/forgot-password"})},[f]);var v=(g.state||{from:{pathname:"/"}}).from;return Object(s.c)(function(e){return e.auth}).isLogoutChecked?e?(console.log("Redirect"),r.a.createElement(u.a,{to:v})):r.a.createElement("main",{className:b.a.main},r.a.createElement("h1",{className:"text text_type_main-medium"},"\u0412\u0445\u043e\u0434"),r.a.createElement("form",{className:b.a.form,action:""},r.a.createElement("fieldset",{className:b.a.fieldset},r.a.createElement(p.EmailInput,{onChange:function(e){return i(e.target.value)},value:c,name:"email"}),r.a.createElement(p.PasswordInput,{onChange:function(e){return d(e.target.value)},value:m,name:"password"})),r.a.createElement(p.Button,{type:"primary",size:"medium",onClick:function(e){var t,a;e.preventDefault(),console.log("Dispatch login"),_((t=c,a=m,function(e){e({type:T,isLoading:!0,isFailed:!1,isAuth:!1}),fetch("".concat(C,"/auth/login"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:t,password:a})}).then(x).then(function(t){return e({type:R,isLoading:!1,isFailed:!1,user:t.user,accessToken:t.accessToken,refreshToken:t.refreshToken,isAuth:!0,isLogoutChecked:!0})}).catch(function(t){return e({type:L,isLoading:!1,isFailed:!0,isAuth:!1,isLogoutChecked:!0})})}))}},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("div",{className:b.a.additional_actions},r.a.createElement("div",{className:b.a.additional_action},r.a.createElement("p",{className:"text text_type_main-default text_color_inactive"},"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"),r.a.createElement(p.Button,{type:"secondary",size:"medium",onClick:E},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement("div",{className:b.a.additional_action},r.a.createElement("p",{className:"text text_type_main-default text_color_inactive"},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),r.a.createElement(p.Button,{type:"secondary",size:"medium",onClick:O},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")))):r.a.createElement("p",{className:"text text_type_main-medium"},"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435...")}var w=a(243),F=a(115),D=a(105),P=a.n(D),U=a(55),B=a(53),G=a.n(B),M=a(106),z=a.n(M),J=a(13),q=a.n(J),X=q.a.oneOf(["bun","sauce","main"]),V=(q.a.shape({_id:q.a.string.isRequired,name:q.a.string.isRequired,type:X,proteins:q.a.number.isRequired,fat:q.a.number.isRequired,carbohydrates:q.a.number.isRequired,calories:q.a.number.isRequired,price:q.a.number.isRequired,image:q.a.string.isRequired,image_mobile:q.a.string.isRequired,image_large:q.a.string.isRequired,__v:q.a.number.isRequired}),a(246)),Q=a(37),W=a.n(Q),H="GET_CURRENT_INGREDIENTS";function Z(e){var t=e.ingredient,a=Object(s.c)(function(e){return e.constructorIngredients.ingredientsCount}),n=Object(s.c)(function(e){return e.constructorIngredients.ingredients.bun}),c=t._id;function i(){if(null!==n&&n._id===t._id){return 1}return void 0===a.find(function(e){return e.itemId===t._id})?null:a.find(function(e){return e.itemId===t._id}).count}var o=i();Object(s.b)();var m=Object(u.h)(),d=Object(V.a)({type:"ingredient",item:t}),_=Object(h.a)(d,2)[1];return r.a.createElement("li",{className:" ".concat(W.a.card),ref:_,draggable:!0},r.a.createElement(l.b,{className:W.a.link,to:{pathname:"/ingredients/".concat(c),state:{prevPath:m.pathname}}},r.a.createElement("img",{className:"ml-4 mr-4 ".concat(W.a.image),src:t.image}),o&&r.a.createElement(p.Counter,{count:i(),size:"default"}),r.a.createElement("div",{className:W.a.priceArea},r.a.createElement("p",{className:"text text_type_digits-default ".concat(W.a.price)},t.price),r.a.createElement(p.CurrencyIcon,{type:"primary"})),r.a.createElement("p",{className:"text text_type_main-default ".concat(W.a.title)},t.name)))}var $=r.a.forwardRef(function(e,t){var a=e.listOfIngredients;return r.a.createElement("section",{id:e.titleId},r.a.createElement("h3",{className:"text text_type_main-medium"},e.ingredientName),r.a.createElement("ul",{className:"pl-4 pr-4 pb-10 pt-6 ".concat(z.a.list),ref:t},a.map(function(e,t){return r.a.createElement(Z,{ingredient:e,key:t})})))}),K=a(54),Y=a.n(K),ee=a(108),te=a.n(ee);function ae(e){var t=e.onOverlayClick;return r.a.createElement("div",{className:te.a.overlay,onClick:t})}var ne=document.querySelector("#modals");function re(e){var t=e.title,a=e.onClose,n=e.children;function c(){a()}function o(e){"Escape"===e.key&&c()}return r.a.useEffect(function(){return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}},[]),i.a.createPortal(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Y.a.modal},r.a.createElement("div",{className:"pt-10 pr-10 pl-10 ".concat(Y.a.header)},r.a.createElement("h3",{className:"text text_type_main-large ".concat(Y.a.title)},t),r.a.createElement("div",{onClick:function(){c()}},r.a.createElement(p.CloseIcon,{type:"primary"}))),n),r.a.createElement(ae,{onOverlayClick:c})),ne)}var ce=a(25),ie=a.n(ce);function oe(){var e=Object(u.i)().id,t=Object(s.c)(function(e){return e.allIngredients.items}).find(function(t){return t._id===e});return r.a.createElement("article",{className:ie.a.card},r.a.createElement("img",{className:ie.a.image,src:t.image_large}),r.a.createElement("h4",{className:"mt-4 mb-8 text text_type_main-medium"},t.name),r.a.createElement("ul",{className:"mb-15 ".concat(ie.a.nutritionalValue)},r.a.createElement("li",{className:"text text_type_main-default text_color_inactive ".concat(ie.a.component)},r.a.createElement("p",{className:ie.a.componentName},"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"),r.a.createElement("span",{className:"text_type_digits-default"},t.calories)),r.a.createElement("li",{className:"text text_type_main-default text_color_inactive ".concat(ie.a.component)},r.a.createElement("p",{className:ie.a.componentName},"\u0411\u0435\u043b\u043a\u0438, \u0433"),r.a.createElement("span",{className:"text_type_digits-default"},t.proteins)),r.a.createElement("li",{className:"text text_type_main-default text_color_inactive ".concat(ie.a.component)},r.a.createElement("p",{className:ie.a.componentName},"\u0416\u0438\u0440\u044b, \u0433"),r.a.createElement("span",{className:"text_type_digits-default"},t.fat)),r.a.createElement("li",{className:"text text_type_main-default text_color_inactive ".concat(ie.a.component)},r.a.createElement("p",{className:ie.a.componentName},"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"),r.a.createElement("span",{className:"text_type_digits-default"},t.carbohydrates))))}function se(){Object(s.b)();var e=r.a.useState("buns"),t=Object(h.a)(e,2),a=t[0],c=t[1];function i(e){c(e);var t=document.getElementById(e);t.scrollIntoView({behavior:"smooth",block:"start"}),console.log(t)}var o=Object(U.a)({threshold:.1}),l=Object(h.a)(o,2),u=l[0],m=l[1],d=Object(U.a)({threshold:.1}),_=Object(h.a)(d,2),f=_[0],g=_[1],E=Object(U.a)({threshold:.1}),b=Object(h.a)(E,2),O=b[0],v=b[1];Object(n.useEffect)(function(){m?c("buns"):g?c("sauces"):v&&c("mains")},[m,g,v]);var y=Object(s.c)(function(e){return e.allIngredients.items}),j=y.filter(function(e){return"bun"===e.type}),C=y.filter(function(e){return"sauce"===e.type}),k=y.filter(function(e){return"main"===e.type});Object(s.c)(function(e){return e.currentIngredient});return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:G.a.section},r.a.createElement("h2",{className:"text text_type_main-large mb-5 mt-10"},"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"),r.a.createElement("nav",{className:"mb-10 ".concat(G.a.menu)},r.a.createElement(p.Tab,{value:"buns",active:"buns"===a,onClick:i},"\u0411\u0443\u043b\u043a\u0438"),r.a.createElement(p.Tab,{value:"sauces",active:"sauces"===a,onClick:i},"\u0421\u043e\u0443\u0441\u044b"),r.a.createElement(p.Tab,{value:"mains",active:"mains"===a,onClick:i},"\u041d\u0430\u0447\u0438\u043d\u043a\u0438")),r.a.createElement("article",{className:G.a.ingredients},r.a.createElement($,{ingredientName:"\u0411\u0443\u043b\u043a\u0438",listOfIngredients:j,titleId:"buns",ref:u}),r.a.createElement($,{ingredientName:"\u0421\u043e\u0443\u0441\u044b",listOfIngredients:C,titleId:"sauces",ref:f}),r.a.createElement($,{ingredientName:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",listOfIngredients:k,titleId:"mains",ref:O}))))}var le=a(247),ue=a(33),me=a.n(ue),de=a(109),pe=a.n(de),_e=a(248),fe="REORDER_INGREDIENT",ge="ADD_TO_CONSTRUCTOR",he="DELETE_FROM_CONSTRUCTOR";function Ee(e){var t=e.item,a=e.index,c=Object(s.b)(),i=Object(n.useRef)(null),o=t.uId,l=Object(le.a)({accept:"fillings",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){if(i.current){var n=e.index,r=a;if(n!==r){var o=i.current.getBoundingClientRect(),s=(o.bottom-o.top)/2,l=t.getClientOffset().y-o.top;n<r&&l<s||n>r&&l>s||(c(function(e,t){return{type:fe,dragIndex:e,hoverIndex:t}}(n,r)),e.index=r)}}}}),u=Object(h.a)(l,2),m=u[0].handlerId,d=u[1],_=Object(V.a)({type:"fillings",item:function(){return{id:o,index:a}},collect:function(e){return{isDragging:e.isDragging()}}}),f=Object(h.a)(_,2),g=f[0].isDragging?0:1;return(0,f[1])(d(i)),r.a.createElement("li",{className:pe.a.element,draggable:!0,ref:i,"data-handler-id":m,style:{opacity:g}},r.a.createElement(p.DragIcon,{type:"primary"}),r.a.createElement(p.ConstructorElement,{text:t.name,price:t.price,thumbnail:t.image,handleClose:function(){return c(function(e,t){return{type:he,item:e,key:t}}(t,a))}}))}var be=a(44),Oe=a.n(be),ve=a(110),ye=a.n(ve);function je(e){var t=e.orderNumber;return r.a.createElement("article",{className:Oe.a.card},r.a.createElement("p",{className:"text text_type_digits-large ".concat(Oe.a.orderId)},t),r.a.createElement("span",{className:"mt-8 text text_type_main-medium"},"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"),r.a.createElement("img",{className:"mt-15 mb-15 ".concat(Oe.a.image),src:ye.a}),r.a.createElement("div",{className:"mb-30 ".concat(Oe.a.info)},r.a.createElement("p",{className:"text text_type_main-default"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"),r.a.createElement("p",{className:"text text_type_main-default text_color_inactive"},"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438")))}var Ce="GET_ORDER",ke="GET_ORDER_SUCCESS",xe="GET_ORDER_FAILED",Ne="CLOSE_ORDER";function Ie(){var e=Object(s.c)(function(e){return e.constructorIngredients.ingredients.fillings}),t=Object(s.c)(function(e){return e.constructorIngredients.ingredients.bun}),a=null===t?0:2*t.price,c=Object(s.c)(function(e){return e.order.isOrderRejected}),i=Object(s.c)(function(e){return e.order.isOrderModalClosed}),o=Object(s.c)(function(e){return e.order.number});var l=Object(s.b)(),m=Object(n.useMemo)(function(){return e.reduce(function(e,t){return e+t.price},a)},[e]),d=Object(le.a)({accept:"ingredient",drop:function(e){l(function(e){return{type:ge,item:e,uId:Object(_e.a)()}}(e))}}),_=Object(h.a)(d,2)[1],f=Object(s.c)(function(e){return e.auth}),g=f.isAuth,E=f.isAuthChecked,b=Object(u.g)();function O(){var a;!g&&E?b.replace({pathname:"/login"}):l((a=function(){var a=[];return null!==t&&a.push(t._id),e.forEach(function(e){a.push(e._id)}),null!==t&&a.push(t._id),a}(),function(e){e({type:Ce,isOrderModalClosed:!0,isOrderSent:!0,isOrderRejected:!1}),fetch("".concat(C,"/orders"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({ingredients:a})}).then(x).then(function(t){e({type:ke,isOrderModalClosed:!1,isOrderSent:!1,isOrderRejectedd:!1,number:t.order.number})}).catch(function(t){console.log(t,t.status),e({type:xe,isOrderModalClosed:!0,isOrderSent:!1,isOrderRejected:!0})})}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"".concat(me.a.section," pt-20")},r.a.createElement("article",{className:"".concat(me.a.compositionArea," pt-5"),ref:_},t&&r.a.createElement(p.ConstructorElement,{className:me.a.element,type:"top",isLocked:!0,text:"".concat(t.name," (\u0432\u0435\u0440\u0445)"),price:t.price,thumbnail:t.image}),r.a.createElement("ul",{className:me.a.compositionChangebleList},e&&e.map(function(e,t){return r.a.createElement(Ee,{item:e,index:t,key:e.uId})})),t&&r.a.createElement(p.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(t.name," (\u043d\u0438\u0437)"),price:t.price,thumbnail:t.image})),r.a.createElement("article",{className:"mt-10 ".concat(me.a.info)},r.a.createElement("div",{className:me.a.priceArea},r.a.createElement("p",{className:"text text_type_digits-medium"},m),r.a.createElement("div",{className:me.a.currentIcon},r.a.createElement(p.CurrencyIcon,{type:"primary"}))),r.a.createElement(p.Button,{type:"primary",size:"large",onClick:function(){O()}},"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"))),!c&&!i&&r.a.createElement(re,{title:"",onClose:function(){return l({type:Ne,isOrderModalClosed:!0,number:null})}},r.a.createElement(je,{orderNumber:o})))}function Se(){console.log("Constructor Page");var e=Object(s.c)(function(e){return e.allIngredients}),t=e.isLoading,a=e.isFailed,n=Object(s.c)(function(e){return e.allIngredients.items});return r.a.createElement("main",{className:P.a.main},r.a.createElement(w.a,{backend:F.a},t&&r.a.createElement("p",{className:"text text_type_main-medium"},"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435..."),a&&r.a.createElement("p",{className:"text text_type_main-medium"},"\u041d\u0435 \u0443\u0434\u0430\u0451\u0442\u0441\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443"),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null),r.a.createElement(Ie,null))))}var Te="REGISTER",Re="REGISTER_SUCCESS",Le="REGISTER_FAILED";function Ae(){var e=Object(s.c)(function(e){return e.auth}).user,t=r.a.useState(""),a=Object(h.a)(t,2),c=a[0],i=a[1],o=r.a.useState(""),l=Object(h.a)(o,2),m=l[0],d=l[1],_=r.a.useState(""),f=Object(h.a)(_,2),g=f[0],E=f[1],O=r.a.useRef(null),v=Object(s.b)(),y=Object(u.g)(),j=Object(n.useCallback)(function(){y.replace({pathname:"/login"})},[y]);return e?(console.log("Redirect"),r.a.createElement(u.a,{to:{pathname:"/"}})):r.a.createElement("main",{className:b.a.main},r.a.createElement("h1",{className:"text text_type_main-medium"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("form",{className:b.a.form,action:""},r.a.createElement("fieldset",{className:b.a.fieldset},r.a.createElement(p.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return i(e.target.value)},icon:"CurrencyIcon",value:c,name:"name",error:!1,ref:O,onIconClick:function(){},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),r.a.createElement(p.EmailInput,{onChange:function(e){return d(e.target.value)},value:m,name:"email"}),r.a.createElement(p.PasswordInput,{onChange:function(e){return E(e.target.value)},value:g,name:"password"})),r.a.createElement(p.Button,{type:"primary",size:"medium",onClick:function(e){var t,a,n;e.preventDefault(),v((t=c,a=m,n=g,console.log(t,a,n),function(e){e({type:Te,isLoading:!0,isFailed:!1,isAuth:!1}),fetch("".concat(C,"/auth/register"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({email:a,password:n,name:t})}).then(x).then(function(t){return e({type:Re,isLoading:!1,isFailed:!1,user:t.user,accessToken:t.accessToken,refreshToken:t.refreshToken,isAuth:!0})}).catch(function(t){return e({type:Le,isLoading:!1,isFailed:!0,isAuth:!1})})}))}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement("div",{className:b.a.additional_actions},r.a.createElement("div",{className:b.a.additional_action},r.a.createElement("p",{className:"text text_type_main-default text_color_inactive"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(p.Button,{type:"secondary",size:"medium",onClick:j},"\u0412\u043e\u0439\u0442\u0438"))))}var we="RECOVER_PASSWORD",Fe="RECOVER_PASSWORD_SUCCESS",De="RECOVER_PASSWORD_FAILED",Pe="RESET_PASSWORD",Ue="RESET_PASSWORD_SUCCESS",Be="RESET_PASSWORD_FAILED";function Ge(e){return console.log("Recover password"),function(t){t({type:we}),fetch("".concat(C,"/password-reset"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:e})}).then(x).then(function(e){return t({type:Fe})}).catch(function(e){return t({type:De})})}}function Me(e,t){return function(a){a({type:Pe}),fetch("".concat(C,"/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({password:e,token:t})}).then(x).then(function(e){return a({type:Ue})}).catch(function(e){return a({type:Be})})}}function ze(){var e=Object(s.c)(function(e){return e.auth}).user,t=r.a.useState(""),a=Object(h.a)(t,2),c=a[0],i=a[1],o=r.a.useRef(null),l=Object(n.useState)(!0),m=Object(h.a)(l,2),d=m[0],_=m[1];var f=Object(u.g)(),g=Object(s.b)(),E=Object(u.h)(),O=Object(n.useCallback)(function(){f.replace({pathname:"/login"})},[f]);return e?(console.log("Redirect"),r.a.createElement(u.a,{to:{pathname:"/"}})):r.a.createElement("main",{className:b.a.main},r.a.createElement("h1",{className:"text text_type_main-medium"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),r.a.createElement("form",{className:b.a.form,action:""},r.a.createElement("fieldset",{className:b.a.fieldset},r.a.createElement(p.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",onChange:function(e){i(e.target.value),k.test(c)?_(!1):_(!0)},icon:"EditIcon",value:c,name:"name",error:!1,ref:o,onIconClick:function(){},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})),r.a.createElement(p.Button,{type:"primary",size:"medium",onClick:function(e){e.preventDefault(),Object(j.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Ge(c));case 2:console.log("test"),f.replace({pathname:"/reset-password",state:{from:E}});case 4:case"end":return e.stop()}},e)}))()},disabled:d},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c")),r.a.createElement("div",{className:b.a.additional_actions},r.a.createElement("div",{className:b.a.additional_action},r.a.createElement("p",{className:"text text_type_main-default text_color_inactive"},"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),r.a.createElement(p.Button,{type:"secondary",size:"medium",onClick:O},"\u0412\u043e\u0439\u0442\u0438"))))}function Je(){var e=Object(s.c)(function(e){return e.auth}).user;console.log(e);var t=r.a.useState(""),a=Object(h.a)(t,2),c=a[0],i=a[1],o=r.a.useState(""),l=Object(h.a)(o,2),m=l[0],d=l[1],_=r.a.useRef(null),f=function(){},g=Object(s.b)(),E=Object(u.g)(),O=(Object(u.h)().state||{from:{pathname:"/"}}).from;if("/forgot-password"!==O.pathname)return console.log("Redirect"),r.a.createElement(u.a,{to:O});var y=Object(n.useCallback)(function(){E.replace({pathname:"/login"})},[E]);return e?(console.log("Redirect"),r.a.createElement(u.a,{to:{pathname:"/"}})):r.a.createElement("main",{className:b.a.main},r.a.createElement("h1",{className:"text text_type_main-medium"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"),r.a.createElement("form",{className:b.a.form,action:""},r.a.createElement("fieldset",{className:b.a.fieldset},r.a.createElement(p.Input,{type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return i(e.target.value)},icon:"ShowIcon",value:c,name:"name",error:!1,ref:_,onIconClick:f,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"}),r.a.createElement(p.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:function(e){return d(e.target.value)},icon:"EditIcon",value:m,name:"name",error:!1,ref:_,onIconClick:f,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})),r.a.createElement(p.Button,{type:"primary",size:"medium",onClick:function(e){e.preventDefault(),Object(j.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Me(c,m));case 2:console.log("test 2"),E.replace({pathname:"/profile"});case 4:case"end":return e.stop()}},e)}))()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),r.a.createElement("div",{className:b.a.additional_actions},r.a.createElement("div",{className:b.a.additional_action},r.a.createElement("p",{className:"text text_type_main-default text_color_inactive"},"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),r.a.createElement(p.Button,{type:"secondary",size:"medium",onClick:y},"\u0412\u043e\u0439\u0442\u0438"))))}var qe=a(56),Xe=a.n(qe),Ve=a(26),Qe=a.n(Ve),We="LOGOUT",He="LOGOUT_SUCCESS",Ze="LOGOUT_FAILED";function $e(){var e=Object(u.g)(),t=Object(s.b)(),a=function(){var e=Object(j.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(function(e){e({type:We,isLogoutChecked:!1}),fetch("".concat(C,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.getItem("refreshToken")})}).then(x).then(function(t){console.log(t),e({type:He,user:null,accessToken:null,isAuth:!1,isAuthChecked:!0,isLogoutChecked:!0})}).catch(function(t){console.log(t),e({type:Ze,isLogoutChecked:!0})})});case 2:console.log(I("token"));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:Qe.a.menu},r.a.createElement("nav",null,r.a.createElement("ul",{className:Qe.a.nav_list},r.a.createElement("li",{className:"".concat(Qe.a.nav_element)},r.a.createElement(l.c,{to:"/profile",exact:!0,className:"text text_type_main-medium ".concat(Qe.a.nav_link),activeClassName:Qe.a.active_nav_link},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("li",{className:"".concat(Qe.a.nav_element)},r.a.createElement(l.c,{to:"/profile/orders",exact:!0,className:"text text_type_main-medium ".concat(Qe.a.nav_link),activeClassName:Qe.a.active_nav_link},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432")),r.a.createElement("li",{className:"".concat(Qe.a.nav_element)},r.a.createElement("button",{className:"text text_type_main-medium ".concat(Qe.a.nav_button),onClick:function(){console.log("Exit click"),a().then(function(){N("token",null,{expires:-1}),e.replace({pathname:"/login"})})}},"\u0412\u044b\u0445\u043e\u0434")))),r.a.createElement("p",{className:"".concat(Qe.a.info," text text_type_main-default text_color_inactive")},"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"))}console.log(I("token"));var Ke="GET_USER",Ye="GET_USER_SUCCESS",et="GET_USER_FAILED",tt="EDIT_USER",at="EDIT_USER_SUCCESS",nt="EDIT_USER_FAILED";function rt(e){return console.log(e),function(t){t({type:tt}),S("".concat(C,"/auth/user"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+I("token")},body:JSON.stringify(e)}).then(function(e){return t({type:at,user:e.user})}).catch(function(e){return t({type:nt})})}}function ct(){var e=Object(s.c)(function(e){return e.auth.user.name}),t=Object(s.c)(function(e){return e.auth.user.email}),a=r.a.useState(e),c=Object(h.a)(a,2),i=c[0],o=c[1],l=r.a.useState(t),u=Object(h.a)(l,2),m=u[0],d=u[1],_=r.a.useState(""),f=Object(h.a)(_,2),g=f[0],E=f[1],O=r.a.useRef(null),y=function(){q(!0)},C=Object(n.useState)(!1),x=Object(h.a)(C,2),N=x[0],I=x[1],S=Object(n.useState)(!1),T=Object(h.a)(S,2),R=T[0],L=T[1],A=Object(n.useState)(!1),w=Object(h.a)(A,2),F=w[0],D=w[1],P=Object(n.useState)(!1),U=Object(h.a)(P,2),B=U[0],G=U[1],M=Object(n.useState)(!1),z=Object(h.a)(M,2),J=z[0],q=z[1],X=Object(s.b)();function V(){i.length>=2&&i.length<21?I(!1):(I(!0),G(!0))}function Q(){k.test(m)?L(!1):(L(!0),G(!0))}function W(){g.length>=8&&g.length<21?D(!1):(D(!0),G(!0))}function H(){L(!1)}function Z(){I(!1)}function $(){D(!1)}Object(n.useEffect)(function(){G(!!(N||R||F))},[N,R,F]);var K=function(){var e=Object(j.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(rt(t));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),V(),Q(),W(),a={name:i,email:m,password:g},console.log(a),K(a).then(function(){q(!1),console.log("Edit User")});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:Xe.a.main},r.a.createElement($e,null),r.a.createElement("form",{className:b.a.form,action:""},r.a.createElement("fieldset",{className:b.a.fieldset},r.a.createElement(p.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){q(!0),o(e.target.value)},onFocus:Z,onBlur:V,icon:"EditIcon",value:i,name:"name",error:N,ref:O,onIconClick:y,errorText:"\u0414\u043b\u0438\u043d\u0430 \u0438\u043c\u0435\u043d\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0442 2 \u0434\u043e 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",size:"default"}),r.a.createElement(p.Input,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:function(e){q(!0),d(e.target.value)},onFocus:H,onBlur:Q,icon:"EditIcon",value:m,name:"email",error:R,ref:O,onIconClick:y,errorText:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b",size:"default"}),r.a.createElement(p.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){q(!0),E(e.target.value)},onFocus:$,onBlur:W,icon:"EditIcon",value:g,name:"name",error:F,ref:O,onIconClick:y,errorText:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 8 \u0434\u043e 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",size:"default",required:!1})),r.a.createElement("div",{className:"".concat(Xe.a.buttons_wrapper," ").concat(J?Xe.a.buttons_wrapper_visible:null)},r.a.createElement(p.Button,{type:"secondary",size:"medium",onClick:function(a){if(a.preventDefault(),H(),Z(),$(),B)return null;o(e),d(t),E(""),q(!1)}},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(p.Button,{type:"primary",size:"medium",onClick:Y,disabled:B},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))}var it=a(112),ot=a.n(it);function st(){return console.log("Orders page"),r.a.createElement("main",{className:ot.a.main},r.a.createElement($e,null),r.a.createElement("div",{style:{width:"480px"}},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"))}function lt(){var e=Object(s.c)(function(e){return e.allIngredients.items}),t=Object(u.g)(),a=Object(n.useCallback)(function(){t.replace({pathname:"/"})},[t]),c=Object(u.h)();return e?void 0!==c.state&&"/"===c.state.prevPath?r.a.createElement(re,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onClose:a},r.a.createElement(oe,null)):r.a.createElement("main",null,r.a.createElement(oe,null)):r.a.createElement("p",{className:"text text_type_main-medium"},"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435...")}var ut=a(57),mt=a.n(ut);function dt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:mt.a.main},r.a.createElement("h1",{className:"text text_type_main-large ".concat(mt.a.title)},"\u041e\u0443\u0443\u0443, \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434",r.a.createElement("span",null,"\ud83c\udf20")),r.a.createElement("a",{className:mt.a.rights_link,href:"https://ru.freepik.com/photos/background"},"Background \u0444\u043e\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043d(\u0430) kjpargeter - ru.freepik.com")))}var pt="GET_ALL_INGREDIENTS",_t="GET_ALL_INGREDIENTS_SUCCESS",ft="GET_ALL_INGREDIENTS_FAILED";var gt=function(){var e=Object(s.b)();console.log(I("token"));var t=Object(s.c)(function(e){return e.allIngredients.items});return console.log(t),Object(n.useEffect)(function(){e(function(e){e({type:pt,isLoading:!0,isFailed:!1}),fetch("".concat(C,"/ingredients")).then(x).then(function(t){e({type:_t,isLoading:!1,isFailed:!1,items:t.data})}).catch(function(t){return e({type:ft,isLoading:!1,isFailed:!0})})}),console.log(t)},[]),Object(n.useEffect)(function(){e(function(e){e({type:Ke,isAuth:!1,isAuthChecked:!1}),S("".concat(C,"/auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+I("token")}}).then(function(t){return e({type:Ye,user:t.user,isAuth:!0,isAuthChecked:!0,isLogoutChecked:!0})}).catch(function(t){return e({type:et,isAuth:!1,isAuthChecked:!0,isLogoutChecked:!0})})})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(_,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0},r.a.createElement(Se,null)),r.a.createElement(u.b,{path:"/login",exact:!0},r.a.createElement(A,null)),r.a.createElement(u.b,{path:"/register"},r.a.createElement(Ae,null)),r.a.createElement(u.b,{path:"/forgot-password"},r.a.createElement(ze,null)),r.a.createElement(u.b,{path:"/reset-password"},r.a.createElement(Je,null)),r.a.createElement(g,{path:"/profile",exact:!0},r.a.createElement(ct,null)),r.a.createElement(g,{path:"/profile/orders",exact:!0},r.a.createElement(st,null)),r.a.createElement(u.b,{path:"/ingredients/:id",exact:!0},r.a.createElement(lt,null)),r.a.createElement(u.b,null,r.a.createElement(dt,null)))))},ht=a(114),Et=a(32),bt={isLoading:!1,isFailed:!1,items:null},Ot={isOrderModalClosed:!0,isOrderSent:!1,isOrderRejected:!1,number:null},vt=a(29),yt=a(113),jt=a.n(yt),Ct={ingredients:{bun:null,fillings:[]},ingredientsCount:[]},kt={isLoading:!1,isFailed:!1,user:null,accessToken:null,isAuth:!1,isAuthChecked:!1,isLogoutChecked:!1},xt=Object(Et.b)({allIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return Object(y.a)({},e,{isLoading:t.isLoading,isFailed:t.isFailed});case _t:return Object(y.a)({},e,{isLoading:t.isLoading,isFailed:t.isFailed,items:t.items});case ft:return Object(y.a)({},e,{isLoading:t.isLoading,isFailed:t.isFailed});default:return e}},currentIngredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return null===t.item?null:Object(y.a)({},e,{id:t.item._id,name:t.item.name,type:t.item.type,proteins:t.item.proteins,fat:t.item.fat,carbohydrates:t.item.carbohydrates,calories:t.item.calories,price:t.item.orice,image:t.item.image,image_mobile:t.item.image_mobile,image_large:t.item.image_large,__v:t.item.__v});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(y.a)({},e,{isOrderModalClosed:t.isOrderModalClosed,isOrderSent:t.isOrderSent,isOrderRejected:t.isOrderRejected});case ke:return Object(y.a)({},e,{isOrderModalClosed:t.isOrderModalClosed,isOrderSent:t.isOrderSent,isOrderRejected:t.isOrderRejected,number:t.number});case xe:return Object(y.a)({},e,{isOrderModalClosed:t.isOrderModalClosed,isOrderSent:t.isOrderSent,isOrderRejected:t.isOrderRejected});case Ne:return Object(y.a)({},e,{isOrderModalClosed:t.isOrderModalClosed,number:t.number});default:return e}},constructorIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:var a=Object(vt.a)(e.ingredientsCount),n=a.findIndex(function(e){return e.itemId===t.item._id}),r=a[n];return-1===n?a.push({itemId:t.item._id,count:1}):a.splice(n,1,{itemId:r.itemId,count:r.count+1}),Object(y.a)({},e,{ingredients:"bun"===t.item.type?{bun:t.item,fillings:Object(vt.a)(e.ingredients.fillings)}:Object(y.a)({},e.ingredients,{fillings:[].concat(Object(vt.a)(e.ingredients.fillings),[Object(y.a)({},t.item,{uId:t.uId})])}),ingredientsCount:"bun"===t.item.type?Object(vt.a)(e.ingredientsCount):a});case he:var c=Object(vt.a)(e.ingredients.fillings);c.splice(t.key,1);var i=Object(vt.a)(e.ingredientsCount),o=i.findIndex(function(e){return e.itemId===t.item._id}),s=i[o];return 1===s.count?i.splice(o,1):i.splice(o,1,{itemId:s.itemId,count:s.count-1}),Object(y.a)({},e,{ingredients:Object(y.a)({},e.ingredients,{fillings:c}),ingredientsCount:i});case fe:return Object(y.a)({},e,{ingredients:Object(y.a)({},e.ingredients,{fillings:jt()(e.ingredients.fillings,{$splice:[[t.dragIndex,1],[t.hoverIndex,0,e.ingredients.fillings[t.dragIndex]]]})})});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(y.a)({},e,{isLoading:t.isLoading,isFailed:t.isFailed,isAuth:t.isAuth});case Re:return localStorage.setItem("refreshToken",t.refreshToken),N("token",t.accessToken.split("Bearer ")[1]),console.log(I("token")),Object(y.a)({},e,{isLoading:t.isLoading,isFailed:t.isFailed,user:t.user,accessToken:t.accessToken,isAuth:t.isAuth});case Le:case T:return Object(y.a)({},e,{isLoading:t.isLoading,isFailed:t.isFailed,isAuth:t.isAuth});case R:return N("token",t.accessToken.split("Bearer ")[1]),localStorage.setItem("refreshToken",t.refreshToken),Object(y.a)({},e,{isLoading:t.isLoading,isFailed:t.isFailed,user:t.user,accessToken:t.accessToken,isAuth:t.isAuth,isLogoutChecked:t.isLogoutChecked});case L:return Object(y.a)({},e,{isLoading:t.isLoading,isFailed:t.isFailed,isAuth:t.isAuth,isLogoutChecked:t.isLogoutChecked});case we:return console.log("1"),Object(y.a)({},e);case Fe:return console.log("Recover success"),Object(y.a)({},e);case De:return console.log("Recover failed"),Object(y.a)({},e);case Pe:case Ue:case Be:return Object(y.a)({},e);case Ke:return Object(y.a)({},e,{isAuth:t.isAuth,isAuthChecked:t.isAuthChecked});case Ye:return console.log("Get user"),Object(y.a)({},e,{user:t.user,isAuth:t.isAuth,isAuthChecked:t.isAuthChecked,isLogoutChecked:t.isLogoutChecked});case et:return Object(y.a)({},e,{isAuth:t.isAuth,isAuthChecked:t.isAuthChecked,isLogoutChecked:t.isLogoutChecked});case tt:return Object(y.a)({},e);case at:return Object(y.a)({},e,{user:t.user});case nt:return Object(y.a)({},e);case We:return Object(y.a)({},e,{isLogoutChecked:t.isLogoutChecked});case He:return Object(y.a)({},e,{user:t.user,accessToken:t.accessToken,isAuth:t.isAuth,isAuthChecked:t.isAuthChecked,isLogoutChecked:t.isLogoutChecked});case Ze:return Object(y.a)({},e,{isLogoutChecked:t.isLogoutChecked});default:return e}}}),Nt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Et.c)(Object(Et.a)(ht.a)),It=Object(Et.d)(xt,Nt);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:It},r.a.createElement(gt,null))),document.getElementById("root")),o()},25:function(e,t,a){e.exports={card:"ingredient-details_card__1uGau",image:"ingredient-details_image__1gJT6",nutritionalValue:"ingredient-details_nutritionalValue__2VXlS",component:"ingredient-details_component__h2iHZ",componentName:"ingredient-details_componentName__1obsM"}},26:function(e,t,a){e.exports={menu:"profile-menu_menu__1lTJO",nav_list:"profile-menu_nav_list__2rSE3",nav_element:"profile-menu_nav_element__2HwXo",nav_link:"profile-menu_nav_link__21S-5",active_nav_link:"profile-menu_active_nav_link__RrhjD",nav_button:"profile-menu_nav_button__2xYcm",info:"profile-menu_info__1dqSP"}},30:function(e,t,a){e.exports={header:"app-header_header__3aP_-",menu:"app-header_menu__BYcXU",menuLeftColumn:"app-header_menuLeftColumn__1efEX",logo:"app-header_logo__3FgJz",link:"app-header_link__JBl_Q",active_nav_link:"app-header_active_nav_link__k6UU1"}},33:function(e,t,a){e.exports={section:"burger-constructor_section__1Oj45",compositionArea:"burger-constructor_compositionArea__ZJMAt",compositionChangebleList:"burger-constructor_compositionChangebleList__iML4F burger-constructor_compositionArea__ZJMAt",info:"burger-constructor_info__3KXnR",priceArea:"burger-constructor_priceArea__wz5I3",currentIcon:"burger-constructor_currentIcon__2Jfmy"}},37:function(e,t,a){e.exports={card:"draggable-ingredient_card__22tkQ",link:"draggable-ingredient_link__3bQE4",image:"draggable-ingredient_image__1m-FI",priceArea:"draggable-ingredient_priceArea__3AhhM",price:"draggable-ingredient_price__1BTka",title:"draggable-ingredient_title__3f5eQ"}},44:function(e,t,a){e.exports={card:"order-details_card__5QrrG",orderId:"order-details_orderId__Gi4mV",image:"order-details_image__16IXB",info:"order-details_info__m5bOg"}},53:function(e,t,a){e.exports={section:"burger-ingredients_section__3F4Wu",menu:"burger-ingredients_menu__1eRvv",ingredients:"burger-ingredients_ingredients__3U86K"}},54:function(e,t,a){e.exports={modal:"modal_modal__3B1Cq",header:"modal_header__3F4Ga",title:"modal_title__2uJj5",someContainer:"modal_someContainer__3i7LI"}},56:function(e,t,a){e.exports={main:"profile-page_main__1MRdP",buttons_wrapper:"profile-page_buttons_wrapper__jld7X",buttons_wrapper_visible:"profile-page_buttons_wrapper_visible__2C3bv"}},57:function(e,t,a){e.exports={main:"not-found-page_main__1GN0c",title:"not-found-page_title__15PMT",cover_image:"not-found-page_cover_image__3QmoR",rights_link:"not-found-page_rights_link__MJLTk"}},9:function(e,t,a){e.exports={main:"inputs-pages_main__gINzV",form:"inputs-pages_form__1eMjc",fieldset:"inputs-pages_fieldset__1zPkX",additional_actions:"inputs-pages_additional_actions__tuMEw",additional_action:"inputs-pages_additional_action__2ANpo"}}},[[118,3,2]]]);
//# sourceMappingURL=main.4e259a55.chunk.js.map